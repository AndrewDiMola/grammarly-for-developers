/**
 * @license
 * (c) Copyright 2021 Grammarly, Inc.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){"use strict";var t={};!function(e){function t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(e,t,n){this.props=e,this.context=t,this.refs=U,this.updater=n||H}function r(){}function i(e,t,n){this.props=e,this.context=t,this.refs=U,this.updater=n||H}function o(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)G.call(t,r)&&!q.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:C,type:e,key:o,ref:a,props:i,_owner:W.current}}function a(e){return"object"==typeof e&&null!==e&&e.$$typeof===C}function s(e,t,n,r){if(K.length){var i=K.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>K.length&&K.push(e)}function c(e,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case C:case k:a=!0}}if(a)return r(i,e,""===n?"."+f(e,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var u=n+f(o=e[s],s);a+=c(o,u,r,i)}else if(null===e||"object"!=typeof e?u=null:u="function"==typeof(u=D&&e[D]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)a+=c(o=o.value,u=n+f(o,s++),r,i);else if("object"===o)throw r=""+e,Error(t(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return a}function l(e,t,n){return null==e?0:c(e,"",t,n)}function f(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function d(e,t,n){e.func.call(e.context,t,e.count++)}function h(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?p(e,r,n,(function(e){return e})):null!=e&&(a(e)&&(e=function(e,t){return{$$typeof:C,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace($,"$&/")+"/")+n)),r.push(e))}function p(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace($,"$&/")+"/"),l(e,h,t=s(t,o,r,i)),u(t)}function g(){var e=Y.current;if(null===e)throw Error(t(321));return e}function m(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function v(e){return void 0===(e=e[0])?null:e}function y(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>_(a,n))void 0!==u&&0>_(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function b(e){for(var t=v(ye);null!==t;){if(null===t.callback)y(ye);else{if(!(t.startTime<=e))break;y(ye),t.sortIndex=t.expirationTime,m(ve,t)}t=v(ye)}}function w(e){if(Ee=!1,b(e),!xe)if(null!==v(ve))xe=!0,te(S);else{var t=v(ye);null!==t&&ne(w,t.startTime-e)}}function S(e,t){xe=!1,Ee&&(Ee=!1,re()),Se=!0;var n=we;try{for(b(t),be=v(ve);null!==be&&(!(be.expirationTime>t)||e&&!ie());){var r=be.callback;if(null!==r){be.callback=null,we=be.priorityLevel;var i=r(be.expirationTime<=t);t=ee(),"function"==typeof i?be.callback=i:be===v(ve)&&y(ve),b(t)}else y(ve);be=v(ve)}if(null!==be)var o=!0;else{var a=v(ye);null!==a&&ne(w,a.startTime-t),o=!1}return o}finally{be=null,we=n,Se=!1}}function x(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var E="function"==typeof Symbol&&Symbol.for,C=E?Symbol.for("react.element"):60103,k=E?Symbol.for("react.portal"):60106,T=E?Symbol.for("react.fragment"):60107,I=E?Symbol.for("react.strict_mode"):60108,O=E?Symbol.for("react.profiler"):60114,N=E?Symbol.for("react.provider"):60109,A=E?Symbol.for("react.context"):60110,R=E?Symbol.for("react.forward_ref"):60112,P=E?Symbol.for("react.suspense"):60113,L=E?Symbol.for("react.memo"):60115,M=E?Symbol.for("react.lazy"):60116,D="function"==typeof Symbol&&Symbol.iterator,F=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,j=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;var t={};for(e=0;10>e;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");for(var n,r=Object(e),i=1;i<arguments.length;i++){var o=Object(arguments[i]);for(var a in o)z.call(o,a)&&(r[a]=o[a]);if(F){n=F(o);for(var s=0;s<n.length;s++)B.call(o,n[s])&&(r[n[s]]=o[n[s]])}}return r},H={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){},enqueueReplaceState:function(e,t,n,r){},enqueueSetState:function(e,t,n,r){}},U={};n.prototype.isReactComponent={},n.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(t(85));this.updater.enqueueSetState(this,e,n,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},r.prototype=n.prototype,(E=i.prototype=new r).constructor=i,j(E,n.prototype),E.isPureReactComponent=!0;var V,W={current:null},G=Object.prototype.hasOwnProperty,q={key:!0,ref:!0,__self:!0,__source:!0},$=/\/+/g,K=[],Y={current:null};if("undefined"==typeof window||"function"!=typeof MessageChannel){var Q=null,J=null,Z=function e(){if(null!==Q)try{var t=ee();Q(!0,t),Q=null}catch(t){throw setTimeout(e,0),t}},X=Date.now(),ee=function(){return Date.now()-X},te=function(e){null!==Q?setTimeout(te,0,e):(Q=e,setTimeout(Z,0))},ne=function(e,t){J=setTimeout(e,t)},re=function(){clearTimeout(J)},ie=function(){return!1};E=V=function(){}}else{var oe=window.performance,ae=window.Date,se=window.setTimeout,ue=window.clearTimeout;if("undefined"!=typeof console&&(E=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof oe&&"function"==typeof oe.now)ee=function(){return oe.now()};else{var ce=ae.now();ee=function(){return ae.now()-ce}}var le=!1,fe=null,de=-1,he=5,pe=0;ie=function(){return ee()>=pe},E=function(){},V=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):he=0<e?Math.floor(1e3/e):5};var ge=new MessageChannel,me=ge.port2;ge.port1.onmessage=function(){if(null!==fe){var e=ee();pe=e+he;try{fe(!0,e)?me.postMessage(null):(le=!1,fe=null)}catch(e){throw me.postMessage(null),e}}else le=!1},te=function(e){fe=e,le||(le=!0,me.postMessage(null))},ne=function(e,t){de=se((function(){e(ee())}),t)},re=function(){ue(de),de=-1}}var ve=[],ye=[],_e=1,be=null,we=3,Se=!1,xe=!1,Ee=!1,Ce=0;j(ge={ReactCurrentDispatcher:Y,ReactCurrentOwner:W,IsSomeRendererActing:{current:!1},assign:j},{Scheduler:{__proto__:null,unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=we;we=e;try{return t()}finally{we=n}},unstable_next:function(e){switch(we){case 1:case 2:case 3:var t=3;break;default:t=we}var n=we;we=t;try{return e()}finally{we=n}},unstable_scheduleCallback:function(e,t,n){var r=ee();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:x(e)}else n=x(e),i=r;return e={id:_e++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},i>r?(e.sortIndex=i,m(ye,e),null===v(ve)&&e===v(ye)&&(Ee?re():Ee=!0,ne(w,i-r))):(e.sortIndex=n,m(ve,e),xe||Se||(xe=!0,te(S))),e},unstable_cancelCallback:function(e){e.callback=null},unstable_wrapCallback:function(e){var t=we;return function(){var n=we;we=t;try{return e.apply(this,arguments)}finally{we=n}}},unstable_getCurrentPriorityLevel:function(){return we},unstable_shouldYield:function(){var e=ee();b(e);var t=v(ve);return t!==be&&null!==be&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<be.expirationTime||ie()},unstable_requestPaint:E,unstable_continueExecution:function(){xe||Se||(xe=!0,te(S))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return v(ve)},get unstable_now(){return ee},get unstable_forceFrameRate(){return V},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,unstable_clear:function(e){return e()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Ce},unstable_trace:function(e,t,n){return n()},unstable_wrap:function(e){return e},unstable_subscribe:function(e){},unstable_unsubscribe:function(e){}}}),e.Children={map:function(e,t,n){if(null==e)return e;var r=[];return p(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;l(e,d,t=s(null,null,t,n)),u(t)},count:function(e){return l(e,(function(){return null}),null)},toArray:function(e){var t=[];return p(e,t,null,(function(e){return e})),t},only:function(e){if(!a(e))throw Error(t(143));return e}},e.Component=n,e.Fragment=T,e.Profiler=O,e.PureComponent=i,e.StrictMode=I,e.Suspense=P,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,e.cloneElement=function(e,n,r){if(null==e)throw Error(t(267,e));var i=j({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=W.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in n)G.call(n,c)&&!q.hasOwnProperty(c)&&(i[c]=void 0===n[c]&&void 0!==u?u[c]:n[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:C,type:e.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:A,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:N,_context:e},e.Consumer=e},e.createElement=o,e.createFactory=function(e){var t=o.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:R,render:e}},e.isValidElement=a,e.lazy=function(e){return{$$typeof:M,_ctor:e,_status:-1,_result:null}},e.memo=function(e,t){return{$$typeof:L,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return g().useCallback(e,t)},e.useContext=function(e,t){return g().useContext(e,t)},e.useDebugValue=function(e,t){},e.useEffect=function(e,t){return g().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return g().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return g().useLayoutEffect(e,t)},e.useMemo=function(e,t){return g().useMemo(e,t)},e.useReducer=function(e,t,n){return g().useReducer(e,t,n)},e.useRef=function(e){return g().useRef(e)},e.useState=function(e){return g().useState(e)},e.version="16.13.0"}(t);var{Children:n,Component:r,Fragment:i,Profiler:o,PureComponent:a,StrictMode:s,Suspense:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:c,cloneElement:l,createContext:f,createElement:d,createFactory:h,createRef:p,forwardRef:g,isValidElement:m,lazy:v,memo:y,useCallback:_,useContext:b,useDebugValue:w,useEffect:S,useImperativeHandle:x,useLayoutEffect:E,useMemo:C,useReducer:k,useRef:T,useState:I,version:O}=t,N={};!function(e,t){function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e,t,n,r,i,o,a,s,u){li=!1,fi=null,ci.apply(pi,arguments)}function i(e,t,i){var o=e.type||"unknown-event";e.currentTarget=vi(i),function(e,t,i,o,a,s,u,c,l){if(r.apply(this,arguments),li){if(!li)throw Error(n(198));var f=fi;li=!1,fi=null,di||(di=!0,hi=f)}}(o,t,void 0,e),e.currentTarget=null}function o(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Mi&&e[Mi]||e["@@iterator"])?e:null}function a(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case xi:return"Fragment";case Si:return"Portal";case Ci:return"Profiler";case Ei:return"StrictMode";case Ni:return"Suspense";case Ai:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ti:return"Context.Consumer";case ki:return"Context.Provider";case Oi:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Ri:return a(e.type);case Li:return a(e.render);case Pi:if(e=1===e._status?e._result:null)return a(e)}return null}function s(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=a(e.type);n=null,r&&(n=a(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(_i,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function u(){if(Di)for(var e in Fi){var t=Fi[e],r=Di.indexOf(e);if(!(-1<r))throw Error(n(96,e));if(!zi[r]){if(!t.extractEvents)throw Error(n(97,e));for(var i in zi[r]=t,r=t.eventTypes){var o=void 0,a=r[i],s=t,u=i;if(Bi.hasOwnProperty(u))throw Error(n(99,u));Bi[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(n(98,i,e))}}}}function c(e,t,r){if(ji[e])throw Error(n(100,e));ji[e]=t,Hi[e]=t.eventTypes[r].dependencies}function l(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!Fi.hasOwnProperty(t)||Fi[t]!==i){if(Fi[t])throw Error(n(102,t));Fi[t]=i,r=!0}}r&&u()}function f(e){if(e=mi(e)){if("function"!=typeof Wi)throw Error(n(280));var t=e.stateNode;t&&(t=gi(t),Wi(e.stateNode,e.type,t))}}function d(e){Gi?qi?qi.push(e):qi=[e]:Gi=e}function h(){if(Gi){var e=Gi,t=qi;if(qi=Gi=null,f(e),t)for(e=0;e<t.length;e++)f(t[e])}}function p(){null===Gi&&null===qi||(Yi(),h())}function g(e,t,n){if(Zi)return e(t,n);Zi=!0;try{return Qi(e,t,n)}finally{Zi=!1,p()}}function m(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function v(e,t,n,r){var i=vo.hasOwnProperty(t)?vo[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!po.call(mo,e)||!po.call(go,e)&&(ho.test(e)?mo[e]=!0:(go[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function b(e){e._valueTracker||(e._valueTracker=function(e){var t=_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function w(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function S(e,t){var n=t.checked;return Vi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function x(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function E(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function C(e,t){E(e,t);var n=y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?T(e,t.type,n):t.hasOwnProperty("defaultValue")&&T(e,t.type,y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function k(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function T(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function I(e,n){return e=Vi({children:void 0},n),(n=function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(n.children))&&(e.children=n),e}function O(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function N(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return Vi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:y(r)}}function R(e,t){var n=y(t.value),r=y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function P(e,t){(t=e.textContent)===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function L(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?L(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function D(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function F(e){if(Co[e])return Co[e];if(!Eo[e])return e;var t,n=Eo[e];for(t in n)if(n.hasOwnProperty(t)&&t in ko)return Co[e]=n[t];return e}function z(e){var t=Ro.get(e);return void 0===t&&(t=new Map,Ro.set(e,t)),t}function B(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function j(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function H(e){if(B(e)!==e)throw Error(n(188))}function U(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=B(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return H(o),e;if(a===i)return H(o),t;a=a.sibling}throw Error(n(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===r){s=!0,r=o,i=a;break}if(u===i){s=!0,i=o,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,i=o;break}if(u===i){s=!0,i=a,r=o;break}u=u.sibling}if(!s)throw Error(n(189))}}if(r.alternate!==i)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function V(e,t){if(null==t)throw Error(n(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function W(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function G(e){if(null!==e&&(Po=V(Po,e)),e=Po,Po=null,e){if(W(e,Lo),Po)throw Error(n(95));if(di)throw e=hi,di=!1,hi=null,e}}function q(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function $(e){if(!Ui)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function K(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Mo.length&&Mo.push(e)}function Y(e,t,n,r){if(Mo.length){var i=Mo.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function Q(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Ne(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=q(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<zi.length;u++){var c=zi[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=V(s,c))}G(s)}}function J(e,t,n){if(!n.has(e)){switch(e){case"scroll":ce(t,"scroll",!0);break;case"focus":case"blur":ce(t,"focus",!0),ce(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":$(e)&&ce(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ao.indexOf(e)&&ue(e,t)}n.set(e,null)}}function Z(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function X(e,t){switch(e){case"focus":case"blur":zo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function ee(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Z(t,n,r,i,o),null!==t&&(null!==(t=Ae(t))&&cc(t)),e):(e.eventSystemFlags|=r,e)}function te(e){var t=Ne(e.target);if(null!==t){var n=B(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=j(n)))return e.blockedOn=t,void oo(e.priority,(function(){lc(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ne(e){if(null!==e.blockedOn)return!1;var t=he(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Ae(t);return null!==n&&cc(n),e.blockedOn=t,!1}return!0}function re(e,t,n){ne(e)&&n.delete(t)}function ie(){for(Do=!1;0<Fo.length;){var e=Fo[0];if(null!==e.blockedOn){null!==(e=Ae(e.blockedOn))&&uc(e);break}var t=he(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Fo.shift()}null!==zo&&ne(zo)&&(zo=null),null!==Bo&&ne(Bo)&&(Bo=null),null!==jo&&ne(jo)&&(jo=null),Ho.forEach(re),Uo.forEach(re)}function oe(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,no(co,ie)))}function ae(e){if(0<Fo.length){oe(Fo[0],e);for(var t=1;t<Fo.length;t++){var n=Fo[t];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==zo&&oe(zo,e),null!==Bo&&oe(Bo,e),null!==jo&&oe(jo,e),t=function(t){return oe(t,e)},Ho.forEach(t),Uo.forEach(t),t=0;t<Vo.length;t++)(n=Vo[t]).blockedOn===e&&(n.blockedOn=null);for(;0<Vo.length&&null===(t=Vo[0]).blockedOn;)te(t),null===t.blockedOn&&Vo.shift()}function se(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ko.set(r,t),$o.set(r,o),qo[i]=o}}function ue(e,t){ce(t,e,!1)}function ce(e,t,n){var r=Ko.get(t);switch(void 0===r?2:r){case 0:r=le.bind(null,t,1,e);break;case 1:r=fe.bind(null,t,1,e);break;default:r=de.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function le(e,t,n,r){Ji||Yi();var i=de,o=Ji;Ji=!0;try{Ki(i,e,t,n,r)}finally{(Ji=o)||p()}}function fe(e,t,n,r){Jo(Qo,de.bind(null,e,t,n,r))}function de(e,t,n,r){if(Zo)if(0<Fo.length&&-1<Wo.indexOf(e))e=Z(null,e,t,n,r),Fo.push(e);else{var i=he(e,t,n,r);if(null===i)X(e,r);else if(-1<Wo.indexOf(e))e=Z(i,e,t,n,r),Fo.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return zo=ee(zo,e,t,n,r,i),!0;case"dragenter":return Bo=ee(Bo,e,t,n,r,i),!0;case"mouseover":return jo=ee(jo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ho.set(o,ee(Ho.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uo.set(o,ee(Uo.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){X(e,r),e=Y(e,r,null,t);try{g(Q,e)}finally{K(e)}}}}function he(e,t,n,r){if(null!==(n=Ne(n=q(r)))){var i=B(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=j(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=Y(e,r,n,t);try{g(Q,e)}finally{K(e)}return null}function pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function me(e,t){if(t){if(ta[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62,""))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ye(e,t){var n=z(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Hi[t];for(var r=0;r<t.length;r++)J(t[r],e,n)}function _e(){}function be(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function we(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Se(e,t){var n,r=we(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=we(r)}}function xe(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?xe(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ee(){for(var e=window,t=be();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=be((e=t.contentWindow).document)}return t}function Ce(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ke(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Te(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ie(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Oe(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===na||n===oa||n===ia){if(0===t)return e;t--}else n===ra&&t++}e=e.previousSibling}return null}function Ne(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Oe(e);null!==e;){if(n=e[fa])return n;e=Oe(e)}return t}n=(e=n).parentNode}return null}function Ae(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Re(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function Pe(e){return e[da]||null}function Le(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Me(e,t){var r=e.stateNode;if(!r)return null;var i=gi(r);if(!i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}function De(e,t,n){(t=Me(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=V(n._dispatchListeners,t),n._dispatchInstances=V(n._dispatchInstances,e))}function Fe(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Le(t);for(t=n.length;0<t--;)De(n[t],"captured",e);for(t=0;t<n.length;t++)De(n[t],"bubbled",e)}}function ze(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Me(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=V(n._dispatchListeners,t),n._dispatchInstances=V(n._dispatchInstances,e))}function Be(e){e&&e.dispatchConfig.registrationName&&ze(e._targetInst,null,e)}function je(e){W(e,Fe)}function He(){if(ma)return ma;var e,t,n=ga,r=n.length,i="value"in pa?pa.value:pa.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ma=i.slice(e,1<t?1-t:void 0)}function Ue(){return!0}function Ve(){return!1}function We(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ue:Ve,this.isPropagationStopped=Ve,this}function Ge(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function qe(e){if(!(e instanceof this))throw Error(n(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $e(e){e.eventPool=[],e.getPooled=Ge,e.release=qe}function Ke(e,t){switch(e){case"keyup":return-1!==_a.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ye(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function Qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Oa[e.type]:"textarea"===t}function Je(e,t,n){return(e=We.getPooled(Na.change,e,t,n)).type="change",d(n),je(e),e}function Ze(e){G(e)}function Xe(e){if(w(Re(e)))return e}function et(e,t){if("change"===e)return t}function tt(){Aa&&(Aa.detachEvent("onpropertychange",nt),Ra=Aa=null)}function nt(e){if("value"===e.propertyName&&Xe(Ra))if(e=Je(Ra,e,q(e)),Ji)G(e);else{Ji=!0;try{$i(Ze,e)}finally{Ji=!1,p()}}}function rt(e,t,n){"focus"===e?(tt(),Ra=n,(Aa=t).attachEvent("onpropertychange",nt)):"blur"===e&&tt()}function it(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xe(Ra)}function ot(e,t){if("click"===e)return Xe(t)}function at(e,t){if("input"===e||"change"===e)return Xe(t)}function st(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Da[e])&&!!t[e]}function ut(e){return st}function ct(e,t){if(Ga(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!qa.call(t,n[r])||!Ga(e[n[r]],t[n[r]]))return!1;return!0}function lt(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Za||null==Ya||Ya!==be(n)?null:("selectionStart"in(n=Ya)&&Ce(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ja&&ct(Ja,n)?null:(Ja=n,(e=We.getPooled(Ka.select,Qa,e,t)).type="select",e.target=Ya,je(e),e))}function ft(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dt(e,t){0>ds||(e.current=fs[ds],fs[ds]=null,ds--)}function ht(e,t,n){ds++,fs[ds]=e.current,e.current=t}function pt(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gt(e){return null!=(e=e.childContextTypes)}function mt(e,t,r){if(ps.current!==hs)throw Error(n(168));ht(ps,t),ht(gs,r)}function vt(e,t,r){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in e))throw Error(n(108,a(t)||"Unknown",o));return Vi({},r,{},i)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,ms=ps.current,ht(ps,e),ht(gs,gs.current),!0}function _t(e,t,r){var i=e.stateNode;if(!i)throw Error(n(169));r?(e=vt(e,t,ms),i.__reactInternalMemoizedMergedChildContext=e,dt(gs),dt(ps),ht(ps,e)):dt(gs),ht(gs,r)}function bt(){switch(bs()){case ws:return 99;case Ss:return 98;case xs:return 97;case Es:return 96;case Cs:return 95;default:throw Error(n(332))}}function wt(e){switch(e){case 99:return ws;case 98:return Ss;case 97:return xs;case 96:return Es;case 95:return Cs;default:throw Error(n(332))}}function St(e,t){return e=wt(e),vs(e,t)}function xt(e,t,n){return e=wt(e),ys(e,t,n)}function Et(e){return null===Os?(Os=[e],Ns=ys(ws,kt)):Os.push(e),ks}function Ct(){if(null!==Ns){var e=Ns;Ns=null,_s(e)}kt()}function kt(){if(!As&&null!==Os){As=!0;var e=0;try{var t=Os;St(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Os=null}catch(t){throw null!==Os&&(Os=Os.slice(e+1)),ys(ws,Ct),t}finally{As=!1}}}function Tt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function It(e,t){if(e&&e.defaultProps)for(var n in t=Vi({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function Ot(){Fs=Ds=Ms=null}function Nt(e){var t=Ls.current;dt(Ls),e.type._context._currentValue=t}function At(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Rt(e,t){Ms=e,Fs=Ds=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(hu=!0),e.firstContext=null)}function Pt(e,t){if(Fs!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Fs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ds){if(null===Ms)throw Error(n(308));Ds=t,Ms.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ds=Ds.next=t;return e._currentValue}function Lt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Mt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Dt(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:zs,payload:null,callback:null,next:null}).next=e}function Ft(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function zt(e,t){var n=e.alternate;null!==n&&Mt(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Bt(e,t,n,r){var i=e.updateQueue;js=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var u=i.baseState,c=0,l=null,f=null,d=null;if(null!==s)for(var h=s;;){if((a=h.expirationTime)<r){var p={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===d?(f=d=p,l=u):d=d.next=p,a>c&&(c=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),kr(a,h.suspenseConfig);e:{var g=e,m=h;switch(a=t,p=n,m.tag){case 1:if("function"==typeof(g=m.payload)){u=g.call(p,u,a);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case zs:if(null==(a="function"==typeof(g=m.payload)?g.call(p,u,a):g))break e;u=Vi({},u,a);break e;case Bs:js=!0}}null!==h.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[h]:a.push(h))}if(null===(h=h.next)||h===s){if(null===(a=i.shared.pending))break;h=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===d?l=u:d.next=f,i.baseState=l,i.baseQueue=d,Tr(c),e.expirationTime=c,e.memoizedState=u}}function jt(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=r,"function"!=typeof i)throw Error(n(191,i));i.call(o)}}}function Ht(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Vi({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function Ut(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ct(n,r)||!ct(i,o))}function Vt(e,t,n){var r=!1,i=hs,o=t.contextType;return"object"==typeof o&&null!==o?o=Pt(o):(i=gt(t)?ms:ps.current,o=(r=null!=(r=t.contextTypes))?pt(e,i):hs),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Gt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Lt(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Pt(o):(o=gt(t)?ms:ps.current,i.context=pt(e,o)),Bt(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ht(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),Bt(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function qt(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var i=r.stateNode}if(!i)throw Error(n(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function $t(e,t){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Kt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=qt(e,t,n),r.return=e,r):((r=Gr(n.type,n.key,n.props,null,e.mode,r)).ref=qt(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case wi:return(n=Gr(t.type,t.key,t.props,null,e.mode,n)).ref=qt(e,null,t),n.return=e,n;case Si:return(t=Kr(t,e.mode,n)).return=e,t}if(Ws(t)||o(t))return(t=qr(t,e.mode,n,null)).return=e,t;$t(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case wi:return n.key===i?n.type===xi?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case Si:return n.key===i?f(e,t,n,r):null}if(Ws(n)||o(n))return null!==i?null:d(e,t,n,r,null);$t(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case wi:return e=e.get(null===r.key?n:r.key)||null,r.type===xi?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case Si:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ws(r)||o(r))return d(t,e=e.get(n)||null,r,i,null);$t(t,r)}return null}function m(n,o,a,u){for(var c=null,l=null,f=o,d=o=0,m=null;null!==f&&d<a.length;d++){f.index>d?(m=f,f=null):m=f.sibling;var v=p(n,f,a[d],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(n,f),o=s(v,o,d),null===l?c=v:l.sibling=v,l=v,f=m}if(d===a.length)return r(n,f),c;if(null===f){for(;d<a.length;d++)null!==(f=h(n,a[d],u))&&(o=s(f,o,d),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(n,f);d<a.length;d++)null!==(m=g(f,n,d,a[d],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?d:m.key),o=s(m,o,d),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(n,e)})),c}function v(a,u,c,l){var f=o(c);if("function"!=typeof f)throw Error(n(150));if(null==(c=f.call(c)))throw Error(n(151));for(var d=f=null,m=u,v=u=0,y=null,_=c.next();null!==m&&!_.done;v++,_=c.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(a,m,_.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),u=s(b,u,v),null===d?f=b:d.sibling=b,d=b,m=y}if(_.done)return r(a,m),f;if(null===m){for(;!_.done;v++,_=c.next())null!==(_=h(a,_.value,l))&&(u=s(_,u,v),null===d?f=_:d.sibling=_,d=_);return f}for(m=i(a,m);!_.done;v++,_=c.next())null!==(_=g(m,a,v,_.value,l))&&(e&&null!==_.alternate&&m.delete(null===_.key?v:_.key),u=s(_,u,v),null===d?f=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(a,e)})),f}return function(e,i,s,c){var l="object"==typeof s&&null!==s&&s.type===xi&&null===s.key;l&&(s=s.props.children);var f="object"==typeof s&&null!==s;if(f)switch(s.$$typeof){case wi:e:{for(f=s.key,l=i;null!==l;){if(l.key===f){switch(l.tag){case 7:if(s.type===xi){r(e,l.sibling),(i=a(l,s.props.children)).return=e,e=i;break e}break;default:if(l.elementType===s.type){r(e,l.sibling),(i=a(l,s.props)).ref=qt(e,l,s),i.return=e,e=i;break e}}r(e,l);break}t(e,l),l=l.sibling}s.type===xi?((i=qr(s.props.children,e.mode,c,s.key)).return=e,e=i):((c=Gr(s.type,s.key,s.props,null,e.mode,c)).ref=qt(e,i,s),c.return=e,e=c)}return u(e);case Si:e:{for(l=s.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(e,i.sibling),(i=a(i,s.children||[])).return=e,e=i;break e}r(e,i);break}t(e,i),i=i.sibling}(i=Kr(s,e.mode,c)).return=e,e=i}return u(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==i&&6===i.tag?(r(e,i.sibling),(i=a(i,s)).return=e,e=i):(r(e,i),(i=$r(s,e.mode,c)).return=e,e=i),u(e);if(Ws(s))return m(e,i,s,c);if(o(s))return v(e,i,s,c);if(f&&$t(e,s),void 0===s&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(n(152,e.displayName||e.name||"Component"))}return r(e,i)}}function Yt(e){if(e===$s)throw Error(n(174));return e}function Qt(e,t){switch(ht(Qs,t),ht(Ys,e),ht(Ks,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:M(null,"");break;default:t=M(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}dt(Ks),ht(Ks,t)}function Jt(e){dt(Ks),dt(Ys),dt(Qs)}function Zt(e){Yt(Qs.current);var t=Yt(Ks.current),n=M(t,e.type);t!==n&&(ht(Ys,e),ht(Ks,n))}function Xt(e){Ys.current===e&&(dt(Ks),dt(Ys))}function en(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===ia||n.data===oa))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function tn(e,t){return{responder:e,props:t}}function nn(){throw Error(n(321))}function rn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ga(e[n],t[n]))return!1;return!0}function on(e,t,r,i,o,a){if(eu=a,tu=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Zs.current=null===e||null===e.memoizedState?au:su,e=r(i,o),t.expirationTime===eu){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(n(301));a+=1,ru=nu=null,t.updateQueue=null,Zs.current=uu,e=r(i,o)}while(t.expirationTime===eu)}if(Zs.current=ou,t=null!==nu&&null!==nu.next,eu=0,ru=nu=tu=null,iu=!1,t)throw Error(n(300));return e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ru?tu.memoizedState=ru=e:ru=ru.next=e,ru}function sn(){if(null===nu){var e=tu.alternate;e=null!==e?e.memoizedState:null}else e=nu.next;var t=null===ru?tu.memoizedState:ru.next;if(null!==t)ru=t,nu=e;else{if(null===e)throw Error(n(310));e={memoizedState:(nu=e).memoizedState,baseState:nu.baseState,baseQueue:nu.baseQueue,queue:nu.queue,next:null},null===ru?tu.memoizedState=ru=e:ru=ru.next=e}return ru}function un(e,t){return"function"==typeof t?t(e):t}function cn(e,t,r){if(null===(r=(t=sn()).queue))throw Error(n(311));r.lastRenderedReducer=e;var i=nu,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,c=o;do{var l=c.expirationTime;if(l<eu){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=i):u=u.next=f,l>tu.expirationTime&&(tu.expirationTime=l,Tr(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),kr(l,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===u?a=i:u.next=s,Ga(i,t.memoizedState)||(hu=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,r.lastRenderedState=i}return[t.memoizedState,r.dispatch]}function ln(e,t,r){if(null===(r=(t=sn()).queue))throw Error(n(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Ga(a,t.memoizedState)||(hu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function fn(e){var t=an();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:un,lastRenderedState:e}).dispatch=kn.bind(null,tu,e),[t.memoizedState,e]}function dn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=tu.updateQueue)?(t={lastEffect:null},tu.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hn(e){return sn().memoizedState}function pn(e,t,n,r){var i=an();tu.effectTag|=e,i.memoizedState=dn(1|t,n,void 0,void 0===r?null:r)}function gn(e,t,n,r){var i=sn();r=void 0===r?null:r;var o=void 0;if(null!==nu){var a=nu.memoizedState;if(o=a.destroy,null!==r&&rn(r,a.deps))return void dn(t,n,o,r)}tu.effectTag|=e,i.memoizedState=dn(1|t,n,o,r)}function mn(e,t){return pn(516,4,e,t)}function vn(e,t){return gn(516,4,e,t)}function yn(e,t){return gn(4,2,e,t)}function _n(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function bn(e,t,n){return n=null!=n?n.concat([e]):null,gn(4,2,_n.bind(null,t,e),n)}function wn(e,t){}function Sn(e,t){return an().memoizedState=[e,void 0===t?null:t],e}function xn(e,t){var n=sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function En(e,t){var n=sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cn(e,t,n){var r=bt();St(98>r?98:r,(function(){e(!0)})),St(97<r?97:r,(function(){var r=Xs.suspense;Xs.suspense=void 0===t?null:t;try{e(!1),n()}finally{Xs.suspense=r}}))}function kn(e,t,n){var r=pr(),i=Hs.suspense;i={expirationTime:r=gr(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===tu||null!==o&&o===tu)iu=!0,i.expirationTime=eu,tu.expirationTime=eu;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Ga(s,a))return}catch(e){}rc(e,r)}}function Tn(e,t){var n=sc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function In(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function On(e){if(fu){var t=lu;if(t){var n=t;if(!In(e,t)){if(!(t=Ie(n.nextSibling))||!In(e,t))return e.effectTag=-1025&e.effectTag|2,fu=!1,void(cu=e);Tn(cu,n)}cu=e,lu=Ie(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,fu=!1,cu=e}}function Nn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;cu=e}function An(e){if(e!==cu)return!1;if(!fu)return Nn(e),fu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Te(t,e.memoizedProps))for(t=lu;t;)Tn(e,t),t=Ie(t.nextSibling);if(Nn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===ra){if(0===t){lu=Ie(e.nextSibling);break e}t--}else r!==na&&r!==oa&&r!==ia||t++}e=e.nextSibling}lu=null}}else lu=cu?Ie(e.stateNode.nextSibling):null;return!0}function Rn(){lu=cu=null,fu=!1}function Pn(e,t,n,r){t.child=null===e?qs(t,null,n,r):Gs(t,e.child,n,r)}function Ln(e,t,n,r,i){n=n.render;var o=t.ref;return Rt(t,i),r=on(e,t,n,r,o,i),null===e||hu?(t.effectTag|=1,Pn(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),qn(e,t,i))}function Mn(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Dn(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ct)(i,r)&&e.ref===t.ref)?qn(e,t,o):(t.effectTag|=1,(e=Wr(a,r)).ref=t.ref,e.return=t,t.child=e)}function Dn(e,t,n,r,i,o){return null!==e&&ct(e.memoizedProps,r)&&e.ref===t.ref&&(hu=!1,i<o)?(t.expirationTime=e.expirationTime,qn(e,t,o)):zn(e,t,n,r,o)}function Fn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zn(e,t,n,r,i){var o=gt(n)?ms:ps.current;return o=pt(t,o),Rt(t,i),n=on(e,t,n,r,o,i),null===e||hu?(t.effectTag|=1,Pn(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),qn(e,t,i))}function Bn(e,t,n,r,i){if(gt(n)){var o=!0;yt(t)}else o=!1;if(Rt(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Vt(t,n,r),Gt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Pt(c):c=pt(t,c=gt(n)?ms:ps.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wt(t,a,r,c),js=!1;var d=t.memoizedState;a.state=d,Bt(t,r,a,i),u=t.memoizedState,s!==r||d!==u||gs.current||js?("function"==typeof l&&(Ht(t,n,l,r),u=t.memoizedState),(s=js||Ut(t,n,s,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Mt(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:It(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Pt(c):c=pt(t,c=gt(n)?ms:ps.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wt(t,a,r,c),js=!1,u=t.memoizedState,a.state=u,Bt(t,r,a,i),d=t.memoizedState,s!==r||u!==d||gs.current||js?("function"==typeof l&&(Ht(t,n,l,r),d=t.memoizedState),(l=js||Ut(t,n,s,r,u,d,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return jn(e,t,n,r,o,i)}function jn(e,t,n,r,i,o){Fn(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&_t(t,n,!1),qn(e,t,o);r=t.stateNode,du.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Gs(t,e.child,null,o),t.child=Gs(t,null,s,o)):Pn(e,t,s,o),t.memoizedState=r.state,i&&_t(t,n,!0),t.child}function Hn(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),Qt(e,t.containerInfo)}function Un(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Js.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ht(Js,1&a),null===e){if(void 0!==o.fallback&&On(t),s){if(s=o.fallback,(o=qr(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=qr(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=pu,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=qs(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Wr(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Wr(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=pu,t.child=n,i}return n=Gs(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=qr(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=qr(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=pu,t.child=o,n}return t.memoizedState=null,t.child=Gs(t,e,o.children,n)}function Vn(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),At(e.return,t)}function Wn(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Gn(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pn(e,t,r.children,n),0!=(2&(r=Js.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vn(e,n);else if(19===e.tag)Vn(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ht(Js,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===en(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wn(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===en(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wn(t,!0,n,null,o,t.lastEffect);break;case"together":Wn(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function qn(e,t,r){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Tr(i),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Wr(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Wr(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function $n(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e,t,r){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gt(t.type)&&(dt(gs),dt(ps)),null;case 3:return Jt(),dt(gs),dt(ps),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!An(t)||(t.effectTag|=4),null;case 5:Xt(t),r=Yt(Qs.current);var o=t.type;if(null!==e&&null!=t.stateNode)mu(e,t,o,i,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(n(166));return null}if(e=Yt(Ks.current),An(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[fa]=t,i[da]=a,o){case"iframe":case"object":case"embed":ue("load",i);break;case"video":case"audio":for(e=0;e<Ao.length;e++)ue(Ao[e],i);break;case"source":ue("error",i);break;case"img":case"image":case"link":ue("error",i),ue("load",i);break;case"form":ue("reset",i),ue("submit",i);break;case"details":ue("toggle",i);break;case"input":x(i,a),ue("invalid",i),ye(r,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ue("invalid",i),ye(r,"onChange");break;case"textarea":A(i,a),ue("invalid",i),ye(r,"onChange")}for(var s in me(o,a),e=null,a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"==typeof u?i.textContent!==u&&(e=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(e=["children",""+u]):ji.hasOwnProperty(s)&&null!=u&&ye(r,s)}switch(o){case"input":b(i),k(i,a,!0);break;case"textarea":b(i),P(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=_e)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=L(o)),"http://www.w3.org/1999/xhtml"===e?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(o,{is:i.is}):(e=s.createElement(o),"select"===o&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,o),e[fa]=t,e[da]=i,gu(e,t,!1),t.stateNode=e,s=ve(o,i),o){case"iframe":case"object":case"embed":ue("load",e),u=i;break;case"video":case"audio":for(u=0;u<Ao.length;u++)ue(Ao[u],e);u=i;break;case"source":ue("error",e),u=i;break;case"img":case"image":case"link":ue("error",e),ue("load",e),u=i;break;case"form":ue("reset",e),ue("submit",e),u=i;break;case"details":ue("toggle",e),u=i;break;case"input":x(e,i),u=S(e,i),ue("invalid",e),ye(r,"onChange");break;case"option":u=I(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=Vi({},i,{value:void 0}),ue("invalid",e),ye(r,"onChange");break;case"textarea":A(e,i),u=N(e,i),ue("invalid",e),ye(r,"onChange");break;default:u=i}me(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&So(e,l):"children"===a?"string"==typeof l?("textarea"!==o||""!==l)&&xo(e,l):"number"==typeof l&&xo(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ji.hasOwnProperty(a)?null!=l&&ye(r,a):null!=l&&v(e,a,l,s))}switch(o){case"input":b(e),k(e,i,!1);break;case"textarea":b(e),P(e);break;case"option":null!=i.value&&e.setAttribute("value",""+y(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?O(e,!!i.multiple,r,!1):null!=i.defaultValue&&O(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=_e)}ke(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)vu(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(n(166));r=Yt(Qs.current),Yt(Ks.current),An(t)?(r=t.stateNode,i=t.memoizedProps,r[fa]=t,r.nodeValue!==i&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[fa]=t,t.stateNode=r)}return null;case 13:return dt(Js),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&An(t):(i=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Js.current)?Fu===Tu&&(Fu=Nu):(Fu!==Tu&&Fu!==Nu||(Fu=Au),0!==Uu&&null!==Lu&&(Jr(Lu,Du),Zr(Lu,Uu)))),(r||i)&&(t.effectTag|=4),null);case 4:return Jt(),null;case 10:return Nt(t),null;case 17:return gt(t.type)&&(dt(gs),dt(ps)),null;case 19:if(dt(Js),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=i.rendering)){if(o)$n(i,!1);else if(Fu!==Tu||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=en(a))){for(t.effectTag|=64,$n(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)a=r,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return ht(Js,1&Js.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=en(a))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),$n(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Ps()-i.renderingStartTime>i.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,$n(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(r=i.last)?r.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Ps()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Ps(),r.sibling=null,t=Js.current,ht(Js,o?1&t|2:1&t),r):null}throw Error(n(156,t.tag))}function Yn(e,t){switch(e.tag){case 1:return gt(e.type)&&(dt(gs),dt(ps)),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 3:if(Jt(),dt(gs),dt(ps),0!=(64&(t=e.effectTag)))throw Error(n(285));return e.effectTag=-4097&t|64,e;case 5:return Xt(e),null;case 13:return dt(Js),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return dt(Js),null;case 4:return Jt(),null;case 10:return Nt(e),null;default:return null}}function Qn(e,t){return{value:e,source:t,stack:s(t)}}function Jn(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=s(n)),null!==n&&a(n.type),t=t.value,null!==e&&1===e.tag&&a(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Zn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Br(e,t)}else t.current=null}function Xn(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:It(t.type,r),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163))}function er(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function tr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nr(e,t,r,i){switch(r.tag){case 0:case 11:case 15:case 22:return void tr(3,r);case 1:return e=r.stateNode,4&r.effectTag&&(null===t?e.componentDidMount():(i=r.elementType===r.type?t.memoizedProps:It(r.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&jt(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}jt(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&ke(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&ae(r)))));case 19:case 17:case 20:case 21:return}throw Error(n(163))}function rr(e,t,n){switch("function"==typeof ac&&ac(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;St(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Br(i,e)}}e=e.next}while(e!==r)}))}break;case 1:Zn(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Br(e,t)}}(t,n);break;case 5:Zn(t);break;case 4:cr(e,t,n)}}function ir(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ir(t)}function or(e){return 5===e.tag||3===e.tag||4===e.tag}function ar(e){e:{for(var t=e.return;null!==t;){if(or(t)){var r=t;break e}t=t.return}throw Error(n(160))}switch(t=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(n(161))}16&r.effectTag&&(xo(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||or(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}i?sr(e,r,t):ur(e,r,t)}function sr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=_e));else if(4!==r&&null!==(e=e.child))for(sr(e,t,n),e=e.sibling;null!==e;)sr(e,t,n),e=e.sibling}function ur(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ur(e,t,n),e=e.sibling;null!==e;)ur(e,t,n),e=e.sibling}function cr(e,t,r){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(n(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=r,f=c;;)if(rr(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(u=i,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(rr(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function lr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void er(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[da]=i,"input"===e&&"radio"===i.type&&null!=i.name&&E(r,i),ve(e,o),t=ve(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?ge(r,u):"dangerouslySetInnerHTML"===s?So(r,u):"children"===s?xo(r,u):v(r,s,u,t)}switch(e){case"input":C(r,i);break;case"textarea":R(r,i);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?O(r,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?O(r,!!i.multiple,i.defaultValue,!0):O(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(n(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,ae(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?i=!1:(i=!0,r=t.child,Wu=Ps()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,i?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=pe("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fr(t);case 19:return void fr(t);case 17:return}throw Error(n(163))}function fr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new yu),t.forEach((function(t){var r=Hr.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function dr(e,t,n){(n=Dt(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Ku=r),Jn(e,t)},n}function hr(e,t,n){(n=Dt(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Jn(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this),Jn(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function pr(){return(Pu&(Cu|ku))!==xu?1073741821-(Ps()/10|0):0!==nc?nc:nc=1073741821-(Ps()/10|0)}function gr(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var i=bt();if(0==(4&t))return 99===i?1073741823:1073741822;if((Pu&Cu)!==xu)return Du;if(null!==r)e=Tt(e,0|r.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Tt(e,150,100);break;case 97:case 96:e=Tt(e,5e3,250);break;case 95:e=2;break;default:throw Error(n(326))}return null!==Lu&&e===Du&&--e,e}function mr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Lu===i&&(Tr(t),Fu===Au&&Jr(i,Du)),Zr(i,t)),i}function vr(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Qr(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function yr(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Et(br.bind(null,e));else{var t=vr(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=pr();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ks&&_s(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Et(br.bind(null,e)):xt(r,_r.bind(null,e),{timeout:10*(1073741821-t)-Ps()}),e.callbackNode=t}}}function _r(e,t){if(nc=0,t)return Xr(e,t=pr()),yr(e),null;var r=vr(e);if(0!==r){if(t=e.callbackNode,(Pu&(Cu|ku))!==xu)throw Error(n(327));if(Dr(),e===Lu&&r===Du||xr(e,r),null!==Mu){var i=Pu;Pu|=Cu;for(var o=Cr();;)try{Or();break}catch(t){Er(e,t)}if(Ot(),Pu=i,wu.current=o,Fu===Iu)throw t=zu,xr(e,r),Jr(e,r),yr(e),t;if(null===Mu)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,i=Fu,Lu=null,i){case Tu:case Iu:throw Error(n(345));case Ou:Xr(e,2<r?2:r);break;case Nu:if(Jr(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Rr(o)),1073741823===Bu&&10<(o=Wu+Gu-Ps())){if(Vu){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,xr(e,r);break}}if(0!==(a=vr(e))&&a!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}e.timeoutHandle=ua(Pr.bind(null,e),o);break}Pr(e);break;case Au:if(Jr(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Rr(o)),Vu&&(0===(o=e.lastPingedTime)||o>=r)){e.lastPingedTime=r,xr(e,r);break}if(0!==(o=vr(e))&&o!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}if(1073741823!==ju?i=10*(1073741821-ju)-Ps():1073741823===Bu?i=0:(i=10*(1073741821-Bu)-5e3,0>(i=(o=Ps())-i)&&(i=0),(r=10*(1073741821-r)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bu(i/1960))-i)&&(i=r)),10<i){e.timeoutHandle=ua(Pr.bind(null,e),i);break}Pr(e);break;case Ru:if(1073741823!==Bu&&null!==Hu){a=Bu;var s=Hu;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(a=Ps()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+i-a),10<i){Jr(e,r),e.timeoutHandle=ua(Pr.bind(null,e),i);break}}Pr(e);break;default:throw Error(n(329))}if(yr(e),e.callbackNode===t)return _r.bind(null,e)}}return null}function br(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Pu&(Cu|ku))!==xu)throw Error(n(327));if(Dr(),e===Lu&&t===Du||xr(e,t),null!==Mu){var r=Pu;Pu|=Cu;for(var i=Cr();;)try{Ir();break}catch(t){Er(e,t)}if(Ot(),Pu=r,wu.current=i,Fu===Iu)throw r=zu,xr(e,t),Jr(e,t),yr(e),r;if(null!==Mu)throw Error(n(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Lu=null,Pr(e),yr(e)}return null}function wr(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{(Pu=n)===xu&&Ct()}}function Sr(e,t){var n=Pu;Pu&=-2,Pu|=Eu;try{return e(t)}finally{(Pu=n)===xu&&Ct()}}function xr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ca(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&(dt(gs),dt(ps));break;case 3:Jt(),dt(gs),dt(ps);break;case 5:Xt(r);break;case 4:Jt();break;case 13:case 19:dt(Js);break;case 10:Nt(r)}n=n.return}Lu=e,Mu=Wr(e.current,null),Du=t,Fu=Tu,zu=null,ju=Bu=1073741823,Hu=null,Uu=0,Vu=!1}function Er(e,t){for(;;){try{if(Ot(),Zs.current=ou,iu)for(var n=tu.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(eu=0,ru=nu=tu=null,iu=!1,null===Mu||null===Mu.return)return Fu=Iu,zu=t,Mu=null;e:{var i=e,o=Mu.return,u=Mu,c=t;if(t=Du,u.effectTag|=2048,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&u.mode)){var f=u.alternate;f?(u.memoizedState=f.memoizedState,u.expirationTime=f.expirationTime):u.memoizedState=null}var d=0!=(1&Js.current),h=o;do{var p;if(p=13===h.tag){var g=h.memoizedState;if(null!==g)p=null!==g.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=h.updateQueue;if(null===v){var y=new Set;y.add(l),h.updateQueue=y}else v.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,u.effectTag&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var _=Dt(1073741823,null);_.tag=Bs,Ft(u,_)}u.expirationTime=1073741823;break e}c=void 0,u=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new _u,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(u)){c.add(u);var w=jr.bind(null,i,l,u);l.then(w,w)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);c=Error((a(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+s(u))}Fu!==Ru&&(Fu=Ou),c=Qn(c,u),h=o;do{switch(h.tag){case 3:l=c,h.effectTag|=4096,h.expirationTime=t,zt(h,dr(h,l,t));break e;case 1:l=c;var S=h.type,x=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof S.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Yu||!Yu.has(x)))){h.effectTag|=4096,h.expirationTime=t,zt(h,hr(h,l,t));break e}}h=h.return}while(null!==h)}Mu=Ar(Mu)}catch(e){t=e;continue}break}}function Cr(e){return e=wu.current,wu.current=ou,null===e?ou:e}function kr(e,t){e<Bu&&2<e&&(Bu=e),null!==t&&e<ju&&2<e&&(ju=e,Hu=t)}function Tr(e){e>Uu&&(Uu=e)}function Ir(){for(;null!==Mu;)Mu=Nr(Mu)}function Or(){for(;null!==Mu&&!Ts();)Mu=Nr(Mu)}function Nr(e){var t=ic(e.alternate,e,Du);return e.memoizedProps=e.pendingProps,null===t&&(t=Ar(e)),Su.current=null,t}function Ar(e){Mu=e;do{var t=Mu.alternate;if(e=Mu.return,0==(2048&Mu.effectTag)){if(t=Kn(t,Mu,Du),1===Du||1!==Mu.childExpirationTime){for(var n=0,r=Mu.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Mu.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Mu.firstEffect),null!==Mu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Mu.firstEffect),e.lastEffect=Mu.lastEffect),1<Mu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Mu:e.firstEffect=Mu,e.lastEffect=Mu))}else{if(null!==(t=Yn(Mu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Mu.sibling))return t;Mu=e}while(null!==Mu);return Fu===Tu&&(Fu=Ru),null}function Rr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Pr(e){var t=bt();return St(99,Lr.bind(null,e,t)),null}function Lr(e,t){do{Dr()}while(null!==Ju);if((Pu&(Cu|ku))!==xu)throw Error(n(327));var r=e.finishedWork,i=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Rr(r);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Lu&&(Mu=Lu=null,Du=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,o=r.firstEffect):o=r:o=r.firstEffect,null!==o){var a=Pu;Pu|=ku,Su.current=null,aa=Zo;var s=Ee();if(Ce(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var d=0,h=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var _;v!==u||0!==l&&3!==v.nodeType||(h=d+l),v!==f||0!==c&&3!==v.nodeType||(p=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(_=v.firstChild);)y=v,v=_;for(;;){if(v===s)break t;if(y===u&&++g===l&&(h=d),y===f&&++m===c&&(p=d),null!==(_=v.nextSibling))break;y=(v=y).parentNode}v=_}u=-1===h||-1===p?null:{start:h,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;sa={activeElementDetached:null,focusedElem:s,selectionRange:u},Zo=!1,qu=o;do{try{Mr()}catch(e){if(null===qu)throw Error(n(330));Br(qu,e),qu=qu.nextEffect}}while(null!==qu);qu=o;do{try{for(s=e,u=t;null!==qu;){var b=qu.effectTag;if(16&b&&xo(qu.stateNode,""),128&b){var w=qu.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&b){case 2:ar(qu),qu.effectTag&=-3;break;case 6:ar(qu),qu.effectTag&=-3,lr(qu.alternate,qu);break;case 1024:qu.effectTag&=-1025;break;case 1028:qu.effectTag&=-1025,lr(qu.alternate,qu);break;case 4:lr(qu.alternate,qu);break;case 8:cr(s,l=qu,u),ir(l)}qu=qu.nextEffect}}catch(e){if(null===qu)throw Error(n(330));Br(qu,e),qu=qu.nextEffect}}while(null!==qu);if(S=sa,w=Ee(),b=S.focusedElem,u=S.selectionRange,w!==b&&b&&b.ownerDocument&&xe(b.ownerDocument.documentElement,b)){null!==u&&Ce(b)&&(w=u.start,void 0===(S=u.end)&&(S=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(S,b.value.length)):(S=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),l=b.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!S.extend&&s>u&&(l=u,u=s,s=l),l=Se(b,s),f=Se(b,u),l&&f&&(1!==S.rangeCount||S.anchorNode!==l.node||S.anchorOffset!==l.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),S.removeAllRanges(),s>u?(S.addRange(w),S.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),S.addRange(w))))),w=[];for(S=b;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(S=w[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Zo=!!aa,sa=aa=null,e.current=r,qu=o;do{try{for(b=e;null!==qu;){var x=qu.effectTag;if(36&x&&nr(b,qu.alternate,qu),128&x){w=void 0;var E=qu.ref;if(null!==E){var C=qu.stateNode;switch(qu.tag){case 5:w=C;break;default:w=C}"function"==typeof E?E(w):E.current=w}}qu=qu.nextEffect}}catch(e){if(null===qu)throw Error(n(330));Br(qu,e),qu=qu.nextEffect}}while(null!==qu);qu=null,Is(),Pu=a}else e.current=r;if(Qu)Qu=!1,Ju=e,Zu=t;else for(qu=o;null!==qu;)t=qu.nextEffect,qu.nextEffect=null,qu=t;if(0===(t=e.firstPendingTime)&&(Yu=null),1073741823===t?e===tc?ec++:(ec=0,tc=e):ec=0,"function"==typeof oc&&oc(r.stateNode,i),yr(e),$u)throw $u=!1,e=Ku,Ku=null,e;return(Pu&Eu)!==xu||Ct(),null}function Mr(){for(;null!==qu;){var e=qu.effectTag;0!=(256&e)&&Xn(qu.alternate,qu),0==(512&e)||Qu||(Qu=!0,xt(97,(function(){return Dr(),null}))),qu=qu.nextEffect}}function Dr(){if(90!==Zu){var e=97<Zu?97:Zu;return Zu=90,St(e,Fr)}}function Fr(){if(null===Ju)return!1;var e=Ju;if(Ju=null,(Pu&(Cu|ku))!==xu)throw Error(n(331));var t=Pu;for(Pu|=ku,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:er(5,r),tr(5,r)}}catch(t){if(null===e)throw Error(n(330));Br(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Pu=t,Ct(),!0}function zr(e,t,n){Ft(e,t=dr(e,t=Qn(n,t),1073741823)),null!==(e=mr(e,1073741823))&&yr(e)}function Br(e,t){if(3===e.tag)zr(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zr(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){Ft(n,e=hr(n,e=Qn(t,e),1073741823)),null!==(n=mr(n,1073741823))&&yr(n);break}}n=n.return}}function jr(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Lu===e&&Du===n?Fu===Au||Fu===Nu&&1073741823===Bu&&Ps()-Wu<Gu?xr(e,Du):Vu=!0:Qr(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,yr(e)))}function Hr(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=gr(t=pr(),e,null)),null!==(e=mr(e,t))&&yr(e)}function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=sc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gr(e,t,r,i,o,a){var s=2;if(i=e,"function"==typeof e)Vr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case xi:return qr(r.children,o,a,t);case Ii:s=8,o|=7;break;case Ei:s=8,o|=1;break;case Ci:return(e=sc(12,r,t,8|o)).elementType=Ci,e.type=Ci,e.expirationTime=a,e;case Ni:return(e=sc(13,r,t,o)).type=Ni,e.elementType=Ni,e.expirationTime=a,e;case Ai:return(e=sc(19,r,t,o)).elementType=Ai,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ki:s=10;break e;case Ti:s=9;break e;case Oi:s=11;break e;case Ri:s=14;break e;case Pi:s=16,i=null;break e;case Li:s=22;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=sc(s,r,t,o)).elementType=e,t.type=i,t.expirationTime=a,t}function qr(e,t,n,r){return(e=sc(7,e,r,t)).expirationTime=n,e}function $r(e,t,n){return(e=sc(6,e,null,t)).expirationTime=n,e}function Kr(e,t,n){return(t=sc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yr(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Qr(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Jr(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Zr(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Xr(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function ei(e,t,r,i){var o=t.current,a=pr(),s=Hs.suspense;a=gr(a,o,s);e:if(r){t:{if(B(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(n(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(n(171))}if(1===r.tag){var c=r.type;if(gt(c)){r=vt(r,c,u);break e}}r=u}else r=hs;return null===t.context?t.context=r:t.pendingContext=r,(t=Dt(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),Ft(o,t),rc(o,a),a}function ti(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ni(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function ri(e,t){ni(e,t),(e=e.alternate)&&ni(e,t)}function ii(e,t,n){var r=new Yr(e,t,n=null!=n&&!0===n.hydrate),i=sc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Lt(i),e[ha]=r.current,n&&0!==t&&function(e,t){var n=z(t);Wo.forEach((function(e){J(e,t,n)})),Go.forEach((function(e){J(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function oi(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ai(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=ti(a);s.call(e)}}ei(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ii(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=ti(a);u.call(e)}}Sr((function(){ei(t,a,e,i)}))}return ti(a)}function si(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Si,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ui(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oi(t))throw Error(n(200));return si(e,t,null,r)}if(!t)throw Error(n(227));var ci=function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}},li=!1,fi=null,di=!1,hi=null,pi={onError:function(e){li=!0,fi=e}},gi=null,mi=null,vi=null,yi=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;yi.hasOwnProperty("ReactCurrentDispatcher")||(yi.ReactCurrentDispatcher={current:null}),yi.hasOwnProperty("ReactCurrentBatchConfig")||(yi.ReactCurrentBatchConfig={suspense:null});var _i=/^(.*)[\\\/]/,bi="function"==typeof Symbol&&Symbol.for,wi=bi?Symbol.for("react.element"):60103,Si=bi?Symbol.for("react.portal"):60106,xi=bi?Symbol.for("react.fragment"):60107,Ei=bi?Symbol.for("react.strict_mode"):60108,Ci=bi?Symbol.for("react.profiler"):60114,ki=bi?Symbol.for("react.provider"):60109,Ti=bi?Symbol.for("react.context"):60110,Ii=bi?Symbol.for("react.concurrent_mode"):60111,Oi=bi?Symbol.for("react.forward_ref"):60112,Ni=bi?Symbol.for("react.suspense"):60113,Ai=bi?Symbol.for("react.suspense_list"):60120,Ri=bi?Symbol.for("react.memo"):60115,Pi=bi?Symbol.for("react.lazy"):60116,Li=bi?Symbol.for("react.block"):60121,Mi="function"==typeof Symbol&&Symbol.iterator,Di=null,Fi={},zi=[],Bi={},ji={},Hi={},Ui=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vi=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,Wi=null,Gi=null,qi=null,$i=function(e,t){return e(t)},Ki=function(e,t,n,r,i){return e(t,n,r,i)},Yi=function(){},Qi=$i,Ji=!1,Zi=!1,Xi=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,eo=Xi.unstable_cancelCallback,to=Xi.unstable_now,no=Xi.unstable_scheduleCallback,ro=Xi.unstable_shouldYield,io=Xi.unstable_requestPaint,oo=Xi.unstable_runWithPriority,ao=Xi.unstable_getCurrentPriorityLevel,so=Xi.unstable_ImmediatePriority,uo=Xi.unstable_UserBlockingPriority,co=Xi.unstable_NormalPriority,lo=Xi.unstable_LowPriority,fo=Xi.unstable_IdlePriority,ho=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,po=Object.prototype.hasOwnProperty,go={},mo={},vo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){vo[e]=new m(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];vo[t]=new m(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){vo[e]=new m(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){vo[e]=new m(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){vo[e]=new m(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){vo[e]=new m(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){vo[e]=new m(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){vo[e]=new m(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){vo[e]=new m(e,5,!1,e.toLowerCase(),null,!1)}));var yo=/[\-:]([a-z])/g,_o=function(e){return e[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yo,_o);vo[t]=new m(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yo,_o);vo[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yo,_o);vo[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){vo[e]=new m(e,1,!1,e.toLowerCase(),null,!1)})),vo.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){vo[e]=new m(e,1,!1,e.toLowerCase(),null,!0)}));var bo,wo,So=(wo=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((bo=bo||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return wo(e,t)}))}:wo),xo=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t},Eo={animationend:D("Animation","AnimationEnd"),animationiteration:D("Animation","AnimationIteration"),animationstart:D("Animation","AnimationStart"),transitionend:D("Transition","TransitionEnd")},Co={},ko={};Ui&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);var To=F("animationend"),Io=F("animationiteration"),Oo=F("animationstart"),No=F("transitionend"),Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ro=new("function"==typeof WeakMap?WeakMap:Map),Po=null,Lo=function(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)i(e,t[r],n[r]);else t&&i(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}},Mo=[],Do=!1,Fo=[],zo=null,Bo=null,jo=null,Ho=new Map,Uo=new Map,Vo=[],Wo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Go="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),qo={},$o=new Map,Ko=new Map,Yo=["abort","abort",To,"animationEnd",Io,"animationIteration",Oo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",No,"transitionEnd","waiting","waiting"];se("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),se("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),se(Yo,2),function(e,t){for(var n=0;n<e.length;n++)Ko.set(e[n],0)}("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "));var Qo=uo,Jo=oo,Zo=!0,Xo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ea=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach((function(e){ea.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]}))}));var ta=Vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),na="$",ra="/$",ia="$?",oa="$!",aa=null,sa=null,ua="function"==typeof setTimeout?setTimeout:void 0,ca="function"==typeof clearTimeout?clearTimeout:void 0,la=Math.random().toString(36).slice(2),fa="__reactInternalInstance$"+la,da="__reactEventHandlers$"+la,ha="__reactContainere$"+la,pa=null,ga=null,ma=null;Vi(We.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ue)},persist:function(){this.isPersistent=Ue},isPersistent:Ve,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ve,this._dispatchInstances=this._dispatchListeners=null}}),We.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},We.extend=function(e){function t(){return n.apply(this,arguments)}var n=this,r=function(){};return r.prototype=n.prototype,r=new r,Vi(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=Vi({},n.Interface,e),t.extend=n.extend,$e(t),t},$e(We);var va=We.extend({data:null}),ya=We.extend({data:null}),_a=[9,13,27,32],ba=Ui&&"CompositionEvent"in window,wa=null;Ui&&"documentMode"in document&&(wa=document.documentMode);var Sa=Ui&&"TextEvent"in window&&!wa,xa=Ui&&(!ba||wa&&8<wa&&11>=wa),Ea=String.fromCharCode(32),Ca={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ka=!1,Ta=!1,Ia={eventTypes:Ca,extractEvents:function(e,t,n,r,i){var o;if(ba)e:{switch(e){case"compositionstart":var a=Ca.compositionStart;break e;case"compositionend":a=Ca.compositionEnd;break e;case"compositionupdate":a=Ca.compositionUpdate;break e}a=void 0}else Ta?Ke(e,n)&&(a=Ca.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Ca.compositionStart);return a?(xa&&"ko"!==n.locale&&(Ta||a!==Ca.compositionStart?a===Ca.compositionEnd&&Ta&&(o=He()):(ga="value"in(pa=r)?pa.value:pa.textContent,Ta=!0)),i=va.getPooled(a,t,n,r),o?i.data=o:null!==(o=Ye(n))&&(i.data=o),je(i),o=i):o=null,(e=Sa?function(e,t){switch(e){case"compositionend":return Ye(t);case"keypress":return 32!==t.which?null:(ka=!0,Ea);case"textInput":return(e=t.data)===Ea&&ka?null:e;default:return null}}(e,n):function(e,t){if(Ta)return"compositionend"===e||!ba&&Ke(e,t)?(e=He(),ma=ga=pa=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xa&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ya.getPooled(Ca.beforeInput,t,n,r)).data=e,je(t)):t=null,null===o?t:null===t?o:[o,t]}},Oa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Na={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Aa=null,Ra=null,Pa=!1;Ui&&(Pa=$("input")&&(!document.documentMode||9<document.documentMode));var La={eventTypes:Na,_isInputEventSupported:Pa,extractEvents:function(e,t,n,r,i){var o=(i=t?Re(t):window).nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=et;else if(Qe(i))if(Pa)a=at;else{a=it;var s=rt}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=ot);if(a&&(a=a(e,t)))return Je(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&T(i,"number",i.value)}},Ma=We.extend({view:null,detail:null}),Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Fa=0,za=0,Ba=!1,ja=!1,Ha=Ma.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ut,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Fa;return Fa=e.screenX,Ba?"mousemove"===e.type?e.screenX-t:0:(Ba=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=za;return za=e.screenY,ja?"mousemove"===e.type?e.screenY-t:0:(ja=!0,0)}}),Ua=Ha.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Va={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Wa={eventTypes:Va,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Ne(t):null)&&(t!==B(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ha,u=Va.mouseLeave,c=Va.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ua,u=Va.pointerLeave,c=Va.pointerEnter,l="pointer");if(e=null==a?o:Re(a),o=null==t?o:Re(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=Le(e))a++;for(e=0,t=c;t;t=Le(t))e++;for(;0<a-e;)s=Le(s),a--;for(;0<e-a;)c=Le(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Le(s),c=Le(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Le(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=Le(l);for(l=0;l<s.length;l++)ze(s[l],"bubbled",u);for(l=r.length;0<l--;)ze(r[l],"captured",n);return 0==(64&i)?[u]:[u,n]}},Ga="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qa=Object.prototype.hasOwnProperty,$a=Ui&&"documentMode"in document&&11>=document.documentMode,Ka={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ya=null,Qa=null,Ja=null,Za=!1,Xa={eventTypes:Ka,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=z(i),o=Hi.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Re(t):window,e){case"focus":(Qe(i)||"true"===i.contentEditable)&&(Ya=i,Qa=t,Ja=null);break;case"blur":Ja=Qa=Ya=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":return Za=!1,lt(n,r);case"selectionchange":if($a)break;case"keydown":case"keyup":return lt(n,r)}return null}},es=We.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ts=We.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ns=Ma.extend({relatedTarget:null}),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},is={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},os=Ma.extend({key:function(e){if(e.key){var t=rs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ft(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?is[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ut,charCode:function(e){return"keypress"===e.type?ft(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ft(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),as=Ha.extend({dataTransfer:null}),ss=Ma.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ut}),us=We.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cs=Ha.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ls={eventTypes:qo,extractEvents:function(e,t,n,r,i){if(!(i=$o.get(e)))return null;switch(e){case"keypress":if(0===ft(n))return null;case"keydown":case"keyup":e=os;break;case"blur":case"focus":e=ns;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=as;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ss;break;case To:case Io:case Oo:e=es;break;case No:e=us;break;case"scroll":e=Ma;break;case"wheel":e=cs;break;case"copy":case"cut":case"paste":e=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ua;break;default:e=We}return je(t=e.getPooled(i,t,n,r)),t}};!function(e){if(Di)throw Error(n(101));Di=Array.prototype.slice.call(e),u()}("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),function(e,t,n){gi=e,mi=t,vi=n}(Pe,Ae,Re),l({SimpleEventPlugin:ls,EnterLeaveEventPlugin:Wa,ChangeEventPlugin:La,SelectEventPlugin:Xa,BeforeInputEventPlugin:Ia});var fs=[],ds=-1,hs={},ps={current:hs},gs={current:!1},ms=hs,vs=oo,ys=no,_s=eo,bs=ao,ws=so,Ss=uo,xs=co,Es=lo,Cs=fo,ks={},Ts=ro,Is=void 0!==io?io:function(){},Os=null,Ns=null,As=!1,Rs=to(),Ps=1e4>Rs?to:function(){return to()-Rs},Ls={current:null},Ms=null,Ds=null,Fs=null,zs=0,Bs=2,js=!1,Hs=yi.ReactCurrentBatchConfig,Us=(new t.Component).refs,Vs={isMounted:function(e){return!!(e=e._reactInternalFiber)&&B(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=pr(),i=Hs.suspense;(i=Dt(r=gr(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Ft(e,i),rc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=pr(),i=Hs.suspense;(i=Dt(r=gr(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Ft(e,i),rc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=pr(),r=Hs.suspense;(r=Dt(n=gr(n,e,r),r)).tag=Bs,null!=t&&(r.callback=t),Ft(e,r),rc(e,n)}},Ws=Array.isArray,Gs=Kt(!0),qs=Kt(!1),$s={},Ks={current:$s},Ys={current:$s},Qs={current:$s},Js={current:0},Zs=yi.ReactCurrentDispatcher,Xs=yi.ReactCurrentBatchConfig,eu=0,tu=null,nu=null,ru=null,iu=!1,ou={readContext:Pt,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useResponder:nn,useDeferredValue:nn,useTransition:nn},au={readContext:Pt,useCallback:Sn,useContext:Pt,useEffect:mn,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,pn(4,2,_n.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pn(4,2,e,t)},useMemo:function(e,t){var n=an();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=kn.bind(null,tu,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},an().memoizedState=e},useState:fn,useDebugValue:wn,useResponder:tn,useDeferredValue:function(e,t){var n=fn(e),r=n[0],i=n[1];return mn((function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=fn(!1),n=t[0];return t=t[1],[Sn(Cn.bind(null,t,e),[t,e]),n]}},su={readContext:Pt,useCallback:xn,useContext:Pt,useEffect:vn,useImperativeHandle:bn,useLayoutEffect:yn,useMemo:En,useReducer:cn,useRef:hn,useState:function(e){return cn(un)},useDebugValue:wn,useResponder:tn,useDeferredValue:function(e,t){var n=cn(un),r=n[0],i=n[1];return vn((function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=cn(un),n=t[0];return t=t[1],[xn(Cn.bind(null,t,e),[t,e]),n]}},uu={readContext:Pt,useCallback:xn,useContext:Pt,useEffect:vn,useImperativeHandle:bn,useLayoutEffect:yn,useMemo:En,useReducer:ln,useRef:hn,useState:function(e){return ln(un)},useDebugValue:wn,useResponder:tn,useDeferredValue:function(e,t){var n=ln(un),r=n[0],i=n[1];return vn((function(){var n=Xs.suspense;Xs.suspense=void 0===t?null:t;try{i(e)}finally{Xs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ln(un),n=t[0];return t=t[1],[xn(Cn.bind(null,t,e),[t,e]),n]}},cu=null,lu=null,fu=!1,du=yi.ReactCurrentOwner,hu=!1,pu={dehydrated:null,retryTime:0},gu=function(e,t,n,r){for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mu=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a,s,u=t.stateNode;switch(Yt(Ks.current),e=null,n){case"input":o=S(u,o),r=S(u,r),e=[];break;case"option":o=I(u,o),r=I(u,r),e=[];break;case"select":o=Vi({},o,{value:void 0}),r=Vi({},r,{value:void 0}),e=[];break;case"textarea":o=N(u,o),r=N(u,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(u.onclick=_e)}for(a in me(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in u=o[a])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ji.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(u=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(a,c)):"children"===a?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(ji.hasOwnProperty(a)?(null!=c&&ye(i,a),e||u===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},vu=function(e,t,n,r){n!==r&&(t.effectTag|=4)},yu="function"==typeof WeakSet?WeakSet:Set,_u="function"==typeof WeakMap?WeakMap:Map,bu=Math.ceil,wu=yi.ReactCurrentDispatcher,Su=yi.ReactCurrentOwner,xu=0,Eu=8,Cu=16,ku=32,Tu=0,Iu=1,Ou=2,Nu=3,Au=4,Ru=5,Pu=xu,Lu=null,Mu=null,Du=0,Fu=Tu,zu=null,Bu=1073741823,ju=1073741823,Hu=null,Uu=0,Vu=!1,Wu=0,Gu=500,qu=null,$u=!1,Ku=null,Yu=null,Qu=!1,Ju=null,Zu=90,Xu=null,ec=0,tc=null,nc=0,rc=function(e,t){if(50<ec)throw ec=0,tc=null,Error(n(185));if(null!==(e=mr(e,t))){var r=bt();1073741823===t?(Pu&Eu)!==xu&&(Pu&(Cu|ku))===xu?br(e):(yr(e),Pu===xu&&Ct()):yr(e),(4&Pu)===xu||98!==r&&99!==r||(null===Xu?Xu=new Map([[e,t]]):(void 0===(r=Xu.get(e))||r>t)&&Xu.set(e,t))}},ic=function(e,t,r){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||gs.current)hu=!0;else{if(i<r){switch(hu=!1,t.tag){case 3:Hn(t),Rn();break;case 5:if(Zt(t),4&t.mode&&1!==r&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gt(t.type)&&yt(t);break;case 4:Qt(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,ht(Ls,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=r?Un(e,t,r):(ht(Js,1&Js.current),null!==(t=qn(e,t,r))?t.sibling:null);ht(Js,1&Js.current);break;case 19:if(i=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(i)return Gn(e,t,r);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),ht(Js,Js.current),!i)return null}return qn(e,t,r)}hu=!1}}else hu=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=pt(t,ps.current),Rt(t,r),o=on(null,t,i,e,o,r),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(i)){var a=!0;yt(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Lt(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&Ht(t,i,s,e),o.updater=Vs,t.stateNode=o,o._reactInternalFiber=t,Gt(t,i,e,r),t=jn(null,t,i,!0,a,r)}else t.tag=0,Pn(null,t,o,r),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=function(e){if("function"==typeof e)return Vr(e)?1:0;if(null!=e){if((e=e.$$typeof)===Oi)return 11;if(e===Ri)return 14}return 2}(o),e=It(o,e),a){case 0:t=zn(null,t,o,e,r);break e;case 1:t=Bn(null,t,o,e,r);break e;case 11:t=Ln(null,t,o,e,r);break e;case 14:t=Mn(null,t,o,It(o.type,e),i,r);break e}throw Error(n(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,zn(e,t,i,o=t.elementType===i?o:It(i,o),r);case 1:return i=t.type,o=t.pendingProps,Bn(e,t,i,o=t.elementType===i?o:It(i,o),r);case 3:if(Hn(t),i=t.updateQueue,null===e||null===i)throw Error(n(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,Mt(e,t),Bt(t,i,null,r),(i=t.memoizedState.element)===o)Rn(),t=qn(e,t,r);else{if((o=t.stateNode.hydrate)&&(lu=Ie(t.stateNode.containerInfo.firstChild),cu=t,o=fu=!0),o)for(r=qs(t,null,i,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Pn(e,t,i,r),Rn();t=t.child}return t;case 5:return Zt(t),null===e&&On(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Te(i,o)?s=null:null!==a&&Te(i,a)&&(t.effectTag|=16),Fn(e,t),4&t.mode&&1!==r&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pn(e,t,s,r),t=t.child),t;case 6:return null===e&&On(t),null;case 13:return Un(e,t,r);case 4:return Qt(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Gs(t,null,i,r):Pn(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,Ln(e,t,i,o=t.elementType===i?o:It(i,o),r);case 7:return Pn(e,t,t.pendingProps,r),t.child;case 8:case 12:return Pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(ht(Ls,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=Ga(u,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!gs.current){t=qn(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!=(l.observedBits&a)){1===u.tag&&((l=Dt(r,null)).tag=Bs,Ft(u,l)),u.expirationTime<r&&(u.expirationTime=r),null!==(l=u.alternate)&&l.expirationTime<r&&(l.expirationTime=r),At(u.return,r),c.expirationTime<r&&(c.expirationTime=r);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Pn(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=(a=t.pendingProps).children,Rt(t,r),i=i(o=Pt(o,a.unstable_observedBits)),t.effectTag|=1,Pn(e,t,i,r),t.child;case 14:return a=It(o=t.type,t.pendingProps),Mn(e,t,o,a=It(o.type,a),i,r);case 15:return Dn(e,t,t.type,t.pendingProps,i,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:It(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gt(i)?(e=!0,yt(t)):e=!1,Rt(t,r),Vt(t,i,o),Gt(t,i,o,r),jn(null,t,i,!0,e,r);case 19:return Gn(e,t,r)}throw Error(n(156,t.tag))},oc=null,ac=null,sc=function(e,t,n,r){return new Ur(e,t,n,r)};ii.prototype.render=function(e){ei(e,this._internalRoot,null,null)},ii.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ei(null,e,null,(function(){t[ha]=null}))};var uc=function(e){if(13===e.tag){var t=Tt(pr(),150,100);rc(e,t),ri(e,t)}},cc=function(e){13===e.tag&&(rc(e,3),ri(e,3))},lc=function(e){if(13===e.tag){var t=pr();t=gr(t,e,null),rc(e,t),ri(e,t)}};Wi=function(e,t,r){switch(t){case"input":if(C(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=Pe(i);if(!o)throw Error(n(90));w(i),C(i,o)}}}break;case"textarea":R(e,r);break;case"select":null!=(t=r.value)&&O(e,!!r.multiple,t,!1)}},function(e,t,n,r){$i=e,Ki=function(e,t,n,r,i){var o=Pu;Pu|=4;try{return St(98,e.bind(null,t,n,r,i))}finally{(Pu=o)===xu&&Ct()}},Yi=function(){(Pu&(1|Cu|ku))===xu&&(function(){if(null!==Xu){var e=Xu;Xu=null,e.forEach((function(e,t){Xr(t,e),yr(t)})),Ct()}}(),Dr())},Qi=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{(Pu=n)===xu&&Ct()}}}(wr);var fc={Events:[Ae,Re,Pe,l,Bi,je,function(e){W(e,Be)},d,h,de,G,Dr,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);oc=function(e,r){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},ac=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(Vi({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=U(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ne,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fc,e.createPortal=ui,e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)))}return e=null===(e=U(t))?null:e.stateNode},e.flushSync=function(e,t){if((Pu&(Cu|ku))!==xu)throw Error(n(187));var r=Pu;Pu|=1;try{return St(99,e.bind(null,t))}finally{Pu=r,Ct()}},e.hydrate=function(e,t,r){if(!oi(t))throw Error(n(200));return ai(null,e,t,!0,r)},e.render=function(e,t,r){if(!oi(t))throw Error(n(200));return ai(null,e,t,!1,r)},e.unmountComponentAtNode=function(e){if(!oi(e))throw Error(n(40));return!!e._reactRootContainer&&(Sr((function(){ai(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},e.unstable_batchedUpdates=wr,e.unstable_createPortal=function(e,t){return ui(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!oi(r))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return ai(e,t,r,!1,i)},e.version="16.13.0"}(N,t);var{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:A,createPortal:R,findDOMNode:P,flushSync:L,hydrate:M,render:D,unmountComponentAtNode:F,unstable_batchedUpdates:z,unstable_createPortal:B,unstable_renderSubtreeIntoContainer:j,version:H}=N;function U(e){return e}var V=U;function W(e){return function(t){return!e(t)}}function G(e){return function(){return e}}var q=G(!0),$=G(!1),K=G(null),Y=G(void 0);function Q(e,t,n,r,i,o,a,s,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(a(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(s(a(o(i(r(n(t(e.apply(this,arguments)))))))))}}}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function Z(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,g,m,v,y,_){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return a(o(i(r(n(t(e))))));case 8:return s(a(o(i(r(n(t(e)))))));case 9:return u(s(a(o(i(r(n(t(e))))))));case 10:return c(u(s(a(o(i(r(n(t(e)))))))));case 11:return l(c(u(s(a(o(i(r(n(t(e))))))))));case 12:return f(l(c(u(s(a(o(i(r(n(t(e)))))))))));case 13:return d(f(l(c(u(s(a(o(i(r(n(t(e))))))))))));case 14:return h(d(f(l(c(u(s(a(o(i(r(n(t(e)))))))))))));case 15:return p(h(d(f(l(c(u(s(a(o(i(r(n(t(e))))))))))))));case 16:return g(p(h(d(f(l(c(u(s(a(o(i(r(n(t(e)))))))))))))));case 17:return m(g(p(h(d(f(l(c(u(s(a(o(i(r(n(t(e))))))))))))))));case 18:return v(m(g(p(h(d(f(l(c(u(s(a(o(i(r(n(t(e)))))))))))))))));case 19:return y(v(m(g(p(h(d(f(l(c(u(s(a(o(i(r(n(t(e))))))))))))))))));case 20:return _(y(v(m(g(p(h(d(f(l(c(u(s(a(o(i(r(n(t(e)))))))))))))))))))}}var X=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},ee=function(e){return function(t){var n;return(n={})[e]=t,n}},te=function(e){return"Some"===e._tag},ne=function(e){return"None"===e._tag},re={_tag:"None"},ie=function(e){return{_tag:"Some",value:e}};function oe(e){return null==e?re:ie(e)}function ae(e){return function(t){return e(t)?ie(t):re}}function se(e){return"Right"===e._tag?re:ie(e.left)}function ue(e){return"Left"===e._tag?re:ie(e.right)}var ce=ue;function le(e,t){return function(n){return ne(n)?e():t(n.value)}}function fe(e){return ne(e)?null:e.value}function de(e){return ne(e)?void 0:e.value}var he=function(e){return function(t){return ne(t)?e():t.value}},pe=he;var ge=me;function me(e){return function(t){return ne(t)?re:oe(e(t.value))}}var ve=function(e,t){return Z(e,Re(t))},ye=function(e,t){return Z(e,Pe(t))},_e=function(e,t){return Z(e,Me(t))},be=function(e,t,n){return Z(e,Ve(t,n))},we=function(e){var t=We(e);return function(e,n){return Z(e,t(n))}},Se=function(e,t,n){return Z(e,Ge(t,n))},xe=function(e){var t=Xe(e);return function(e,n){return Z(e,t(n))}},Ee=function(e,t){return Z(e,ze(t))},Ce=function(e,t){return Z(e,Ye(t))},ke=function(e,t){return Z(e,Qe(t))},Te=function(e,t){return Z(e,He(t))},Ie=function(e,t){return Z(e,Je(t))},Oe=function(e,t){return Z(e,Ze(t))},Ne=function(e){var t=tt(e);return function(e,n){return Z(e,t(n))}},Ae=function(e){var t=nt(e);return function(e,n){return Z(e,t(n))}},Re=function(e){return function(t){return ne(t)?re:ie(e(t.value))}},Pe=function(e){return function(t){return ne(t)||ne(e)?re:ie(t.value(e.value))}},Le=ie,Me=function(e){return function(t){return ne(t)?re:e(t.value)}},De=Me(U),Fe=function(e){return function(t){return ne(t)?e():t}},ze=Fe,Be=function(){return re},je=function(){return re},He=function(e){return function(t){return ne(t)?re:ie(e(t))}},Ue=He(U),Ve=function(e,t){return function(n){return ne(n)?e:t(e,n.value)}},We=function(e){return function(t){return function(n){return ne(n)?e.empty:t(n.value)}}},Ge=function(e,t){return function(n){return ne(n)?e:t(n.value,e)}},qe=De,$e={left:re,right:re},Ke=function(e){var t=Z(e,Re((function(e){return{left:se(e),right:ue(e)}})));return ne(t)?$e:t.value},Ye=function(e){return function(t){return ne(t)?re:e(t.value)?t:re}},Qe=function(e){return function(t){return ne(t)?re:e(t.value)}},Je=function(e){return function(t){return{left:Ce(t,(function(t){return!e(t)})),right:Ce(t,e)}}},Ze=function(e){return Q(Re(e),Ke)},Xe=function(e){return function(t){return function(n){return ne(n)?e.of(re):e.map(t(n.value),ie)}}},et=function(e){return function(t){return ne(t)?e.of(re):e.map(t.value,ie)}},tt=function(e){return function(t){return function(n){return ne(n)?e.of(re):t(n.value)}}},nt=function(e){return function(t){return function(n){return ne(n)?e.of({left:re,right:re}):e.map(t(n.value),(function(e){return{left:se(e),right:ue(e)}}))}}},rt="Option";function it(e){return{show:function(t){return ne(t)?"none":"some("+e.show(t.value)+")"}}}function ot(e){return{equals:function(t,n){return t===n||(ne(t)?ne(n):!ne(n)&&e.equals(t.value,n.value))}}}function at(e){return{concat:function(t,n){return te(t)&&te(n)?ie(e.concat(t.value,n.value)):re}}}function st(){return{concat:function(e,t){return ne(e)?t:e},empty:re}}function ut(e){return{concat:function(t,n){return ne(t)?n:ne(n)?t:ie(e.concat(t.value,n.value))},empty:re}}var ct={URI:rt,map:ve},lt={URI:rt,map:ve,ap:ye,of:Le},ft={URI:rt,map:ve,ap:ye,of:Le,chain:_e},dt={URI:rt,reduce:be,foldMap:we,reduceRight:Se},ht={URI:rt,map:ve,alt:Ee},pt={URI:rt,map:ve,ap:ye,of:Le,alt:Ee,zero:Be},gt={URI:rt,map:ve,extend:Te},mt={URI:rt,compact:qe,separate:Ke},vt={URI:rt,map:ve,compact:qe,separate:Ke,filter:Ce,filterMap:ke,partition:Ie,partitionMap:Oe},yt={URI:rt,map:ve,reduce:be,foldMap:we,reduceRight:Se,traverse:xe,sequence:et},_t={URI:rt,map:ve,reduce:be,foldMap:we,reduceRight:Se,traverse:xe,sequence:et,compact:qe,separate:Ke,filter:Ce,filterMap:ke,partition:Ie,partitionMap:Oe,wither:Ne,wilt:Ae},bt={URI:rt,map:ve,ap:ye,of:Le,chain:_e,throwError:je},wt={URI:rt,map:ve,of:Le,ap:ye,chain:_e,reduce:be,foldMap:we,reduceRight:Se,traverse:xe,sequence:et,zero:Be,alt:Ee,extend:Te,compact:qe,separate:Ke,filter:Ce,filterMap:ke,partition:Ie,partitionMap:Oe,wither:Ne,wilt:Ae,throwError:je};function St(e){return function(t){return!ne(t)&&e(t.value)}}var xt=Le({}),Et=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);if(ne(i))return re;n.push(i.value)}return ie(n)}},Ct=function(e){return Et((function(t,n){return e(n)}))},kt=Ct(U),Tt=Object.freeze({__proto__:null,isSome:te,isNone:ne,none:re,some:ie,fromNullable:oe,fromPredicate:ae,tryCatch:function(e){try{return ie(e())}catch(e){return re}},getLeft:se,getRight:ue,fromEither:ce,fold:le,toNullable:fe,toUndefined:de,getOrElseW:he,getOrElse:pe,fromNullableK:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oe(e.apply(void 0,t))}},mapNullable:ge,chainNullableK:me,map:Re,ap:Pe,apFirst:function(e){return Q(Re((function(e){return function(){return e}})),Pe(e))},apSecond:function(e){return Q(Re((function(){return function(e){return e}})),Pe(e))},of:Le,chain:Me,chainFirst:function(e){return Me((function(t){return Z(e(t),Re((function(){return t})))}))},flatten:De,altW:Fe,alt:ze,zero:Be,throwError:je,extend:He,duplicate:Ue,reduce:Ve,foldMap:We,reduceRight:Ge,compact:qe,separate:Ke,filter:Ye,filterMap:Qe,partition:Je,partitionMap:Ze,traverse:Xe,sequence:et,wither:tt,wilt:nt,URI:rt,getShow:it,getEq:ot,getOrd:function(e){return{equals:ot(e).equals,compare:function(t,n){return t===n?0:te(t)?te(n)?e.compare(t.value,n.value):1:-1}}},getApplySemigroup:at,getApplyMonoid:function(e){return{concat:at(e).concat,empty:ie(e.empty)}},getFirstMonoid:st,getLastMonoid:function(){return{concat:function(e,t){return ne(t)?e:t},empty:re}},getMonoid:ut,Functor:ct,Applicative:lt,Monad:ft,Foldable:dt,Alt:ht,Alternative:pt,Extend:gt,Compactable:mt,Filterable:vt,Traversable:yt,Witherable:_t,MonadThrow:bt,option:wt,elem:function(e){return function(t,n){return!ne(n)&&e.equals(t,n.value)}},exists:St,getRefinement:function(e){return function(t){return te(e(t))}},Do:xt,bindTo:function(e){return Re(ee(e))},bind:function(e,t){return Me((function(n){return Z(t(n),Re((function(t){return X(n,e,t)})))}))},apS:function(e,t){return Q(Re((function(t){return function(n){return X(t,e,n)}})),Pe(t))},traverseArrayWithIndex:Et,traverseArray:Ct,sequenceArray:kt});function It(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}var Ot=function(e){return"Left"===e._tag},Nt=function(e){return"Right"===e._tag},At=function(e){return{_tag:"Left",left:e}},Rt=function(e){return{_tag:"Right",right:e}};function Pt(e){return function(t){return null==t?At(e):Rt(t)}}var Lt=function(e){return function(t){return"None"===t._tag?At(e()):Rt(t.value)}},Mt=function(e,t){return function(n){return e(n)?Rt(n):At(t(n))}};function Dt(e,t){return function(n){return Ot(n)?e(n.left):t(n.right)}}var Ft=function(e){return function(t){return Ot(t)?e(t.left):t.right}},zt=function(e){return function(t){return Ot(t)?t:Rt(e(t.right))}},Bt=function(e,t){return function(n){return Ot(n)?At(e(n.left)):Rt(t(n.right))}},jt=function(e){return function(t){return Ot(t)?At(e(t.left)):t}},Ht=function(e){return function(t){return Ot(t)?t:Ot(e)?e:Rt(t.right(e.right))}},Ut=function(e){return function(t){return Ot(t)?t:e(t.right)}},Vt=function(e){return function(t){return Ot(t)?e():t}},Wt=function(e){return function(t){return Ot(t)?t:Rt(e(t))}},Gt=function(e,t){return function(n){return Ot(n)?e:t(e,n.right)}},qt=function(e){return function(t){return function(n){return Ot(n)?e.empty:t(n.right)}}},$t=function(e,t){return function(n){return Ot(n)?e:t(n.right,e)}},Kt=function(e){return function(t){return function(n){return Ot(n)?e.of(At(n.left)):e.map(t(n.right),Rt)}}};var Yt={URI:"Either",map:function(e,t){return Z(e,zt(t))},of:Rt,ap:function(e,t){return Z(e,Ht(t))},chain:function(e,t){return Z(e,Ut(t))},reduce:function(e,t,n){return Z(e,Gt(t,n))},foldMap:function(e){return function(t,n){return Z(t,qt(e)(n))}},reduceRight:function(e,t,n){return Z(e,$t(t,n))},traverse:function(e){var t=Kt(e);return function(e,n){return Z(e,t(n))}},sequence:function(e){return function(t){return Ot(t)?e.of(At(t.left)):e.map(t.right,Rt)}},bimap:function(e,t,n){return Z(e,Bt(t,n))},mapLeft:function(e,t){return Z(e,jt(t))},alt:function(e,t){return Z(e,Vt(t))},extend:function(e,t){return Z(e,Wt(t))},chainRec:function(e,t){return It(t(e),(function(e){return Ot(e)?Rt(At(e.left)):Ot(e.right)?At(t(e.right.left)):Rt(Rt(e.right.right))}))},throwError:At};function Qt(e){return e instanceof Error?e:new Error(String(e))}var Jt={concat:function(e,t){return 0!==e?e:t},empty:0};function Zt(e,t){return e<t?-1:e>t?1:0}function Xt(e,t){return e===t}var en={equals:Xt,compare:Zt},tn={equals:Xt,compare:Zt},nn={equals:Xt,compare:Zt};function rn(e){return function(t,n){return-1===e.compare(t,n)}}function on(e){return function(t,n){return 1===e.compare(t,n)}}function an(e){return function(t,n){return 1===e.compare(t,n)?n:t}}function sn(e){return function(t,n){return-1===e.compare(t,n)?n:t}}function un(e){var t=rn(e),n=on(e);return function(e,r){return function(i){return!t(i,e)&&!n(i,r)}}}function cn(e){var t=function(t,n){return t===n?0:e(t,n)};return{equals:function(e,n){return 0===t(e,n)},compare:t}}function ln(){return{concat:function(e,t){return cn((function(n,r){return Jt.concat(e.compare(n,r),t.compare(n,r))}))}}}function fn(e){return cn((function(t,n){return e.compare(n,t)}))}var dn=function(e){return function(t){return cn((function(n,r){return t.compare(e(n),e(r))}))}},hn=Z(tn,dn((function(e){return e.valueOf()}))),pn={URI:"Ord",contramap:function(e,t){return Z(e,dn(t))}},gn=pn,mn=Object.freeze({__proto__:null,ordString:en,ordNumber:tn,ordBoolean:nn,lt:rn,gt:on,leq:function(e){return function(t,n){return 1!==e.compare(t,n)}},geq:function(e){return function(t,n){return-1!==e.compare(t,n)}},min:an,max:sn,clamp:function(e){var t=an(e),n=sn(e);return function(e,r){return function(i){return n(t(i,r),e)}}},between:un,fromCompare:cn,getSemigroup:ln,getMonoid:function(){return{concat:ln().concat,empty:cn((function(){return 0}))}},getTupleOrd:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return cn((function(t,r){for(var i=0;i<n-1;i++){var o=e[i].compare(t[i],r[i]);if(0!==o)return o}return e[i].compare(t[i],r[i])}))},getDualOrd:fn,contramap:dn,URI:"Ord",ordDate:hn,Contravariant:pn,ord:gn});var vn=function(e,t){var n=e.length;if(0===n)return t;var r=t.length;if(0===r)return e;for(var i=Array(n+r),o=0;o<n;o++)i[o]=e[o];for(o=0;o<r;o++)i[o+n]=t[o];return i};function yn(e,t){return e<0||e>=t.length}function _n(e,t){return void 0===t?function(t){return _n(e,t)}:yn(e,t)?re:ie(t[e])}var bn=function(e){return[e]},wn=function(e){return function(t){return t.map((function(t){return e(t)}))}},Sn=function(e){return function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);te(i)&&n.push(i.value)}return n}}((function(t,n){return e(n)}))},xn=Sn(U),En=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];e(i,o)?r.push(o):n.push(o)}return{left:n,right:r}}},Cn=function(e){return function(t){return function(e,t){return function(n){return function(e,t,n){for(var r=e.length,i=t,o=0;o<r;o++)i=n(o,i,e[o]);return i}(n,e,t)}}(e.of(kn),(function(n,r,i){return e.ap(e.map(r,(function(e){return function(t){return function(e,t){for(var n=e.length,r=Array(n+1),i=0;i<n;i++)r[i]=e[i];return r[n]=t,r}(e,t)}})),t(n,i))}))}},kn=[];function Tn(e){return function(t,n){if(void 0===n){var r=Tn(e);return function(e){return r(t,e)}}return n.reduce(e.concat,t)}}function In(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:function(t,n){return e.map((function(e,r){return e.concat(t[r],n[r])}))}}}function On(e){return{concat:function(t,n){return e.concat(n,t)}}}function Nn(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}}function An(e){return{concat:function(t,n){for(var r={},i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];r[a]=e[a].concat(t[a],n[a])}return r}}}function Rn(e){return{concat:an(e)}}function Pn(e){return{concat:sn(e)}}var Ln={concat:function(e,t){return e&&t}},Mn={concat:function(e,t){return e||t}},Dn={concat:function(e,t){return e+t}},Fn={concat:function(e,t){return e*t}},zn={concat:function(e,t){return e+t}},Bn={concat:function(){}};var jn=Object.freeze({__proto__:null,fold:Tn,getFirstSemigroup:function(){return{concat:U}},getLastSemigroup:function(){return{concat:function(e,t){return t}}},getTupleSemigroup:In,getDualSemigroup:On,getFunctionSemigroup:Nn,getStructSemigroup:An,getMeetSemigroup:Rn,getJoinSemigroup:Pn,getObjectSemigroup:function(){return{concat:function(e,t){return Object.assign({},e,t)}}},semigroupAll:Ln,semigroupAny:Mn,semigroupSum:Dn,semigroupProduct:Fn,semigroupString:zn,semigroupVoid:Bn,getIntercalateSemigroup:function(e){return function(t){return{concat:function(n,r){return t.concat(n,t.concat(e,r))}}}}});var Hn=function(e){return function(e){return function(e){return e.length>0}(e)?ie(e):re}(function(e){var t=e.length;if(0===t)return kn;for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}(e))},Un=function(e){return e[0]};function Vn(e){for(var t=e.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}var Wn=bn,Gn=wn,qn=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},$n=function(e){var t=Cn(e);return function(e){return t((function(t,n){return e(n)}))}},Kn=function(e,t){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Yn(e,t){function n(){this.constructor=e}Kn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Qn=function(){return(Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Jn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Zn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Xn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function er(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var tr=Z;var nr=Object.freeze({__proto__:null,pipe:tr,pipeable:function(e){var t={};if(function(e){return"function"==typeof e.map}(e)){t.map=function(t){return function(n){return e.map(n,t)}}}if(function(e){return"function"==typeof e.contramap}(e)){t.contramap=function(t){return function(n){return e.contramap(n,t)}}}if(function(e){return"function"==typeof e.mapWithIndex}(e)){t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.ap}(e)){t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}if(function(e){return"function"==typeof e.chain}(e)){t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,U)}}if(function(e){return"function"==typeof e.bimap}(e)){t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}}if(function(e){return"function"==typeof e.extend}(e)){t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,U)}}if(function(e){return"function"==typeof e.reduce}(e)){t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}}if(function(e){return"function"==typeof e.reduceWithIndex}(e)){t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}}if(function(e){return"function"==typeof e.alt}(e)){t.alt=function(t){return function(n){return e.alt(n,t)}}}if(function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)){t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}}if(function(e){return"function"==typeof e.filterWithIndex}(e)){t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.promap}(e)){t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}}if(function(e){return"function"==typeof e.compose}(e)){t.compose=function(t){return function(n){return e.compose(n,t)}}}if(function(e){return"function"==typeof e.throwError}(e)){t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}}return t}});function rr(e){return ir(e,e.length-1,[])}function ir(e,t,n){return function(r){var i=n.concat([r]);return 0===t?e.apply(this,i):ir(e,t-1,i)}}var or=rr((function(e,t,n){var r,i=n,o=e,a=i[o],s=Jn(i,["symbol"==typeof o?o:o+""]);return Qn(((r={})[e]=t(oe(a)),r),s)}));function ar(e,t){return Object.assign({},e,t)}function sr(e,t){if(e===t)return!0;if(ur(e)||ur(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!(n in t))return!1;if(!sr(e[n],t[n]))return!1}return!0}function ur(e){return e!==Object(e)}rr((function(e,t,n){var r=n,i=e,o=r[i],a=Jn(r,["symbol"==typeof i?i:i+""]),s="function"==typeof t?t(oe(o)):t;return tr(s,le((function(){return a}),(function(t){var n;return Qn(((n={})[e]=t,n),a)})))}));var cr=function(e){void 0===e&&(e="(nomessage)"),Error.call(this,e),"captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};cr.prototype=Object.create(Error.prototype);var lr,fr,dr,hr,pr=function(e){function t(t,n){void 0===n&&(n="empty");var r=e.call(this,"Invariant condition failed: "+(t||"(unnamed)"))||this;return r.input=n,r}return Yn(t,e),t.prototype.toString=function(){return this.message+" on input["+this.input+"]"},t}(cr),gr=function(e){function t(t){return e.call(this,"Matching not exhaustive"+(t?": unexpected value "+JSON.stringify(t):""))||this}return Yn(t,e),t}(cr);function mr(e,t,n){if(!e){var r=new pr("string"==typeof t?t:t&&t(),void 0!==n&&"string"!=typeof n?n():n);throw r.stack=r.stack.split("\n").filter((function(e){return-1===e.indexOf("errors.")})).join("\n"),r}}function vr(e){throw new gr(e)}!function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL",e[e.OFF=6]="OFF"}(lr||(lr={})),function(e){e.fromString=function(t){switch(t){case"TRACE":return e.TRACE;case"DEBUG":return e.DEBUG;case"INFO":return e.INFO;case"WARN":return e.WARN;case"ERROR":return e.ERROR;case"FATAL":return e.FATAL;case"OFF":return e.OFF;default:throw new TypeError("Unrecognized log level string '"+t+"'")}}}(lr||(lr={})),function(e){var t,n,r;function i(e){return function(t){var n=0;if(!t||0===t.length)return e;for(var r=0;r<t.length;r++)n=t.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%50+50)%50,Qn(Qn({},e),{lightness:e.lightness-n})}}!function(e){e.getContrastTextColor=function(e){return{hue:0,saturation:0,lightness:e.lightness>50?0:100}},e.toString=function(e){return"hsl("+e.hue+", "+e.saturation+"%, "+e.lightness+"%)"}}(e.HSL||(e.HSL={})),(t=e.Model||(e.Model={})).base={hue:43,saturation:74,lightness:66},t.getColor=i(t.base),(n=e.ViewModel||(e.ViewModel={})).base={hue:12,saturation:76,lightness:61},n.getColor=i(n.base),(r=e.Manager||(e.Manager={})).base={hue:173,saturation:58,lightness:39},r.getColor=i(r.base)}(fr||(fr={})),function(e){e.isErrorLike=function(e){var t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}(dr||(dr={})),function(e){function t(e,n,r){if(!e)return{};var i={};return(r?Object.getOwnPropertyNames:Object.keys)(e).forEach((function(r){var o=e[r];if(null==o||"number"==typeof o||"string"==typeof o||"boolean"==typeof o)i[r]=o;else if("object"==typeof o)if(o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)i[r]=o.toString();else if(-1===n.indexOf(o)){n.push(o);var a=t(o,n,dr.isErrorLike(o));Object.keys(a).length>0&&(i[r]=a)}})),i}e.fromAny=function(e){return t(e,[e],dr.isErrorLike(e))}}(hr||(hr={}));var yr=/^(?!\.[\w])[\w.]*\w$/;function _r(e){if(""===e)throw new Error("Empty name");if(!yr.test(e))throw new Error("Invalid name: "+e+". Should be hierarchical dot separated string and may contain only word characters)")}var br=function(){function e(e){this.capacity=e,this.size=0,this._keymap={}}return e.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this._tail?(this._tail.newer=n,n.older=this._tail):this._head=n,this._tail=n,this.size===this.capacity)return this.shift().value;++this.size},e.prototype.get=function(e){var t=this._getImpl(e);return t&&t.value},e.prototype.peek=function(e){var t=this._keymap[e];return t&&t.value},e.prototype.set=function(e,t){var n=this._getImpl(e),r=t(n&&n.value);return r?n?n.value=r:this.put(e,r):n&&this.remove(e),r},e.prototype.getRef=function(e){return this._getImpl(e)},e.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[e],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this._head=t.newer):t.older?(t.older.newer=void 0,this._tail=t.older):this._head=this._tail=void 0,--this.size,t.value},e.prototype.forEach=function(e){for(var t in this._keymap)e(t,this._keymap[t].value)},e.prototype.shift=function(){var e=this._head;return this._head&&(this._head.newer?(this._head=this._head.newer,this._head.older=void 0):this._head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},e.prototype._getImpl=function(e){var t=this._keymap[e];if(t)return t===this._tail||(t.newer&&(t===this._head&&(this._head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this._tail,this._tail&&(this._tail.newer=t),this._tail=t),t},e}(),wr=function(e){void 0===e&&(e="(nomessage)"),Error.call(this,e),this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};wr.prototype=Object.create(Error.prototype);var Sr=function(e){function t(t){return e.call(this,t)||this}return Yn(t,e),t}(wr),xr=function(){function e(e,t){if(this.messageCount=e,this.timeframe=t,e<1)throw new Sr("messagesCount should be > 1");if(t<=0)throw new Sr("timeframe should be > 0");this._allowance=e,this._lastChecked=Date.now()}return e.prototype.hit=function(){var e=Date.now(),t=e-this._lastChecked;return this._lastChecked=e,this._allowance+=t*(this.messageCount/this.timeframe),this._allowance>this.messageCount&&(this._allowance=this.messageCount),!(this._allowance<1)&&(this._allowance-=1,!0)},e.prototype.toString=function(){return"[ messageCount: "+this.messageCount+", timeframe: "+this.timeframe+", allowance: "+Math.trunc(1e3*this._allowance)/1e3+", _lastCheck: "+this._lastChecked+"]"},e}();!function(e){var t=function(){function e(e,t){if(this._limiter=e,this._cooldownTime=t,this._lastLimiting=0,this._aboveThreshold=!1,t<0)throw new Sr("cooldownTime should be non-negative")}return e.prototype.hit=function(){var e=this._limiter.hit(),t=!1;return e?this._aboveThreshold&&Date.now()-this._cooldownTime>this._lastLimiting&&(this._aboveThreshold=!1,t=!0):(this._lastLimiting=Date.now(),this._aboveThreshold||(this._aboveThreshold=!0,t=!0)),{allow:e,aboveThreshold:this._aboveThreshold,wasTriggered:t}},e}();e.RateLimitIndicator=t}(xr||(xr={}));var Er=function(){function e(e,t,n,r){this.name=e,this.level=t,this.context=n,this.logColor=r,_r(e)}return e.prototype.isEnabled=function(e){return e>=this.level},e.prototype.handler=function(e,t){var n=this;return{trace:function(r){throw n.trace(e,r,t),r},debug:function(r){throw n.debug(e,r,t),r},info:function(r){throw n.info(e,r,t),r},warn:function(r){throw n.warn(e,r,t),r},error:function(r){throw n.error(e,r,t),r},fatal:function(r){throw n.fatal(e,r,t),r}}},e.prototype.trace=function(e,t,n){this.log(lr.TRACE,e,t,n)},e.prototype.debug=function(e,t,n){this.log(lr.DEBUG,e,t,n)},e.prototype.info=function(e,t,n){this.log(lr.INFO,e,t,n)},e.prototype.warn=function(e,t,n){this.log(lr.WARN,e,t,n)},e.prototype.error=function(e,t,n){this.log(lr.ERROR,e,t,n)},e.prototype.fatal=function(e,t,n){this.log(lr.FATAL,e,t,n)},e.prototype.log=function(e,t,n,r){this.isEnabled(e)&&(n&&r||dr.isErrorLike(n)?this.logImpl(e,t,n,r):this.logImpl(e,t,void 0,r||n))},e}(),Cr=function(e){function t(t){return e.call(this,"MP",(function(e,n){return t("TIMER: "+e+" = "+n)}),(function(e,n){return t("COUNTER: "+e+" = "+n)}))||this}return Yn(t,e),t}(function(){function e(e,t,n){this.name=e,this.timersSink=t,this.countersSink=n,_r(e)}return e.prototype.getMetric=function(e){return this._createChild(e)},e.prototype.getTimer=function(e){return this._createChild(e)},e.prototype.getCounter=function(e){return this._createChild(e)},Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.name.lastIndexOf("."),n=this.name.substring(0,-1===t?0:t);return""===n?void 0:new e(n,this.timersSink,this.countersSink)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this.name.indexOf("."),n=this.name.substring(0,-1===t?0:t);return""===n?this:new e(n,this.timersSink,this.countersSink)},enumerable:!1,configurable:!0}),e.prototype._createName=function(e){return this.name+"."+e},e.prototype.start=function(){var e=Date.now(),t=this;return{stop:function(){t.recordTime(Date.now()-e)}}},e.prototype.recordTime=function(e){this.timersSink(this.name,e)},e.prototype.timing=function(e){var t=this.start();try{return e()}finally{try{t.stop()}catch(e){}}},e.prototype.increment=function(e){void 0===e&&(e=1),this.countersSink(this.name,e)},e.prototype.decrement=function(e){void 0===e&&(e=1),this.increment(-e)},e.prototype._createChild=function(t){return new e(this._createName(t),this.timersSink,this.countersSink)},e}()),kr=function(){function e(){}return e.getRootMetric=function(){return e._metricsRoot||(console.warn("[WARNING] Using default timeseries implementation."),e._metricsRoot=new Cr(console.log)),e._metricsRoot},e.configure=function(t){e._metricsRoot=t},e}(),Tr=function(){function e(e,t,n,r,i,o,a,s){this.level=e,this.message=t,this.logger=n,this.timestamp=r,this.exception=i,this.extra=o,this.context=a,this.logColor=s}return e.prototype.dropContext=function(){return new e(this.level,this.message,this.logger,this.timestamp,this.exception,this.extra,this.logColor)},e.prototype.addContext=function(t){return new e(this.level,this.message,this.logger,this.timestamp,this.exception,this.extra,t,this.logColor)},e.prototype.changeLogger=function(t){return new e(this.level,this.message,t,this.timestamp,this.exception,this.extra,this.context)},e}();!function(e){e.show=function(e){return"["+e.logger+"]: "+lr[e.level]+" : "+e.message+" "+(e.extra?JSON.stringify(e.extra):"")+" "+(e.exception?JSON.stringify(e.exception):"")}}(Tr||(Tr={}));var Ir=function(){function e(e,t,n,r,i){void 0===i&&(i=!0),this._appName=e,this._appVersion=t,this._env=n,this._fetch=r,this._wrapExtra=i}return e._parseException=function(t){if(t){var n=e.toObject(t),r=n.name,i=void 0===r?"UnknownError":r,o=n.message,a=void 0===o?"Unknown error message":o,s=n.stack,u=Jn(n,["name","message","stack"]);return{exceptionPart:{exception:{name:i,message:a,stack:s}},exceptionDetailsPart:Object.keys(u).length>0?{exceptionDetails:u}:{}}}return{exceptionPart:{},exceptionDetailsPart:{}}},e.prototype.append=function(e){return this._fetch(this._prepareData(e))},e.toObject=function(e){return null==e||e instanceof Object&&!Array.isArray(e)?e&&e.toJSON?e.toJSON():e:{details:e}},e.prototype._prepareData=function(t){var n=t.context?{context:t.context}:{},r=e._parseException(t.exception),i=r.exceptionPart,o=r.exceptionDetailsPart,a=e.toObject(t.extra),s=JSON.stringify(this._wrapExtra?Object.assign({},o,a):o),u=Object.assign({message:t.message,logger:t.logger,level:lr[t.level],application:this._appName,version:this._appVersion,env:this._env},n,i,"{}"!==s&&{details:s},!this._wrapExtra&&a&&{extra:a});return JSON.stringify(u,null,"")},e}(),Or=function(e){function t(t,n,r,i,o,a){return void 0===a&&(a=!0),e.call(this,n,r,i,(function(e){return o(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:e}).then((function(){}))}),a)||this}return Yn(t,e),t}(Ir),Nr=function(e){function t(t,n,r,i,o,a){void 0===a&&(a=!0);var s=t+"/log?json=";return e.call(this,n,r,i,(function(e){return o(s+encodeURIComponent(e),{mode:"no-cors",method:"get",cache:"no-cache"}).then((function(){}))}),a)||this}return Yn(t,e),t}(Ir);function Ar(e){return kr.getRootMetric().getCounter(e)}var Rr=function(){function e(e){var t=this;this._sink=e,this._counters=new Map;var n,r=(n="logging.levels",kr.getRootMetric().getMetric(n));Object.keys(lr).map((function(e){return lr[e]})).filter((function(e){return"number"==typeof e})).forEach((function(e){return t._counters.set(e,r.getCounter(lr[e]))}))}return e.prototype.append=function(e){var t=this._counters.get(e.level);return t&&t.increment(),this._sink.append(e)},e}(),Pr=function(){function e(e){this._sink=e,this._throttled=[],this._shortRateReporter={name:"short",indicator:new xr.RateLimitIndicator(new xr(30,2e3),1e4),counter:Ar("logRates.short")},this._longRateReporter={name:"long",indicator:new xr.RateLimitIndicator(new xr(120,24e4),3e4),counter:Ar("logRates.long")},this._counting=Ar("logRates.either"),this._countingStarted=0,this._droppingLimiter=new xr(2,6e4),this._dropped=0}return e.prototype.append=function(t){var n=this._shortRateReporter.indicator.hit(),r=this._longRateReporter.indicator.hit();if((n.wasTriggered||r.wasTriggered)&&(n.wasTriggered&&n.aboveThreshold&&this._shortRateReporter.counter.increment(),r.wasTriggered&&r.aboveThreshold&&this._longRateReporter.counter.increment(),n.aboveThreshold||r.aboveThreshold?this._counts||(this._counting.increment(),this._counts=new br(50),this._countingStarted=Date.now(),this._sink.append(this._createTriggeredEvent(t,"Logging rate is above threshold",{short:n,long:r})).catch(console.warn)):(this._counts=void 0,this._throttled=[],this._sink.append(this._createTriggeredEvent(t,"Logging rate is back to normal",{dropped:this._dropped})).catch(console.warn))),this._counts){var i=this._eventToString(t),o=this._counts.set(i,(function(e){return(e||0)+1}))||0;return o/((Date.now()-this._countingStarted)/1e3)>e.DROP_RATE&&o>e.DROP_COUNT&&!this._droppingLimiter.hit()?(this._throttled.some((function(e){return e===t.message}))||(this._throttled.push(t.message),this._sink.append(this._createTriggeredEvent(t,"Started throttling logs",{throttledLogs:t.message})).catch(console.warn)),this._drop(),Promise.reject("Log message discarded due to rate limiting: "+t.message)):this._sink.append(t)}return this._sink.append(t)},e.prototype._drop=function(){++this._dropped},e.prototype._createTriggeredEvent=function(e,t,n){return new Tr(lr.ERROR,t,"editor.logging.rate",Date.now(),e.exception,n,e.context)},e.prototype._eventToString=function(e){return e.level+e.logger+e.message},e.DROP_RATE=.5,e.DROP_COUNT=15,e}(),Lr=function(){function e(e,t){if(void 0===t&&(t=!1),this.capacity=e,this.allowOverflow=t,this._start=0,this._end=0,this._isFull=!1,this.toJSON=this.toArray,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFull",{get:function(){return this._isFull},enumerable:!1,configurable:!0}),e.prototype.push=function(e){if(this.isFull){if(!this.allowOverflow)throw new Error("Buffer is full");++this._start,this._start===this.capacity&&(this._start=0)}this._buffer[this._end++]=e,this._end===this.capacity&&(this._end=0),this._start===this._end&&(this._isFull=!0)},e.prototype.pop=function(){if(!this.isEmpty){var e=this._buffer[this._start];return this._buffer[this._start]=void 0,this._start++,this._start===this.capacity&&(this._start=0),this._isFull=!1,e}},Object.defineProperty(e.prototype,"first",{get:function(){return this.isEmpty?void 0:this._buffer[this._start]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.isEmpty?void 0:this._buffer[0===this._end?this.capacity-1:this._end-1]},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1},e.prototype.toArray=function(){var e;if(this.isEmpty)e=new Array(0);else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);for(var t=0,n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e},e}(),Mr=function(){function e(e){this.parent=e,this.context=void 0}return e.prototype.get=function(){var e=this.parent&&this.parent.get(),t=this.context;return e||t?Object.assign({},e,t):void 0},e.prototype.add=function(e){this.context=Object.assign({},this.context,e)},e.prototype.remove=function(e){var t=this;this.context&&e.forEach((function(e){e in t.context&&delete t.context[e]}))},e.prototype.clear=function(){this.context=void 0},e}(),Dr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,i||new Mr,o)||this;return a.appender=r,a.logColor=o,a}return Yn(t,e),t.prototype.getLogger=function(e,n,r){return new t(this.name+"."+e,n||this.level,this.appender,new Mr(this.context),r)},t.prototype.logImpl=function(e,t,n,r){var i=new Tr(e,t,this.name,Date.now(),n,r,this.context.get());try{this.appender(i)}catch(n){console.trace("Failed processing log event",n);try{Fr.printToConsole(i)}catch(e){console.error("No luck. Can't print the event",e)}}},t}(Er),Fr=function(e){function t(n,r,i){return e.call(this,n,r,(function(e){return e.level>=r&&t.printToConsole(e)}),i)||this}return Yn(t,e),t.printToConsole=function(e){console.log;(e.level<=lr.TRACE||e.level<=lr.DEBUG?console.debug||console.log:e.level<=lr.INFO?console.log:e.level<=lr.WARN?console.warn:console.error).apply(console,(e.logColor?er(t._getStyledLoggerName(e),[lr[e.level]+" : "+e.message,e.exception,e.extra]):["["+e.logger+"]: "+lr[e.level]+" : "+e.message,e.exception,e.extra]).filter((function(e){return!!e})))},t._getStyledLoggerName=function(e){var t=Z(fr.HSL.getContrastTextColor(e.logColor),fr.HSL.toString),n=fr.HSL.toString(e.logColor);return["%c"+e.logger,"color:"+t+";padding:4px;background:"+n+";border-radius:4px"]},t}(Dr),zr=function(){function e(e){var t=this;this.sink=function(e){t._buffer.push(e.dropContext())},this._buffer=new Lr(e,!0)}return Object.defineProperty(e.prototype,"logs",{get:function(){return this._buffer.toArray()},enumerable:!1,configurable:!0}),e}(),Br=function(){function e(e,t,n,r){var i=this;this._crashLogger=n,this._eventFactory=r,this._crashLogged=!1,this.sink=function(e){i._buffer.push(e.dropContext()),i._trigger(e)&&i._sendCrashLog(e)},this._buffer=new Lr(e,!0),this._trigger="function"==typeof t?t:function(e){return e.level>=t}}return Object.defineProperty(e.prototype,"logs",{get:function(){return this._buffer.toArray()},enumerable:!1,configurable:!0}),e.prototype._sendCrashLog=function(e){if(!this._crashLogged||this._buffer.size>this._buffer.capacity/2){var t=void 0;try{t=JSON.stringify(this.logs,void 0,0)}catch(e){t=e}this._crashLogger(this._eventFactory(e.level,"CrashLog",Date.now(),void 0,{events:t,first:!this._crashLogged,trigger:{message:e.message,logger:e.logger}}).addContext(e.context)),this._crashLogged=!0,this._buffer.clear()}},e}(),jr=function(e){return Promise.resolve()};var Hr=function(e,t,n,r,i,o,a){return new Tr(e,t,a||"root",n,r,i,o?o.get():void 0)},Ur=function(e){function t(t,n,r,i,o){var a=e.call(this,t,lr.TRACE,i||new Mr,o)||this;return a.logger=n,a.levelGetter=r,a}return Yn(t,e),t.prototype.getLogger=function(e,n,r){var i=this;return new t(this.name+"."+e,this.logger,(function(){return n||i.levelGetter()}),new Mr(this.context),r)},t.prototype.isEnabled=function(e){return e>=this.levelGetter()},t.prototype.logImpl=function(e,t,n,r){var i=new Tr(e,t,this.name,Date.now(),n,r,this.context.get(),this.logColor);this.logger(i)},t}(Er),Vr=function(e){return function(t){return t.level>=e}},Wr=function(e){return function(t){return t.level>=e()}};function Gr(e,t){return function(n){return function(r){return(t(r)?e:n)(r)}}}function qr(e){return Gr(jr,W(e))}function $r(e){return function(t){return function(n){try{return t(n).catch((function(t){return e(new Tr(lr.WARN,"Error while logging message.","Fallback",0,void 0,t))}))}catch(t){console.trace("Failed processing log event",t);try{return e(n)}catch(e){return console.error("No luck. Can't print the event",e),Promise.resolve()}}}}}var Kr,Yr,Qr=Object.freeze({__proto__:null,IdentityLogger:jr,getLoggerMonoid:function(e){return Qn(Qn({},function(e){return{concat:function(t,n){return function(r){return Promise.all([$r(e)(t)(r),$r(e)(n)(r)]),Promise.resolve()}}}}(e)),{empty:jr})},getLogEvent:Hr,LegacyLoggerImpl:Ur,levelPredicate:Vr,lazyLevelPredicate:Wr,withName:function(e){return function(t){return function(n){return t(n.changeLogger(e))}}},eventLoggerEquals:function(e){return function(t){return t.logger===e}},redirectTo:Gr,withNamePlus:function(e){return function(t){return function(n){return t(n.changeLogger(n.logger?e+"."+n.logger:e))}}},filtered:qr,withLevel:function(e){return qr(Vr(e))},withLevelLazy:function(e){return qr(Wr(e))},withContext:function(e){return function(t){return function(n){return t(n.addContext(e.get()))}}},withErrorHandling:$r,fromLoggerFactory:function(e){return function(t){return e(t)(t)}},withPostInvariant:function(e,t){return function(n){return function(r){var i=n(r);if(!("function"==typeof e?e:Vr(e))(r)){var o=Tr.show(r);throw new Error("Post invariant failed: "+(t||"test condition returned false")+", event was: "+o)}return i}}},withCounting:function(){return function(e){var t=new Rr({append:function(t){return e(t)}});return function(e){return t.append(e)}}},withRateLimiting:function(){return function(e){var t=new Pr({append:function(t){return e(t)}});return function(e){return t.append(e)}}},withBufferedCrashLog:function(e,t){return function(n){var r=new Br(e,t,n,Hr);return function(e){return Promise.resolve(r.sink(e))}}},toLegacyLogger:function(e,t,n){return function(r){return new Ur(e,r,n?G(n):function(){return lr.TRACE},t)}},toLazyLevelLegacyLogger:function(e,t,n){return function(r){return new Ur(e,r,t,n)}},consoleLogger:function(e){return Promise.resolve(Fr.printToConsole(e))},bufferedLogger:function(e,t){var n=new zr(e);return t((function(){return n.logs})),function(e){return Promise.resolve(n.sink(e))}},felogLogger:function(e){var t=e.url,n=e.appName,r=e.appVersion,i=e.env,o=e.fetch,a=e.wrapExtra,s=new Or(t,n,r,i,o,void 0===a||a);return function(e){return s.append(e)}}}),Jr=function(){return function(e){var t=this;this.event=e,this.promise=new Promise((function(e,n){t.resolve=e})).then((function(){}))}}(),Zr=function(){function e(e,t,n){void 0===t&&(t=300),void 0===n&&(n=1e4),this._sink=e,this._retryInterval=n,this._currentItem=null,this._skippedCounter=null,this._buffer=new Lr(t,!1)}return e.prototype.append=function(e){if(this._buffer.isFull)return this._incSkippedCounter(),Promise.reject(new Error("Outgoing message buffer is full"));var t=new Jr(e);return this._buffer.push(t),this._doAppend(),t.promise},e.prototype._incSkippedCounter=function(){this._skippedCounter||(this._skippedCounter=new Tr(lr.WARN,"Messages was skipped due to buffer overflow","logging_impl.LogQueue",Date.now(),void 0,{count:0})),this._skippedCounter.extra.count++},e.prototype._doAppend=function(){var e=this;if(!this._buffer.isEmpty&&!this._currentItem){var t=this._buffer.first,n=this._sink.append(t.event);this._currentItem=t,n.then((function(){t.resolve();var n=e._buffer.pop();if(n!==t&&n===e._currentItem)throw new Error("Illegal state");e._currentItem=null,e._skippedCounter&&(e.append(e._skippedCounter),e._skippedCounter=null),e._doAppend()})).catch((function(n){e._retryAppend(t)}))}},e.prototype._retryAppend=function(e){var t=this;setTimeout((function(){var n=e.event.extra||{};n.appendRetries||(n=e.event.extra=Object.assign({appendRetries:1},Ir.toObject(n))),++n.appendRetries,t._currentItem=null,t._doAppend()}),this._retryInterval)},e}(),Xr=function(){function e(){}return e.getRootLogger=function(){return e._rootLogger||(e._rootLogger=e._createDefaultRootLogger(),e._rootLogger.warn("Using DEFAULT root logger")),e._rootLogger},e.configure=function(t){e._rootLogger=t,e._rootLogger.debug("ROOT logger changed",t)},e._createDefaultRootLogger=function(){return new Fr("DEFAULT",lr.DEBUG)},e}(),ei=Object.freeze({__proto__:null,AbstractLogger:Er,get LogEvent(){return Tr},LogQueue:Zr,RingBuffer:Lr,TreeContext:Mr,SimpleLogger:Dr,ConsoleLogger:Fr,CrashLogWrapper:Br,FelogClientBase:Ir,PostFelogClient:Or,GetFelogClient:Nr,CountingFelogWrapper:Rr,RateLimitingFelogWrapper:Pr,LoggingConfig:Xr}),ti=lr;function ni(e,t){return e||t}function ri(e,t){return e+t}function ii(e){return function(t){return!e(t)}}function oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e(t)}))}}function ai(e){return e.length>0}function si(e,t){var n=window;n.ddebug=n.ddebug||{},n.ddebug[e]=t}function ui(e,t){return e.size===t.size&&Array.from(e.values()).every((function(e){return t.has(e)}))}!function(e){var t=function(){function e(){}return e.configureLogLevelGetter=function(t){e._getLogLevel=t},Object.defineProperty(e,"root",{get:function(){return Xr.getRootLogger()},enumerable:!1,configurable:!0}),e.getLogger=function(t,n,r){var i=e._getLogLevel(t,n),o=e.root.getLogger(t,e._getLogLevel(t,n),r);return n!==i&&o.debug('Logger "'+t+'" initialized with level "'+(i&&ti[i])+'" instaed of "'+(n&&ti[n])+'"'),o},e._getLogLevel=function(e,t){return t},e}();e.Logging=t;var n=function(){function e(){}return Object.defineProperty(e,"root",{get:function(){return kr.getRootMetric()},enumerable:!1,configurable:!0}),e}();e.TimeSeries=n}(Kr||(Kr={})),function(e){e[e.lt=-1]="lt",e[e.eq=0]="eq",e[e.gt=1]="gt"}(Yr||(Yr={}));var ci=function(){return{concat:vn,empty:kn}},li=function(e){return{equals:function(t,n){return t===n||t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}}},fi=function(e){for(var t=0,n=e.length,r=0;r<n;r++)t+=e[r].length;var i=Array(t),o=0;for(r=0;r<n;r++){for(var a=e[r],s=a.length,u=0;u<s;u++)i[u+o]=a[u];o+=s}return i},di=function(e){return _n(e.length-1,e)};function hi(e){return function(e){return function(t){for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return ie(t[r]);return re}}(e)}var pi=function(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return ie(n);return re}},gi=function(e){return function(t){return t.length<=1?t:t.slice().sort(e.compare)}},mi=function(e,t,n){for(var r=[],i=Math.min(e.length,t.length),o=0;o<i;o++)r[o]=n(e[o],t[o]);return r},vi=bn,yi=wn,_i=xn,bi=function(e){for(var t=[],n=[],r=0,i=e;r<i.length;r++){var o=i[r];"Left"===o._tag?t.push(o.left):n.push(o.right)}return{left:t,right:n}},wi=Sn,Si=function(e){return En((function(t,n){return e(n)}))},xi=function(e){var t=function(e){var t=function(e){return function(t,n){return t.reduce((function(t,r,i){return e.concat(t,n(i,r))}),e.empty)}}(e);return function(e){return function(n){return t(n,e)}}}(e);return function(e){return t((function(t,n){return e(n)}))}};function Ei(e,t,n){return function(r){for(var i=Array(n.length+1),o=0;o<n.length;o++)i[o]=n[o];return i[n.length]=r,0===t?e.apply(null,i):Ei(e,t-1,i)}}var Ci={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(i){return[e,t,n,r,i]}}}}}};function ki(e){return Ci.hasOwnProperty(e)||(Ci[e]=Ei(J,e-1,[])),Ci[e]}function Ti(e){return function(t){for(var n=Object.keys(t),r=n.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i}}};case 4:return function(t){return function(n){return function(r){return function(i){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o[e[3]]=i,o}}}};case 5:return function(t){return function(n){return function(r){return function(i){return function(o){var a;return(a={})[e[0]]=t,a[e[1]]=n,a[e[2]]=r,a[e[3]]=i,a[e[4]]=o,a}}}}};default:return Ei((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i={},o=0;o<t;o++)i[e[o]]=n[o];return i}),t-1,[])}}(n),o=e.map(t[n[0]],i),a=1;a<r;a++)o=e.ap(o,t[n[a]]);return o}}var Ii=Dt((function(e){throw e}),U),Oi=function(e){return function(e,t){try{return Rt(e())}catch(e){return At(t(e))}}(e,Qt)};function Ni(e){return{equals:function(t,n){return t===n||e(t,n)}}}var Ai={equals:function(e,t){return e===t}};var Ri=Ai,Pi=Ai;function Li(e){return Ni((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))}var Mi={concat:Ln.concat,empty:!0},Di={concat:Mn.concat,empty:!1},Fi={concat:Dn.concat,empty:0},zi={concat:Fn.concat,empty:1},Bi={concat:zn.concat,empty:""},ji={concat:Bn.concat,empty:void 0};function Hi(e){return Tn(e)(e.empty)}function Ui(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i].empty}return{concat:An(e).concat,empty:t}}function Vi(e){return{concat:Rn(e).concat,empty:e.top}}function Wi(e){return{concat:Pn(e).concat,empty:e.bottom}}var Gi=Object.freeze({__proto__:null,monoidAll:Mi,monoidAny:Di,monoidSum:Fi,monoidProduct:zi,monoidString:Bi,monoidVoid:ji,fold:Hi,getTupleMonoid:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:In.apply(jn,e).concat,empty:e.map((function(e){return e.empty}))}},getDualMonoid:function(e){return{concat:On(e).concat,empty:e.empty}},getFunctionMonoid:function(e){return function(){return{concat:Nn(e)().concat,empty:function(){return e.empty}}}},getEndomorphismMonoid:function(){return{concat:function(e,t){return function(n){return e(t(n))}},empty:U}},getStructMonoid:Ui,getMeetMonoid:Vi,getJoinMonoid:Wi}),qi=Qn(Qn({},Fi),{inverse:function(e){return-e}});var $i=function(e){return function(t){return e(t)}},Ki=function(e){return function(t){return t(e)}},Yi=function(e){return function(t){return e(t)}},Qi=function(e){return function(t){return e(t)}},Ji=function(e,t){return function(n){return t(e,n)}},Zi=function(){return function(e){return function(t){return e(t)}}},Xi=function(e,t){return function(n){return t(n,e)}},eo=function(e){return function(t){return function(n){return e.map(t(n),U)}}},to=function(){return U},no={URI:"Identity",map:function(e,t){return Z(e,$i(t))},ap:function(e,t){return Z(e,Ki(t))},of:U,chain:function(e,t){return Z(e,Yi(t))},reduce:function(e,t,n){return Z(e,Ji(t,n))},foldMap:function(e){return function(e,t){return Z(e,Zi()(t))}},reduceRight:function(e,t,n){return Z(e,Xi(t,n))},traverse:function(e){var t=eo(e);return function(e,n){return Z(e,t(n))}},sequence:function(e){return function(t){return e.map(t,U)}},alt:function(e,t){return Z(e,to())},extract:U,extend:function(e,t){return Z(e,Qi(t))},chainRec:It},ro=V;function io(e){var t,n=(t=e,{URI:so,_E:void 0,map:oo,ap:function(e,n){return ro(t.concat(e,n))}});return{URI:so,_E:void 0,map:n.map,ap:n.ap,of:function(){return ro(e.empty)}}}var oo=function(e,t){return Z(e,ao())},ao=function(){return V},so="Const",uo=function(e,t,n){var r;return n===e[t]?e:Object.assign({},e,((r={})[t]=n,r))},co=function(){function e(e,t){this.get=e,this.reverseGet=t,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return e.prototype.reverse=function(){return new e(this.reverseGet,this.get)},e.prototype.modify=function(e){var t=this;return function(n){return t.reverseGet(e(t.get(n)))}},e.prototype.asLens=function(){var e=this;return new lo(this.get,(function(t){return function(n){return e.reverseGet(t)}}))},e.prototype.asPrism=function(){var e=this;return new fo((function(t){return ie(e.get(t))}),this.reverseGet)},e.prototype.asOptional=function(){var e=this;return new po((function(t){return ie(e.get(t))}),(function(t){return function(n){return e.reverseGet(t)}}))},e.prototype.asTraversal=function(){var e=this;return new go((function(t){return function(n){return function(r){return t.map(n(e.get(r)),(function(t){return e.reverseGet(t)}))}}}))},e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.asGetter=function(){var e=this;return new mo((function(t){return e.get(t)}))},e.prototype.asSetter=function(){var e=this;return new yo((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}),(function(e){return n.reverseGet(t.reverseGet(e))}))},e.prototype.composeIso=function(e){return this.compose(e)},e.prototype.composeLens=function(e){return this.asLens().compose(e)},e.prototype.composePrism=function(e){return this.asPrism().compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeGetter=function(e){return this.asGetter().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e}(),lo=function(){function e(e,t){this.get=e,this.set=t,this._tag="Lens"}return e.fromPath=function(){var t=e.fromProp();return function(e){var n=t(e[0]);return e.slice(1).reduce((function(e,n){return e.compose(t(n))}),n)}},e.fromProp=function(){return function(t){return new e((function(e){return e[t]}),(function(e){return function(n){return uo(n,t,e)}}))}},e.fromProps=function(){return function(t){var n=t.length;return new e((function(e){for(var r={},i=0;i<n;i++){var o=t[i];r[o]=e[o]}return r}),(function(e){return function(r){for(var i=0;i<n;i++){var o=t[i];if(e[o]!==r[o])return Object.assign({},r,e)}return r}}))}},e.fromNullableProp=function(){return function(t,n){return new e((function(e){var r=oe(e[t]);return ne(r)?n:r.value}),(function(e){return function(n){return uo(n,t,e)}}))}},e.prototype.modify=function(e){var t=this;return function(n){var r=t.get(n),i=e(r);return r===i?n:t.set(i)(n)}},e.prototype.asOptional=function(){var e=this;return new po((function(t){return ie(e.get(t))}),this.set)},e.prototype.asTraversal=function(){var e=this;return new go((function(t){return function(n){return function(r){return t.map(n(e.get(r)),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asSetter=function(){var e=this;return new yo((function(t){return e.modify(t)}))},e.prototype.asGetter=function(){var e=this;return new mo((function(t){return e.get(t)}))},e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}),(function(e){return function(r){return n.set(t.set(e)(n.get(r)))(r)}}))},e.prototype.composeLens=function(e){return this.compose(e)},e.prototype.composeGetter=function(e){return this.asGetter().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeIso=function(e){return this.compose(e.asLens())},e.prototype.composePrism=function(e){return this.asOptional().compose(e.asOptional())},e}(),fo=function(){function e(e,t){this.getOption=e,this.reverseGet=t,this._tag="Prism"}return e.fromPredicate=function(t){return new e((function(e){return t(e)?ie(e):re}),U)},e.some=function(){return ho},e.prototype.modify=function(e){var t=this;return function(n){var r=t.modifyOption(e)(n);return ne(r)?n:r.value}},e.prototype.modifyOption=function(e){var t=this;return function(n){return wt.map(t.getOption(n),(function(r){var i=e(r);return i===r?n:t.reverseGet(i)}))}},e.prototype.set=function(e){return this.modify((function(){return e}))},e.prototype.asOptional=function(){var e=this;return new po(this.getOption,(function(t){return e.set(t)}))},e.prototype.asTraversal=function(){var e=this;return new go((function(t){return function(n){return function(r){var i=e.getOption(r);return ne(i)?t.of(r):t.map(n(i.value),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asSetter=function(){var e=this;return new yo((function(t){return e.modify(t)}))},e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(n){return function(r){var i=e.getOption(r);return ne(i)?t.empty:n(i.value)}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return wt.chain(n.getOption(e),(function(e){return t.getOption(e)}))}),(function(e){return n.reverseGet(t.reverseGet(e))}))},e.prototype.composePrism=function(e){return this.compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeIso=function(e){return this.compose(e.asPrism())},e.prototype.composeLens=function(e){return this.asOptional().compose(e.asOptional())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),ho=new fo(U,ie),po=function(){function e(e,t){this.getOption=e,this.set=t,this._tag="Optional"}return e.fromNullableProp=function(){return function(t){return new e((function(e){return oe(e[t])}),(function(e){return function(n){return uo(n,t,e)}}))}},e.fromOptionProp=function(){var e=lo.fromProp();return function(t){return e(t).composePrism(ho)}},e.prototype.modify=function(e){var t=this;return function(n){var r=t.modifyOption(e)(n);return ne(r)?n:r.value}},e.prototype.modifyOption=function(e){var t=this;return function(n){return wt.map(t.getOption(n),(function(r){var i=e(r);return i===r?n:t.set(i)(n)}))}},e.prototype.asTraversal=function(){var e=this;return new go((function(t){return function(n){return function(r){var i=e.getOption(r);return ne(i)?t.of(r):t.map(n(i.value),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(n){return function(r){var i=e.getOption(r);return ne(i)?t.empty:n(i.value)}}}))},e.prototype.asSetter=function(){var e=this;return new yo((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return wt.chain(n.getOption(e),(function(e){return t.getOption(e)}))}),(function(e){return n.modify(t.set(e))}))},e.prototype.composeOptional=function(e){return this.compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeLens=function(e){return this.compose(e.asOptional())},e.prototype.composePrism=function(e){return this.compose(e.asOptional())},e.prototype.composeIso=function(e){return this.compose(e.asOptional())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),go=function(){function e(e){this.modifyF=e,this._tag="Traversal"}return e.prototype.modify=function(e){var t=this;return function(n){return t.modifyF(no)(e)(n)}},e.prototype.set=function(e){return this.modify(G(e))},e.prototype.filter=function(e){return this.composePrism(fo.fromPredicate(e))},e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(n){return function(r){return e.modifyF(io(t))((function(e){return ro(n(e))}))(r)}}}))},e.prototype.asSetter=function(){var e=this;return new yo((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return function(r){return n.modifyF(e)(t.modifyF(e)(r))}}))},e.prototype.composeTraversal=function(e){return this.compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeOptional=function(e){return this.compose(e.asTraversal())},e.prototype.composeLens=function(e){return this.compose(e.asTraversal())},e.prototype.composePrism=function(e){return this.compose(e.asTraversal())},e.prototype.composeIso=function(e){return this.compose(e.asTraversal())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),mo=function(){function e(e){this.get=e,this._tag="Getter"}return e.prototype.asFold=function(){var e=this;return new vo((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}))},e.prototype.composeGetter=function(e){return this.compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeLens=function(e){return this.compose(e.asGetter())},e.prototype.composeIso=function(e){return this.compose(e.asGetter())},e.prototype.composeTraversal=function(e){return this.asFold().compose(e.asFold())},e.prototype.composeOptional=function(e){return this.asFold().compose(e.asFold())},e.prototype.composePrism=function(e){return this.asFold().compose(e.asFold())},e}(),vo=function(){function e(e){this.foldMap=e,this._tag="Fold",this.getAll=e(ci())((function(e){return[e]})),this.exist=e(Di),this.all=e(Mi),this.foldMapFirst=e(st())}return e.prototype.compose=function(t){var n=this;return new e((function(e){return function(r){return n.foldMap(e)(t.foldMap(e)(r))}}))},e.prototype.composeFold=function(e){return this.compose(e)},e.prototype.composeGetter=function(e){return this.compose(e.asFold())},e.prototype.composeTraversal=function(e){return this.compose(e.asFold())},e.prototype.composeOptional=function(e){return this.compose(e.asFold())},e.prototype.composeLens=function(e){return this.compose(e.asFold())},e.prototype.composePrism=function(e){return this.compose(e.asFold())},e.prototype.composeIso=function(e){return this.compose(e.asFold())},e.prototype.find=function(e){return this.foldMapFirst(ae(e))},e.prototype.headOption=function(e){return this.find((function(){return!0}))(e)},e}(),yo=function(){function e(e){this.modify=e,this._tag="Setter"}return e.prototype.set=function(e){return this.modify(G(e))},e.prototype.compose=function(t){var n=this;return new e((function(e){return n.modify(t.modify(e))}))},e.prototype.composeSetter=function(e){return this.compose(e)},e.prototype.composeTraversal=function(e){return this.compose(e.asSetter())},e.prototype.composeOptional=function(e){return this.compose(e.asSetter())},e.prototype.composeLens=function(e){return this.compose(e.asSetter())},e.prototype.composePrism=function(e){return this.compose(e.asSetter())},e.prototype.composeIso=function(e){return this.compose(e.asSetter())},e}(),_o=new co(V,V);function bo(){return _o}function wo(e){return new fo((t=>e(t)?ie(t):re),U)}var So=le((function(){throw new Error("option has empty value")}),U);function xo(e,t){return le((function(){return t}),e)}var Eo=function(e){return function(t,n){return Re((function(t){var n=t[0],r=t[1];return e(n,r)}))(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,i=ki(r),o=e.map(t[0],i),a=1;a<r;a++)o=e.ap(o,t[a]);return o}}(wt)(t,n))}};function Co(e){return function(t){return ne(t)||St(e)(t)}}function ko(e){return Re((function(t){return e(t),t}))}var To=Q(oe,Me(Hn));function Io(e){return function(t,n){return function(r){return on(e)(r,t)&&rn(e)(r,n)}}}var Oo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},No=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ao=function(e){return function(){return Promise.resolve(e())}};function Ro(e){return function(t){return function(){return new Promise((function(n){setTimeout((function(){t().then(n)}),e)}))}}}function Po(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ao(e.apply(void 0,t))}}var Lo=function(e,t){return Z(e,zo(t))},Mo=function(e,t){return Z(e,Bo(t))},Do=function(e,t){return Z(e,Ho((function(e){return Z(t,zo(e))})))},Fo=function(e,t){return Z(e,Ho(t))},zo=function(e){return function(t){return function(){return t().then(e)}}},Bo=function(e){return function(t){return function(){return Promise.all([t(),e()]).then((function(e){return(0,e[0])(e[1])}))}}},jo=function(e){return function(){return Promise.resolve(e)}},Ho=function(e){return function(t){return function(){return t().then((function(t){return e(t)()}))}}},Uo=Ho(U),Vo=U,Wo="Task";function Go(e){return{concat:function(t,n){return function(){return t().then((function(t){return n().then((function(n){return e.concat(t,n)}))}))}}}}var qo={URI:Wo,map:Lo},$o={URI:Wo,map:Lo,ap:Mo,of:jo},Ko={URI:Wo,map:Lo,ap:Do,of:jo},Yo={URI:Wo,map:Lo,of:jo,ap:Mo,chain:Fo},Qo={URI:Wo,map:Lo,of:jo,ap:Mo,chain:Fo,fromIO:Ao,fromTask:Vo},Jo={URI:Wo,map:Lo,of:jo,ap:Do,chain:Fo,fromIO:Ao,fromTask:Vo},Zo=function(){return new Promise((function(e){}))},Xo=jo({}),ea=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return e(n,t)()})))}}},ta=function(e){return function(t){return function(){return Oo(void 0,void 0,void 0,(function(){var n,r,i;return No(this,(function(o){switch(o.label){case 0:n=[],r=0,o.label=1;case 1:return r<t.length?[4,e(r,t[r])()]:[3,4];case 2:i=o.sent(),n.push(i),o.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))}}},na=function(e){return ta((function(t,n){return e(n)}))},ra=na(U),ia=Object.freeze({__proto__:null,fromIO:Ao,delay:Ro,fromIOK:Po,chainIOK:function(e){return Ho(Po(e))},map:zo,ap:Bo,apFirst:function(e){return Q(zo((function(e){return function(){return e}})),Bo(e))},apSecond:function(e){return Q(zo((function(){return function(e){return e}})),Bo(e))},of:jo,chain:Ho,chainFirst:function(e){return Ho((function(t){return Z(e(t),zo((function(){return t})))}))},flatten:Uo,fromTask:Vo,URI:Wo,getSemigroup:Go,getMonoid:function(e){return{concat:Go(e).concat,empty:jo(e.empty)}},getRaceMonoid:function(){return{concat:function(e,t){return function(){return Promise.race([e(),t()])}},empty:Zo}},Functor:qo,ApplicativePar:$o,ApplicativeSeq:Ko,Monad:Yo,task:Qo,taskSeq:Jo,never:Zo,Do:Xo,bindTo:function(e){return zo(ee(e))},bind:function(e,t){return Ho((function(n){return Z(t(n),zo((function(t){return X(n,e,t)})))}))},apS:function(e,t){return Q(zo((function(t){return function(n){return X(t,e,n)}})),Bo(t))},traverseArrayWithIndex:ea,traverseArray:function(e){return ea((function(t,n){return e(n)}))},sequenceArray:function(e){return function(){return Promise.all(e.map((function(e){return e()})))}},traverseSeqArrayWithIndex:ta,traverseSeqArray:na,sequenceSeqArray:ra}),oa=Q(At,jo),aa=Q(Rt,jo),sa=Q(Ao,zo(Rt)),ua=Ao;function ca(e,t){return function(){return e().then(Rt,(function(e){return At(t(e))}))}}var la=function(e){return function(t){return Z(t,Ho(Dt(oa,e)))}};aa({});var fa=G,da=function(e){return function(t){return function(e,t){return function(){return t(e())()}}(t,e)}};function ha(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function pa(e,t){return new Array(e).fill(!0).map((function(e,n){return t(n)}))}var ga="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ma(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function va(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var ya=Object.hasOwnProperty,_a=Object.setPrototypeOf,ba=Object.isFrozen,wa=Object.keys,Sa=Object.freeze,xa=Object.seal,Ea="undefined"!=typeof Reflect&&Reflect,Ca=Ea.apply,ka=Ea.construct;Ca||(Ca=function(e,t,n){return e.apply(t,n)}),Sa||(Sa=function(e){return e}),xa||(xa=function(e){return e}),ka||(ka=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var Ta=Ha(Array.prototype.forEach),Ia=Ha(Array.prototype.indexOf),Oa=Ha(Array.prototype.join),Na=Ha(Array.prototype.pop),Aa=Ha(Array.prototype.push),Ra=Ha(Array.prototype.slice),Pa=Ha(String.prototype.toLowerCase),La=Ha(String.prototype.match),Ma=Ha(String.prototype.replace),Da=Ha(String.prototype.indexOf),Fa=Ha(String.prototype.trim),za=Ha(RegExp.prototype.test),Ba=Ua(RegExp),ja=Ua(TypeError);function Ha(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ca(e,t,r)}}function Ua(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return ka(e,n)}}function Va(e,t){_a&&_a(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=Pa(r);i!==r&&(ba(t)||(t[n]=i),r=i)}e[r]=!0}return e}function Wa(e){var t={},n=void 0;for(n in e)Ca(ya,e,[n])&&(t[n]=e[n]);return t}var Ga=Sa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qa=Sa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),$a=Sa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ka=Sa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ya=Sa(["#text"]),Qa=Sa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),Ja=Sa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Za=Sa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xa=Sa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),es=xa(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ts=xa(/<%[\s\S]*|[\s\S]*%>/gm),ns=xa(/^data-[\-\w.\u00B7-\uFFFF]/),rs=xa(/^aria-[\-\w]+$/),is=xa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),os=xa(/^(?:\w+script|data):/i),as=xa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function us(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var cs,ls=function(){return"undefined"==typeof window?null:window},fs=function(e,t){if("object"!==(void 0===e?"undefined":ss(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ds(e,t){var n=e.match(t);return n&&n[1]}!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls(),n=function(t){return e(t)};if(n.version="2.0.12",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=!1,o=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,u=t.Node,c=t.NodeFilter,l=t.NamedNodeMap,f=void 0===l?t.NamedNodeMap||t.MozNamedAttrMap:l,d=t.Text,h=t.Comment,p=t.DOMParser,g=t.trustedTypes;if("function"==typeof s){var m=o.createElement("template");m.content&&m.content.ownerDocument&&(o=m.content.ownerDocument)}var v=fs(g,r),y=v&&Q?v.createHTML(""):"",_=o,b=_.implementation,w=_.createNodeIterator,S=_.getElementsByTagName,x=_.createDocumentFragment,E=r.importNode,C={};n.isSupported=b&&void 0!==b.createHTMLDocument&&9!==o.documentMode;var k=es,T=ts,I=ns,O=rs,N=os,A=as,R=is,P=null,L=Va({},[].concat(us(Ga),us(qa),us($a),us(Ka),us(Ya))),M=null,D=Va({},[].concat(us(Qa),us(Ja),us(Za),us(Xa))),F=null,z=null,B=!0,j=!0,H=!1,U=!1,V=!1,W=!1,G=!1,q=!1,$=!1,K=!1,Y=!1,Q=!1,J=!0,Z=!0,X=!1,ee={},te=Va({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ne=null,re=Va({},["audio","video","img","source","image","track"]),ie=null,oe=Va({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ae=null,se=o.createElement("form"),ue=function(e){ae&&ae===e||(e&&"object"===(void 0===e?"undefined":ss(e))||(e={}),P="ALLOWED_TAGS"in e?Va({},e.ALLOWED_TAGS):L,M="ALLOWED_ATTR"in e?Va({},e.ALLOWED_ATTR):D,ie="ADD_URI_SAFE_ATTR"in e?Va(Wa(oe),e.ADD_URI_SAFE_ATTR):oe,ne="ADD_DATA_URI_TAGS"in e?Va(Wa(re),e.ADD_DATA_URI_TAGS):re,F="FORBID_TAGS"in e?Va({},e.FORBID_TAGS):{},z="FORBID_ATTR"in e?Va({},e.FORBID_ATTR):{},ee="USE_PROFILES"in e&&e.USE_PROFILES,B=!1!==e.ALLOW_ARIA_ATTR,j=!1!==e.ALLOW_DATA_ATTR,H=e.ALLOW_UNKNOWN_PROTOCOLS||!1,U=e.SAFE_FOR_JQUERY||!1,V=e.SAFE_FOR_TEMPLATES||!1,W=e.WHOLE_DOCUMENT||!1,$=e.RETURN_DOM||!1,K=e.RETURN_DOM_FRAGMENT||!1,Y=e.RETURN_DOM_IMPORT||!1,Q=e.RETURN_TRUSTED_TYPE||!1,q=e.FORCE_BODY||!1,J=!1!==e.SANITIZE_DOM,Z=!1!==e.KEEP_CONTENT,X=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||R,V&&(j=!1),K&&($=!0),ee&&(P=Va({},[].concat(us(Ya))),M=[],!0===ee.html&&(Va(P,Ga),Va(M,Qa)),!0===ee.svg&&(Va(P,qa),Va(M,Ja),Va(M,Xa)),!0===ee.svgFilters&&(Va(P,$a),Va(M,Ja),Va(M,Xa)),!0===ee.mathMl&&(Va(P,Ka),Va(M,Za),Va(M,Xa))),e.ADD_TAGS&&(P===L&&(P=Wa(P)),Va(P,e.ADD_TAGS)),e.ADD_ATTR&&(M===D&&(M=Wa(M)),Va(M,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Va(ie,e.ADD_URI_SAFE_ATTR),Z&&(P["#text"]=!0),W&&Va(P,["html","head","body"]),P.table&&(Va(P,["tbody"]),delete F.tbody),Sa&&Sa(e),ae=e)},ce=function(e){Aa(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=y}},le=function(e,t){try{Aa(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Aa(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},fe=function(e){var t=void 0,n=void 0;if(q)e="<remove></remove>"+e;else{var r=La(e,/^[\r\n\t ]+/);n=r&&r[0]}var a=v?v.createHTML(e):e;try{t=(new p).parseFromString(a,"text/html")}catch(e){}if(i&&Va(F,["title"]),!t||!t.documentElement){var s=(t=b.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=a}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),S.call(t,W?"html":"body")[0]};n.isSupported&&function(){try{var e=fe("<x/><title>&lt;/title&gt;&lt;img&gt;");za(/<\/title/,e.querySelector("title").innerHTML)&&(i=!0)}catch(e){}}();var de=function(e){return w.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,(function(){return c.FILTER_ACCEPT}),!1)},he=function(e){return!(e instanceof d||e instanceof h)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof f&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},pe=function(e){return"object"===(void 0===u?"undefined":ss(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":ss(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ge=function(e,t,r){C[e]&&Ta(C[e],(function(e){e.call(n,t,r,ae)}))},me=function(e){var t=void 0;if(ge("beforeSanitizeElements",e,null),he(e))return ce(e),!0;var r=Pa(e.nodeName);if(ge("uponSanitizeElement",e,{tagName:r,allowedTags:P}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return ce(e),!0;if(!P[r]||F[r]){if(Z&&!te[r]&&"function"==typeof e.insertAdjacentHTML)try{var i=e.innerHTML;e.insertAdjacentHTML("AfterEnd",v?v.createHTML(i):i)}catch(e){}return ce(e),!0}return"noscript"===r&&za(/<\/noscript/i,e.innerHTML)||"noembed"===r&&za(/<\/noembed/i,e.innerHTML)?(ce(e),!0):(!U||e.firstElementChild||e.content&&e.content.firstElementChild||!za(/</g,e.textContent)||(Aa(n.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=Ma(e.innerHTML,/</g,"&lt;"):e.innerHTML=Ma(e.textContent,/</g,"&lt;")),V&&3===e.nodeType&&(t=e.textContent,t=Ma(t,k," "),t=Ma(t,T," "),e.textContent!==t&&(Aa(n.removed,{element:e.cloneNode()}),e.textContent=t)),ge("afterSanitizeElements",e,null),!1)},ve=function(e,t,n){if(J&&("id"===t||"name"===t)&&(n in o||n in se))return!1;if(j&&za(I,t));else if(B&&za(O,t));else{if(!M[t]||z[t])return!1;if(ie[t]);else if(za(R,Ma(n,A,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Da(n,"data:")||!ne[e]){if(H&&!za(N,Ma(n,A,"")));else if(n)return!1}else;}return!0},ye=function(e){var t=void 0,r=void 0,i=void 0,o=void 0,a=void 0;ge("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:M};for(a=s.length;a--;){var c=t=s[a],l=c.name,f=c.namespaceURI;if(r=Fa(t.value),i=Pa(l),u.attrName=i,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,ge("uponSanitizeAttribute",e,u),r=u.attrValue,!u.forceKeepAttr){if("name"===i&&"IMG"===e.nodeName&&s.id)o=s.id,s=Ra(s,[]),le("id",e),le(l,e),Ia(s,o)>a&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===r&&u.keepAttr&&(M[i]||!z[i]))continue;"id"===l&&e.setAttribute(l,""),le(l,e)}if(u.keepAttr)if(U&&za(/\/>/i,r))le(l,e);else if(za(/svg|math/i,e.namespaceURI)&&za(Ba("</("+Oa(wa(te),"|")+")","i"),r))le(l,e);else{V&&(r=Ma(r,k," "),r=Ma(r,T," "));var d=e.nodeName.toLowerCase();if(ve(d,i,r))try{f?e.setAttributeNS(f,l,r):e.setAttribute(l,r),Na(n.removed)}catch(e){}}}}ge("afterSanitizeAttributes",e,null)}},_e=function e(t){var n=void 0,r=de(t);for(ge("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ge("uponSanitizeShadowNode",n,null),me(n)||(n.content instanceof a&&e(n.content),ye(n));ge("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var o=void 0,s=void 0,c=void 0,l=void 0,f=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!pe(e)){if("function"!=typeof e.toString)throw ja("toString is not a function");if("string"!=typeof(e=e.toString()))throw ja("dirty is not a string, aborting")}if(!n.isSupported){if("object"===ss(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(pe(e))return t.toStaticHTML(e.outerHTML)}return e}if(G||ue(i),n.removed=[],"string"==typeof e&&(X=!1),X);else if(e instanceof u)1===(s=(o=fe("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!$&&!V&&!W&&-1===e.indexOf("<"))return v&&Q?v.createHTML(e):e;if(!(o=fe(e)))return $?null:y}o&&q&&ce(o.firstChild);for(var d=de(X?e:o);c=d.nextNode();)3===c.nodeType&&c===l||me(c)||(c.content instanceof a&&_e(c.content),ye(c),l=c);if(l=null,X)return e;if($){if(K)for(f=x.call(o.ownerDocument);o.firstChild;)f.appendChild(o.firstChild);else f=o;return Y&&(f=E.call(r,f,!0)),f}var h=W?o.outerHTML:o.innerHTML;return V&&(h=Ma(h,k," "),h=Ma(h,T," ")),v&&Q?v.createHTML(h):h},n.setConfig=function(e){ue(e),G=!0},n.clearConfig=function(){ae=null,G=!1},n.isValidAttribute=function(e,t,n){ae||ue({});var r=Pa(e),i=Pa(t);return ve(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(C[e]=C[e]||[],Aa(C[e],t))},n.removeHook=function(e){C[e]&&Na(C[e])},n.removeHooks=function(e){C[e]&&(C[e]=[])},n.removeAllHooks=function(){C={}},n}(),function(e){e.URI_REGEXP=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i}(cs||(cs={}));var hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function ps(e){if(e<0)throw new TypeError("Length should not be negative: "+e);return Array.from({length:e},(function(){return hs.charAt(Math.random()*hs.length)})).join("")}var gs,ms,vs=6e4;!function(e){var t,n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d*[Z]$/,r=/^(\d{4}-\d{2}-\d{2}).(\d{2}:\d{2}:\d{2}(?:.\d+)?)$/;function i(e){return e.getTime()}e.create=function(e){return mr(n.test(e),"provided string should have timezone",e),new Date(e)},e.copy=function(e){return new Date(e)},e.now=function(){return new Date},e.add=function(e,t){return new Date(e.getTime()+t.getTime())},e.subtract=function(e,t){return new Date(e.getTime()-t.getTime())},e.toSeconds=function(e){return Math.round(e.getTime()/1e3)},e.toTimestamp=i,e.shortTime=function(e){var t=e.getHours(),n=t>=12?"pm":"am";return("0"+(t=t%12||12)).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+" "+n},e.fullDate=function(e){return e.toLocaleString("en-us",{month:"long"})+" "+e.getDate()+", "+e.getFullYear()},(t=e.Timestamp||(e.Timestamp={})).now=function(){return i(e.now())},t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.toSeconds=function(e){return Math.round(e/1e3)},t.toLocal=function(e){return new Date(e)},t.toISODate=function(t){return e.Timestamp.toLocal(t).toISOString()},e.daysAgo=function(t,n){var r=864e5*n;return e.Timestamp.subtract(e.toTimestamp(t),r)},e.monthsAgo=function(t,n){var r=e.copy(t);return r.setMonth(t.getMonth()-n),e.toTimestamp(r)},e.parseDate=function(t){var i=""+t,o=i.match(r);if(o&&(i=o[1]+"T"+o[2]+"Z"),o||i.match(n))return Pt(new Error("Failed to parse date from: "+t))(e.create(i));var a=new Date(i);return isNaN(a.getTime())?At(new Error("Failed to parse date from: "+t)):Pt(new Error("Failed to parse date from: "+t))(a)},e.Eq={equals:function(e,t){return e.getTime()===t.getTime()}}}(gs||(gs={})),function(e){e.string=function(e){return tr(oe(e),Ye(ai))},e.array=function(e){return tr(oe(e),Re((function(e){return e.filter(Boolean)})),Ye(ai))}}(ms||(ms={}));var ys=Object.prototype.hasOwnProperty;function _s(e){return function(t){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=e(o,t[o])}return n}}function bs(e){return function(e){return function(t){if(!ys.call(t,e))return t;var n=Object.assign({},t);return delete n[e],n}}(e)}function ws(e){return _s(e)}function Ss(e){return function(e){return _s((function(t,n){return e(n)}))}(e)}var xs=function(e){return t=function(t,n){return e(n)},function(e){var n={},r=!1;for(var i in e)if(ys.call(e,i)){var o=e[i];t(i,o)?n[i]=o:r=!0}return r?n:e};var t};var Es,Cs=function(e){return e[1]};!function(e){function t(e){return e.left.length>0?At({rejected:e.left,recovered:e.right}):Rt(e.right)}e.fromArray=function(n){return function(r){return tr(r.map((function(e){return tr(n(e),jt((function(t){return J(t,e)})))})),bi,t,e.mapLeft((function(e){return e.map(Cs)})))}},e.map=function(e){return function(t){return tr(t,Bt((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}},e.mapLeft=function(e){return function(t){return tr(t,jt((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},e.flatten=function(e){return function(t){return tr(t,Dt((function(t){return tr(t.recovered,Dt((function(n){return At({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return At({rejected:t.rejected,recovered:e})})))}),U))}},e.flatMap=function(t,n){return function(r){return tr(r,e.map(n),e.flatten(t))}},e.recover=function(e){return Dt((function(t){return e(t.rejected),t.recovered}),U)},e.tapFailure=function(e){return jt((function(t){return e(t),t}))},e.foldSuccess=function(e){return Dt((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?Rt(e):At({recovered:e,rejected:t})},e.fromSeparatedArray=t}(Es||(Es={}));var ks,Ts=function(){function e(e){void 0===e&&(e=3e5),this._windowTime=e,this._count=0}return e.prototype.inc=function(){this._count++,this._startCounter()},Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype._startCounter=function(){var e=this;this._timer=this._timer||setTimeout((function(){e._timer=void 0,e._count-- >0&&e._startCounter()}),this._windowTime)},e}();!function(e){var t,n;!function(e){e[e.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",e[e.GOING_AWAY=1001]="GOING_AWAY",e[e.CLOSED_ABNORMALLY=1006]="CLOSED_ABNORMALLY",e[e.NOT_CONSISTENT=1007]="NOT_CONSISTENT",e[e.VIOLATED_POLICY=1008]="VIOLATED_POLICY",e[e.TOO_BIG=1009]="TOO_BIG",e[e.UNEXPECTED_CONDITION=1011]="UNEXPECTED_CONDITION",e[e.SERVICE_RESTART=1012]="SERVICE_RESTART",e[e.CLIENT_MALFUNCTION=3e3]="CLIENT_MALFUNCTION",e[e.BLOCKED_BY_CLIENT=4e3]="BLOCKED_BY_CLIENT",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.SERVER_SHUTDOWN=4002]="SERVER_SHUTDOWN",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.PRECONDITION_FAILED=4012]="PRECONDITION_FAILED",e[e.TOO_MANY_REQUESTS=4029]="TOO_MANY_REQUESTS",e[e.UNKNOWN_WS_ERROR=-1]="UNKNOWN_WS_ERROR"}(t=e.WsCodes||(e.WsCodes={})),function(e){e.capi="capi",e.dox="dox"}(n=e.ClientType||(e.ClientType={}));e.getIdleReconnect=function(e){var t=Kr.Logging.getLogger("coreclients."+n[e]+".reconnect",lr.TRACE);return function(n,r){var i={client:e,code:n.code,reason:n.reason,reconnectCounter:r.reconnectCounter};return t.info("skipping reconnect ",i),Rt({kind:"idle"})}},e.getDefaultReconnect=function(e,r){var i=this;void 0===r&&(r=5);var o=Kr.Logging.getLogger("coreclients."+n[e]+".reconnect",lr.TRACE),a=new Ts;return function(n,s,u){return function(e){return"RUNTIME_ERROR"===e.error.status}(n)&&(o.debug("disconnected because of runtime error"),a.inc()),tr(function(e,n,r,i,o,a){if(void 0===a&&(a="backOffReconnect"),n>10)return At(new Error("Maximum number (10) of reconnect attempts reached"));switch(e.code){case t.NORMAL_CLOSURE:case t.GOING_AWAY:return tr(o.canGoIdle?"idle":"backOffReconnect",Rt);case t.TOO_BIG:return At(new Error("WS closed because message was too big"));case t.UNEXPECTED_CONDITION:return tr(r>i?"idle":"backOffReconnect",Rt);case t.CLOSED_ABNORMALLY:case t.VIOLATED_POLICY:case t.SERVICE_RESTART:case t.SERVER_SHUTDOWN:case t.TOO_MANY_REQUESTS:return Rt("backOffReconnect");case t.NOT_FOUND:return At(new Error("WS closed due to not found error"));case t.UNAUTHORIZED:return At(new Error("WS closed due to unauthorized error"));case t.CLIENT_MALFUNCTION:case t.BLOCKED_BY_CLIENT:return!o.isStable&&n>1?At(new Error("Failed to init connection for the second time")):Rt("backOffReconnect");case t.NOT_CONSISTENT:return n>1?At(new Error("Tried to send invalid message for the second time in a row")):Rt("backOffReconnect");case t.PRECONDITION_FAILED:return At(new Error("Precondition failed"));default:return Rt(a)}}(n,s.reconnectCounter,a.count,r,u),Ut((function(t){var r={client:e,code:n.code,reason:n.reason,reconnectDecision:t,timeout:s.nextDelay,reconnectCounter:s.reconnectCounter};switch(t){case"idle":return o.debug("Skip reconnect, going idle",r),Rt({kind:"idle"});case"backOffReconnect":return o.debug("Trying to reconnect",r),Rt({kind:"scheduledReconnect",reconnect:function(e){return Zn(i,void 0,void 0,(function(){var t;return Xn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.scheduleReconnect(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),o.warn("Reconnect failed due to error ",t),[3,3];case 3:return[2]}}))}))}(s.nextDelay)});default:return At(new Error("unsupported reconnect decision: "+t))}})))}};var r=function(){function e(e,t,n){void 0===e&&(e=vs),void 0===t&&(t=1e3),this._maxDelay=e,this._baseDelay=t,this._reconnect=n,this._log=Kr.Logging.getLogger("coreclients.reconnect.scheduler"),this.prevDelay=0,this._reconnectCounter=0}return Object.defineProperty(e.prototype,"delay",{get:function(){return this.prevDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reconnectCounter",{get:function(){return this._reconnectCounter},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._reconnectCounter=0,this.prevDelay=0},Object.defineProperty(e.prototype,"nextDelay",{get:function(){var t=Math.max(this._baseDelay,this.prevDelay,10),n=e._randomBetween(this._baseDelay,3*t);return Math.min(this._maxDelay,n)},enumerable:!1,configurable:!0}),e._randomBetween=function(e,t){return e+Math.floor(Math.random()*(t-e))},e.prototype.scheduleReconnect=function(e){return void 0===e&&(e=this.nextDelay),Zn(this,void 0,void 0,(function(){var t=this;return Xn(this,(function(n){if(e<0)throw new Error("WebSocket [ERROR]: Negative delay is not allowed: "+e);return 0===e?[2,this.reconnectNow()]:[2,new Promise((function(n,r){t._log.debug("Reconnecting after timeout "+e),t.cancelReconnect(),t._timer=window.setTimeout((function(){return t.reconnectNow().then((function(e){n(e)})).catch((function(e){return r(e)}))}),e),t.prevDelay=e}))]}))}))},e.prototype.reconnectNow=function(){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(e){if(!this._reconnect)throw new Error("WebSocket [ERROR]: Reconnect is not set, consider setting it before reconnect will be triggered");return this.cancelReconnect(),this._reconnectCounter++,[2,this._reconnect()]}))}))},e.prototype.cancelReconnect=function(){this._timer&&clearTimeout(this._timer)},e}();e.ReconnectSchedulerImpl=r}(ks||(ks={}));var Is,Os=function(){},Ns=function(){return function(){this.onSessionStarted=Os,this.onWaitForOT=Os,this.onReady=Os,this.onSessionInbound=Os,this.beforeAlert=Os,this.onAlert=Os,this.onRemove=Os,this.onChange=Os,this.onSynonyms=Os,this.onPlagiarism=Os,this.onBeforeAsyncCheckFinish=Os,this.onAsyncCheckFinish=Os,this.onError=Os,this.onBeforeFinish=Os,this.onFinish=Os,this.onStats=Os,this.onTextMaps=Os,this.onTextInfo=Os,this.onEmotions=Os,this.onGoalPrediction=Os,this.onPong=Os,this.onDebugInfo=Os,this.onConnect=Os,this.onDisconnect=Os,this.onClose=Os,this.onQueueMsgAccepted=Os,this.onQueueMsgDropped=Os,this.onAck=Os,this.onMessageReceived=Os,this.onMessageSent=Os,this.onAutoComplete=Os,this.onAttentionHeatmap=Os,this.onAttentionInfo=Os,this.onProofitAvailability=Os,this.onProofitCancelled=Os,this.onProofitCompleted=Os,this.onProofitProgress=Os,this.onProofitProgressProblem=Os,this.onProofitSubmit=Os,this.onBoomerangSharedLinkReceived=Os,this.onBoomerangReviewSubmitted=Os,this.onBoomerangReviewProgress=Os,this.onBoomerangCreateSharedLinkAck=Os,this.onBoomerangCheckReviewersFeedbackAck=Os}}(),As=function(e){return"Left"===e._tag},Rs=(Is=function(e,t){return(Is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Is(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ps=function(){return(Ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ls=function(e){return{_tag:"Left",left:e}},Ms=function(e,t,n){return Ls([{value:e,context:t,message:n}])},Ds=function(e){return{_tag:"Right",right:e}},Fs=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe("+this.name+", "+t.name+")"),new e(n,t.is,(function(e,n){var i=r.validate(e,n);return As(i)?i:t.validate(i.right,n)}),this.encode===zs&&t.encode===zs?zs:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),zs=function(e){return e};function Bs(e){return e.displayName||e.name||"<function"+e.length+">"}function js(e,t,n,r){for(var i=e.length,o=Array(i+1),a=0;a<i;a++)o[a]=e[a];return o[i]={key:t,type:n,actual:r},o}function Hs(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var Us=Object.prototype.hasOwnProperty;function Vs(e){for(var t=0;t<e.length;t++)if(e[t].encode!==zs)return!1;return!0}function Ws(e){return"{ "+function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")}(e)+" }"}var Gs={};function qs(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];-1!==t.indexOf(o)&&n.push(o)}return n}function $s(e){return"LiteralType"===e._tag}var Ks=[];function Ys(e){if(-1!==Ks.indexOf(e))return Gs;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var t=Gs;for(var n in e.props){var r=e.props[n];$s(r)&&(t===Gs&&(t={}),t[n]=[r.value])}return t}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return Ys(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,t){return function(e,t){if(e===Gs)return t;if(t===Gs)return e;var n=Object.assign({},e);for(var r in t)if(e.hasOwnProperty(r)){var i=qs(e[r],t[r]);if(!(i.length>0)){n=Gs;break}n[r]=i}else n[r]=t[r];return n}(e,Ys(t))}),Gs);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,t){return function(e,t){if(e===Gs||t===Gs)return Gs;var n=Gs;for(var r in e)t.hasOwnProperty(r)&&0===qs(e[r],t[r]).length&&(n===Gs&&(n={}),n[r]=e[r].concat(t[r]));return n}(e,Ys(t))}),Ys(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){Ks.push(e);var i=Ys(e.type);return Ks.pop(),i}return Gs}new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="NullType",t}return Rs(t,e),t}(Fs));var Qs=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="UndefinedType",t}return Rs(t,e),t}(Fs));new(function(e){function t(){var t=e.call(this,"void",Qs.is,Qs.validate,zs)||this;return t._tag="VoidType",t}return Rs(t,e),t}(Fs)),new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),Ds,zs)||this;return t._tag="UnknownType",t}return Rs(t,e),t}(Fs));var Js=new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="StringType",t}return Rs(t,e),t}(Fs)),Zs=new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="NumberType",t}return Rs(t,e),t}(Fs));new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="BigIntType",t}return Rs(t,e),t}(Fs)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="BooleanType",t}return Rs(t,e),t}(Fs));var Xs=new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="AnyArrayType",t}return Rs(t,e),t}(Fs)),eu=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Window]"===t}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="AnyDictionaryType",t}return Rs(t,e),t}(Fs)),tu=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.value=o,a._tag="LiteralType",a}return Rs(t,e),t}(Fs);var nu=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.keys=o,a._tag="KeyofType",a}return Rs(t,e),t}(Fs);var ru=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n,r,i)||this;return s.type=o,s.predicate=a,s._tag="RefinementType",s}return Rs(t,e),t}(Fs);pu(Zs,(function(e){return Number.isInteger(e)}),"Int");var iu=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.runDefinition=o,a._tag="RecursiveType",a}return Rs(t,e),t}(Fs);Object.defineProperty(iu.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var ou=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.type=o,a._tag="ArrayType",a}return Rs(t,e),t}(Fs);function au(e,t){return void 0===t&&(t="Array<"+e.name+">"),new ou(t,(function(t){return Xs.is(t)&&t.every(e.is)}),(function(t,n){var r=Xs.validate(t,n);if(As(r))return r;for(var i=r.right,o=i.length,a=i,s=[],u=0;u<o;u++){var c=i[u],l=e.validate(c,js(n,String(u),e,c));if(As(l))Hs(s,l.left);else{var f=l.right;f!==c&&(a===i&&(a=i.slice()),a[u]=f)}}return s.length>0?Ls(s):Ds(a)}),e.encode===zs?zs:function(t){return t.map(e.encode)},e)}var su=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.props=o,a._tag="InterfaceType",a}return Rs(t,e),t}(Fs);function uu(e,t){void 0===t&&(t=Ws(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new su(t,(function(e){if(eu.is(e)){for(var t=0;t<i;t++){var o=n[t],a=e[o];if(void 0===a&&!Us.call(e,o)||!r[t].is(a))return!1}return!0}return!1}),(function(e,t){var o=eu.validate(e,t);if(As(o))return o;for(var a=o.right,s=a,u=[],c=0;c<i;c++){var l=n[c],f=s[l],d=r[c],h=d.validate(f,js(t,l,d,f));if(As(h))Hs(u,h.left);else{var p=h.right;(p!==f||void 0===p&&!Us.call(s,l))&&(s===a&&(s=Ps({},a)),s[l]=p)}}return u.length>0?Ls(u):Ds(s)}),Vs(r)?zs:function(e){for(var t=Ps({},e),o=0;o<i;o++){var a=n[o],s=r[o].encode;s!==zs&&(t[a]=s(e[a]))}return t},e)}!function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.props=o,a._tag="PartialType",a}Rs(t,e)}(Fs),function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n,r,i)||this;return s.domain=o,s.codomain=a,s._tag="DictionaryType",s}Rs(t,e)}(Fs);var cu=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.types=o,a._tag="UnionType",a}return Rs(t,e),t}(Fs);function lu(e,t){void 0===t&&(t=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"}(e));var n=function(e){var t=Ys(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),o=[t[n]],a=1;a<r;a++){var s=Ys(e[a])[n];if(void 0===s)return"continue-keys";if(s.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,s),o.push(s)}return{value:[n,o]}};e:for(var o=0,a=n;o<a.length;o++){var s=i(a[o]);if("object"==typeof s)return s.value;switch(s){case"continue-keys":continue e}}}(e);if(void 0!==n&&e.length>0){var r=n[0],i=n[1],o=i.length,a=function(e){for(var t=0;t<o;t++)if(-1!==i[t].indexOf(e))return t};return new hu(t,(function(t){if(eu.is(t)){var n=a(t[r]);return void 0!==n&&e[n].is(t)}return!1}),(function(t,n){var i=eu.validate(t,n);if(As(i))return i;var o=i.right,s=a(o[r]);if(void 0===s)return Ms(t,n);var u=e[s];return u.validate(o,js(n,String(s),u,o))}),Vs(e)?zs:function(n){var i=a(n[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+t);return e[i].encode(n)},e,r)}return new cu(t,(function(t){return e.some((function(e){return e.is(t)}))}),(function(t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=o.validate(t,js(n,String(i),o,t));if(!As(a))return Ds(a.right);Hs(r,a.left)}return Ls(r)}),Vs(e)?zs:function(n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.is(n))return o.encode(n)}throw new Error("no codec found to encode value in union type "+t)},e)}var fu=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.types=o,a._tag="IntersectionType",a}return Rs(t,e),t}(Fs),du=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.types=o,a._tag="TupleType",a}return Rs(t,e),t}(Fs);!function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.type=o,a._tag="ReadonlyType",a}Rs(t,e)}(Fs),function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.type=o,a._tag="ReadonlyArrayType",a}Rs(t,e)}(Fs),function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.type=o,a._tag="ExactType",a}Rs(t,e)}(Fs),new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="FunctionType",t}return Rs(t,e),t}(Fs));var hu=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n,r,i,o)||this;return s.tag=a,s}return Rs(t,e),t}(cu);function pu(e,t,n){return void 0===n&&(n="("+e.name+" | "+Bs(t)+")"),new ru(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var i=e.validate(n,r);if(As(i))return i;var o=i.right;return t(o)?Ds(o):Ms(o,r)}),e.encode,e,t)}function gu(e){return void 0!==e.message?e.message:"Invalid value "+(("function"==typeof(t=e.value)?Bs(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to ")+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function mu(e){return e.map(gu)}function vu(e){return"null"===e||"undefined"===e||null==e}function yu(e){if(null===e||"null"===e||"boolean"==typeof e)return null;var t=Number(e);return Number.isNaN(t)?null:t}function _u(e){return vu(e)?null:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}function bu(e){try{return JSON.parse(decodeURI(e))}catch(e){return null}}new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return Ms(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return Rs(t,e),t}(Fs)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),Ds,zs)||this;return t._tag="AnyType",t}return Rs(t,e),t}(Fs)),new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return t.is(e)?Ds(e):Ms(e,n)}),zs)||this;return t._tag="ObjectType",t}return Rs(t,e),t}(Fs)),pu(Zs,Number.isInteger,"Integer"),function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.props=o,a._tag="StrictType",a}Rs(t,e)}(Fs);var wu,Su=function(){function e(e){this._value=e}return e.prototype.getStr=function(){return vu(this._value)?null:String(this._value)},e.prototype.getNum=function(){return yu(this._value)},e.prototype.getBool=function(){return _u(this._value)},e.prototype.getBoolOrDefault=function(e){return function(e,t){return vu(e)?t:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}(this._value,e)},e.prototype.getObject=function(){return bu(this._value)},e.prototype.getArray=function(){return bu(this._value)},e.prototype.getObjProp=function(e){return this._value.hasOwnProperty(e)?this._value[e]:null},e}();!function(e){e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new Su(r&&r[e])},e.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=new Cu,r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o){var s=o[a];n[a]="object"==typeof s?encodeURI(JSON.stringify(s)):s}}return n},e.is=function(e){return e instanceof Cu}}(wu||(wu={}));var xu,Eu,Cu=function(){function e(){}return e.prototype.getStr=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.getNum=function(e){return this.hasOwnProperty(e)?yu(this[e]):null},e.prototype.getBool=function(e){return this.hasOwnProperty(e)?_u(this[e]):null},e.prototype.getObject=function(e){return this.hasOwnProperty(e)?bu(this[e]):null},e.prototype.has=function(e){return this.hasOwnProperty(e)},e.prototype.ifPresent=function(e,t){this[e]&&t(this[e])},e.prototype.entries=function(){var e=this;return Object.keys(this).map((function(t){return[t,new Su(e[t])]}))},e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new Su(r&&r[e])},e}();!function(e){var t=["{","}",";","="];e.property=new Fs("property",(function(e){return!0}),(function(e,n){var r=n[1].key,i=String(e);return i.length>1024?Ms(e,n,"Property "+r+" is too long (max length is 1024)"):t.some((function(e){return i.indexOf(e)>=0}))?Ms(e,n,"Property "+r+" has forbidden characters ("+t.join(", ")+")"):Ds(e)}),zs),e.fromProperties=function(t){return uu(tr(t,xs((function(e){return"function"!=typeof e})),Ss((function(t){return e.property}))))}}(xu||(xu={})),function(e){function t(e){return function(t){return(!!(n=t)&&"None"===n._tag||!!n&&"Some"===n._tag)&&tr(t,le((function(){return!0}),e.is));var n}}function n(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every(e.is)}}e.set=function(e){return new Fs("Set<"+e.name+">",(function(e){return e instanceof Set}),(function(t,n){return Yt.map(au(e).validate(t,n),(function(e){return new Set(e)}))}),(function(e){return Array.from(e)}))},e.getIsOption=t,e.option=function(e){return new Fs("option:"+e.name,t(e),(function(t,n){return null==t?Rt(re):Yt.map(e.validate(t,n),ie)}),le((function(){}),e.encode))},e.opaque=function(e){return new Fs("Opaque",(function(e){return"string"==typeof e}),(function(t,n){return Yt.chain(e.validate(t,n),(function(e){return Ds(e)}))}),(function(e){return e}))},e.getIsNEA=n,e.nonEmptyArray=function(e){return new Fs("NEA",n(e),(function(t,n){return Yt.chain(au(e).validate(t,n),(function(e){return e.length>0?Ds(e):Ms(e,n,"Array is empty")}))}),(function(e){return So(Hn(e))}))},e.literalUnion=function(e,t){return lu(t.map((function(e){return function(e,t){void 0===t&&(t=JSON.stringify(e));var n=function(t){return t===e};return new tu(t,n,(function(t,r){return n(t)?Ds(e):Ms(t,r)}),zs,e)}(e)})),e+":string")},e.date=function(){return new Fs("Date",(function(e){return e instanceof Date}),(function(e,t){var n=Date.parse(e.toString()),r=isNaN(n)?e:n;return Yt.map(Zs.validate(r,t),(function(e){return new Date(e)}))}),(function(e){return e.getTime()}))};var r=function(e){return Js.is(e)&&!Number.isNaN(Number(e))};e.stringFromNumber=new Fs("stringFromNumber",r,(function(e,t){return r(e)?Ds(e):"number"!=typeof e||Number.isNaN(e)?Ms(e,t):Ds(e.toString())}),(function(e){return Number(e)})),e.withDefault=function(e,t){return new Fs("withDefault("+JSON.stringify(t)+"):"+e.name,e.is,(function(n,r){return e.validate(vu(n)?t:n,r)}),e.encode)},e.fallback=function(e,t){return new Fs("fallback("+JSON.stringify(t)+"):"+e.name,e.is,(function(n,r){var i=e.validate(n,r);return Ot(i)?Rt(t):i}),e.encode)};var i=function(e,t){Array.prototype.push.apply(e,t)},o=["boolean","string","Date","number","Array","Set","object","Dictionary","StringEnum","Partial"];function a(e,t){var n=function(e){var t=e.replace(/\w+\(.*?\):/,"");if("{"===t[0]&&"}"===t[t.length-1])return"object";var n=t.split(":").pop();return 0===n.indexOf("Date")?"Date":0===n.indexOf("Array<")?"Array":0===n.indexOf("Set<")?"Set":0===n.indexOf("StringEnum<")?"StringEnum":0===t.indexOf("Partial<")?"Partial":(mr(o.indexOf(n)>-1,"unsupported prop type "+e),n)}(e);switch(n){case"boolean":return t.getBool();case"string":case"StringEnum":return t.getStr();case"Date":return null===t.getNum()?t.getStr():t.getNum();case"number":return t.getNum();case"Array":case"Set":return t.getArray();case"object":case"Partial":case"Dictionary":return t.getObject();default:return vr(n)}}e.properties=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=function(e){return"{ "+Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")+" }"}(e)),new su(n,(function(t){if(!wu.is(t))return!1;for(var n in e)if(!e[n].is(t[n]))return!1;return!0}),(function(n,r){if(!Array.isArray(n)||n.some((function(e){return!wu.is(e)})))return Ms(n,r);var o={},s=[],u=function(u){var c=""!==t?t+":"+u:u,l=wu.find.apply(wu,er([c],n)),f=e[u],d=a(f.name,l),h=f.validate(d,js(r,u,f));tr(h,Dt((function(e){return i(s,e)}),(function(e){o[u]=e})))};for(var c in e)u(c);return s.length?Ls(s):Ds(o)}),(function(n){var r={};for(var i in e){var o=""!==t?t+":"+i:i,a=e[i],s=n[i];a.is(s)&&(r[o]=e[i].encode(s))}return wu.of(r)}),e)},e.combineProperties=function(e,t){void 0===t&&(t="("+e.map((function(e){return e.name})).join(" & ")+")");var n=e.length;return new fu(t,(function(t){return e.every((function(e){return e.is(t)}))}),(function(t,r){for(var o={},a=[],s=0;s<n;s++){var u=e[s].validate(t,r);tr(u,Dt((function(e){return i(a,e)}),(function(e){return Object.assign(o,e)})))}return a.length?Ls(a):Ds(o)}),(function(t){return wu.of.apply(wu,e.map((function(e){return e.encode(t)})))}),e)},e.createStringEnum=function(e,t){return function(e,t){void 0===t&&(t=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(t){return Js.is(t)&&Us.call(e,t)};return new nu(t,n,(function(e,t){return n(e)?Ds(e):Ms(e,t)}),zs,e)}(Object.values(e).reduce((function(e,t){return e[t]=null,e}),{}),"StringEnum<"+t+">")}}(Eu||(Eu={}));var ku,Tu=ot({equals:function(e,t){return e===t}});!function(e){e.equals=function(e,t){return ot(Ai).equals(e.domain,t.domain)&&ot({equals:ui}).equals(e.goals,t.goals)&&Tu.equals(e.audience,t.audience)&&Tu.equals(e.style,t.style)&&ot({equals:ui}).equals(e.emotions,t.emotions)},e.goals=["inform","describe","convince","tellStory"],e.goalsLabels=["Inform","Describe","Convince","Tell A Story"],e.audiences=["general","knowledgeable","expert"],e.formalityLevels=["informal","neutral","formal"],e.tone=["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"],e.domains=["academic","business","general","mail","casual","creative"],e.dialects=["american","british","canadian","australian"],e.fromDomain=function(t){return Qn(Qn({},e.unset),{domain:ie(t)})},e.unset={goals:re,domain:re,emotions:re,audience:re,style:re,dialect:re},e.defaultContextFallback={goals:new Set,domain:"general",emotions:new Set,audience:"knowledgeable",style:"neutral",dialect:re},e.isStyleValidWithDomain=function(e,t){return"neutral"===t||("formal"===t?"creative"!==e&&"casual"!==e:"academic"!==e)};var t=Eu.literalUnion("goal",e.goals),n=Eu.set(t),r=Eu.literalUnion("audience",e.audiences),i=Eu.literalUnion("formality",e.formalityLevels),o=Eu.literalUnion("tone",e.tone),a=Eu.set(o),s=Eu.literalUnion("domain",e.domains),u=Eu.literalUnion("dialect",e.dialects);e.IOType=uu({goals:Eu.option(n),domain:Eu.option(s),audience:Eu.option(r),style:Eu.option(i),emotions:Eu.option(a),dialect:Eu.option(u)}),e.IOTypeDefault=uu({goals:n,domain:s,audience:r,style:i,emotions:a,dialect:Eu.option(u)}),e.tryParse=function(e){return function(t){return tr(e(t),jt(mu),jt((function(e){return Kr.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",e),e})))}},e.parse=Q(oe,Me((function(t){return tr(t,e.tryParse(e.IOType.decode),ce)}))),e.parseDefault=Q(oe,Me(Q(e.tryParse((function(t){return e.IOTypeDefault.decode(t)})),ce))),e.serialize=function(t){return e.IOType.encode(t)},e.serializeDefault=function(t){return e.IOTypeDefault.encode(t)}}(ku||(ku={}));var Iu=function(){function e(e,t,n,r){this.from=e,this.to=t,this.event=n,this.args=r}return e.prototype.toString=function(){return"Transition: From: "+this.from+" to: "+this.to+" (Args: "+this.args+")"},e}(),Ou=function(){function e(t,n,r){this._name=t,this._log=Kr.Logging.getLogger("coreclients.fsm"),this._parents={},this._transitions={},this._scheduled=[],this._listeners={},this._inTransition=!1,this._verbose=!1,this._id=++e._ids,this._current=n,this._final=r||null}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinal",{get:function(){return this._final===this._current},enumerable:!1,configurable:!0}),e.prototype.transition=function(e,t,n){this._transitions[e<<11|n]=t},e.prototype.parent=function(e,t){this._parents[e]=t},e.prototype.is=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.findIndex((function(t){return t===e._current}))>=0},e.prototype.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(Au.bind.apply(Au,er([void 0,this],e)))},e.prototype.with=function(e){return new Nu(this,e)},e.prototype.verbose=function(e,t){return this._verbose=!0,this._states=e,this._events=t,this},e.prototype.on=function(e,t){return this._addCallback(this._listeners,e,t),this},e.prototype.event=function(e,t){return Zn(this,void 0,void 0,(function(){var n=this;return Xn(this,(function(r){return[2,new Promise((function(r,i){return Zn(n,void 0,void 0,(function(){var n,o,a,s;return Xn(this,(function(u){switch(u.label){case 0:if(this._verbose&&this._trace("Handling event "+this._eventName(e)+", currently in "+this._stateName(this._current)),this._current===this._final)return this._trace("Cannot handle event "+e+": FSM is in it's final state "+this._current),[2,r(!1)];if(this._inTransition)return this._scheduled.push(new Pu(e,t,r,i)),[2];n=this._current,o=null,a=function(){var i,a,u,c,l,f,d;return Xn(this,(function(h){switch(h.label){case 0:if(void 0===(i=s._transitions[n<<11|e]))return[3,10];s._inTransition=!0,a=s._listeners[i]||[],u=new Iu(s._current,i,e,t),h.label=1;case 1:h.trys.push([1,7,8,9]),s._verbose&&s._trace("Transition from "+s._stateName(u.from)+" to "+s._stateName(u.to)+" on "+s._eventName(e)+" Arguments: "+t),s._current=i,c=a.map((function(e){return Promise.resolve(e(u))})),s._inTransition=!1,l=function(e){return Xn(this,(function(t){switch(t.label){case 0:return[4,s.event(e.event,e.args).then((function(t){return e.done(t)})).catch((function(t){return e.fail(t)}))];case 1:return t.sent(),[2]}}))},f=s._scheduled.shift(),h.label=2;case 2:return void 0===f?[3,5]:[5,l(f)];case 3:h.sent(),h.label=4;case 4:return f=s._scheduled.shift(),[3,2];case 5:return[4,Promise.all(c).then((function(e){return r(!0)}))];case 6:return h.sent(),[3,9];case 7:return d=h.sent(),o=d,[3,9];case 8:return s._inTransition=!1,[7];case 9:return[2,"break"];case 10:return n=s._parents[n],[2]}}))},s=this,u.label=1;case 1:return void 0===n?[3,3]:[5,a()];case 2:return"break"===u.sent()?[3,3]:[3,1];case 3:return o?i(o):r(!1),[2]}}))}))}))]}))}))},e.prototype._addCallback=function(e,t,n){var r=e[t];return r||(r=[],e[t]=r),r.push(n),this},e.prototype._eventName=function(e){return void 0===this._events?e:this._events[e]},e.prototype._stateName=function(e){return void 0===this._states?e:this._states[e]},e.prototype._trace=function(e){this._log.trace("FSM#"+this._id+(this._name&&"_"+this._name)+" [VERBOSE]: "+e)},e._ids=0,e}(),Nu=function(){function e(e,t){this.hsm=e,this.state=t}return e.prototype.childrenOf=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.hsm.parent(e.state,t)})),this.hsm},e.prototype.parentOf=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.hsm.parent(t,e.state)})),this.hsm},e}(),Au=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hsm=e,this._states=t}return e.prototype.to=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ru(this.hsm,this._states,e)},e}(),Ru=function(){function e(e,t,n){this.hsm=e,this.from=t,this.to=n}return e.prototype.on=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.from.forEach((function(n){return e.to.forEach((function(r){return e.hsm.transition(n,r,t)}))}))})),this.hsm},e}(),Pu=function(){return function(e,t,n,r){this.event=e,this.args=t,this.done=n,this.fail=r}}(),Lu=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new pr("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}(),Mu=-1;function Du(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var i=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,a=t.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,u=e.slice(0,s),c=e.slice(s),l=i?i.index:null,f=s+a-o;if((null===l||l===f)&&!(f<0||f>a)){var d=t.slice(0,f);if((g=t.slice(f))===c){var h=Math.min(s,f);if((v=u.slice(0,h))===(_=d.slice(0,h)))return Gu(v,u.slice(h),d.slice(h),c)}}if(null===l||l===s){var p=s,g=(d=t.slice(0,p),t.slice(p));if(d===u){var m=Math.min(o-p,a-p);if((y=c.slice(c.length-m))===(b=g.slice(g.length-m)))return Gu(u,c.slice(0,c.length-m),g.slice(0,g.length-m),y)}}}if(r.length>0&&i&&0===i.length){var v=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(a<(h=v.length)+(m=y.length))){var _=t.slice(0,h),b=t.slice(a-m);if(v===_&&y===b)return Gu(v,e.slice(h,o-m),t.slice(h,a-m),y)}}return null}(e,t,n);if(i)return i}var o=zu(e,t),a=e.substring(0,o);o=Bu(e=e.substring(o),t=t.substring(o));var s=e.substring(e.length-o),u=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[Mu,e]];var r=e.length>t.length?e:t,i=e.length>t.length?t:e,o=r.indexOf(i);if(-1!==o)return n=[[1,r.substring(0,o)],[0,i],[1,r.substring(o+i.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Mu),n;if(1===i.length)return[[Mu,e],[1,t]];var a=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,a,s=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!==(u=t.indexOf(s,u+1));){var l=zu(e.substring(n),t.substring(u)),f=Bu(e.substring(0,n),t.substring(0,u));c.length<f+l&&(c=t.substring(u-f,u)+t.substring(u,u+l),r=e.substring(0,n-f),i=e.substring(n+l),o=t.substring(0,u-f),a=t.substring(u+l))}return 2*c.length>=e.length?[r,i,o,a,c]:null}var o,a,s,u,c,l=i(n,r,Math.ceil(n.length/4)),f=i(n,r,Math.ceil(n.length/2));if(!l&&!f)return null;o=f?l&&l[4].length>f[4].length?l:f:l;e.length>t.length?(a=o[0],s=o[1],u=o[2],c=o[3]):(u=o[0],c=o[1],a=o[2],s=o[3]);var d=o[4];return[a,s,u,c,d]}(e,t);if(a){var s=a[0],u=a[1],c=a[2],l=a[3],f=a[4],d=Du(s,c),h=Du(u,l);return d.concat([[0,f]],h)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),o=i,a=2*i,s=new Array(a),u=new Array(a),c=0;c<a;c++)s[c]=-1,u[c]=-1;s[o+1]=0,u[o+1]=0;for(var l=n-r,f=l%2!=0,d=0,h=0,p=0,g=0,m=0;m<i;m++){for(var v=-m+d;v<=m-h;v+=2){for(var y=o+v,_=(E=v===-m||v!==m&&s[y-1]<s[y+1]?s[y+1]:s[y-1]+1)-v;E<n&&_<r&&e.charAt(E)===t.charAt(_);)E++,_++;if(s[y]=E,E>n)h+=2;else if(_>r)d+=2;else if(f){if((S=o+l-v)>=0&&S<a&&-1!==u[S])if(E>=(w=n-u[S]))return Fu(e,t,E,_)}}for(var b=-m+p;b<=m-g;b+=2){for(var w,S=o+b,x=(w=b===-m||b!==m&&u[S-1]<u[S+1]?u[S+1]:u[S-1]+1)-b;w<n&&x<r&&e.charAt(n-w-1)===t.charAt(r-x-1);)w++,x++;if(u[S]=w,w>n)g+=2;else if(x>r)p+=2;else if(!f){if((y=o+l-b)>=0&&y<a&&-1!==s[y]){var E;_=o+(E=s[y])-y;if(E>=(w=n-w))return Fu(e,t,E,_)}}}}return[[Mu,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-o),t=t.substring(0,t.length-o));return a&&u.unshift([0,a]),s&&u.push([0,s]),ju(u,r),u}function Fu(e,t,n,r){var i=e.substring(0,n),o=t.substring(0,r),a=e.substring(n),s=t.substring(r),u=Du(i,o),c=Du(a,s);return u.concat(c)}function zu(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return Hu(e.charCodeAt(i-1))&&i--,i}function Bu(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return Uu(e.charCodeAt(e.length-i))&&i--,i}function ju(e,t){e.push([0,""]);for(var n,r=0,i=0,o=0,a="",s="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:o++,s+=e[r][1],r++;break;case Mu:i++,a+=e[r][1],r++;break;case 0:var u=r-o-i-1;if(t){if(u>=0&&Wu(e[u][1])){var c=e[u][1].slice(-1);if(e[u][1]=e[u][1].slice(0,-1),a=c+a,s=c+s,!e[u][1]){e.splice(u,1),r--;var l=u-1;e[l]&&1===e[l][0]&&(o++,s=e[l][1]+s,l--),e[l]&&e[l][0]===Mu&&(i++,a=e[l][1]+a,l--),u=l}}if(Vu(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),a+=c,s+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(a.length>0||s.length>0){a.length>0&&s.length>0&&(0!==(n=zu(s,a))&&(u>=0?e[u][1]+=s.substring(0,n):(e.splice(0,0,[0,s.substring(0,n)]),r++),s=s.substring(n),a=a.substring(n)),0!==(n=Bu(s,a))&&(e[r][1]=s.substring(s.length-n)+e[r][1],s=s.substring(0,s.length-n),a=a.substring(0,a.length-n)));var f=o+i;0===a.length&&0===s.length?(e.splice(r-f,f),r-=f):0===a.length?(e.splice(r-f,f,[1,s]),r=r-f+1):0===s.length?(e.splice(r-f,f,[Mu,a]),r=r-f+1):(e.splice(r-f,f,[Mu,a],[1,s]),r=r-f+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,a="",s=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&ju(e,t)}function Hu(e){return e>=55296&&e<=56319}function Uu(e){return e>=56320&&e<=57343}function Vu(e){return Uu(e.charCodeAt(0))}function Wu(e){return Hu(e.charCodeAt(e.length-1))}function Gu(e,t,n,r){return Wu(e)||Vu(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[Mu,t],[1,n],[0,r]])}function qu(e,t,n){return Du(e,t,n,!0)}qu.INSERT=1,qu.DELETE=Mu,qu.EQUAL=0;var $u,Ku=qu,Yu=ma((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",u="[object GeneratorFunction]",c="[object Map]",l="[object Number]",f="[object Object]",d="[object Promise]",h="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]",O=/\w*$/,N=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[y]=R[_]=R[o]=R[a]=R[b]=R[w]=R[S]=R[x]=R[E]=R[c]=R[l]=R[f]=R[h]=R[p]=R[g]=R[m]=R[C]=R[k]=R[T]=R[I]=!0,R["[object Error]"]=R[s]=R[v]=!1;var P="object"==typeof ga&&ga&&ga.Object===Object&&ga,L="object"==typeof self&&self&&self.Object===Object&&self,M=P||L||Function("return this")(),D=t&&!t.nodeType&&t,F=D&&e&&!e.nodeType&&e,z=F&&F.exports===D;function B(e,t){return e.set(t[0],t[1]),e}function j(e,t){return e.add(t),e}function H(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q,$=Array.prototype,K=Function.prototype,Y=Object.prototype,Q=M["__core-js_shared__"],J=(q=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Z=K.toString,X=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+Z.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=z?M.Buffer:void 0,re=M.Symbol,ie=M.Uint8Array,oe=W(Object.getPrototypeOf,Object),ae=Object.create,se=Y.propertyIsEnumerable,ue=$.splice,ce=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=W(Object.keys,Object),de=Fe(M,"DataView"),he=Fe(M,"Map"),pe=Fe(M,"Promise"),ge=Fe(M,"Set"),me=Fe(M,"WeakMap"),ve=Fe(Object,"create"),ye=Ue(de),_e=Ue(he),be=Ue(pe),we=Ue(ge),Se=Ue(me),xe=re?re.prototype:void 0,Ee=xe?xe.valueOf:void 0;function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){this.__data__=new ke(e)}function Oe(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&X.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!X.call(e,a)||o&&("length"==a||je(a,r))||n.push(a);return n}function Ne(e,t,n){var r=e[t];X.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ae(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Re(e,t,n,r,d,v,N){var A;if(r&&(A=v?r(e,d,v,N):r(e)),void 0!==A)return A;if(!Ke(e))return e;var P=We(e);if(P){if(A=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&X.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,A)}else{var L=Be(e),M=L==s||L==u;if(qe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==f||L==i||M&&!v){if(U(e))return v?e:{};if(A=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=oe(e),Ke(t)?ae(t):{});var t}(M?{}:e),!t)return function(e,t){return Me(e,ze(e),t)}(e,function(e,t){return e&&Me(t,Ye(t),e)}(A,e))}else{if(!R[L])return v?e:{};A=function(e,t,n,r){var i=e.constructor;switch(t){case y:return Le(e);case o:case a:return new i(+e);case _:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case b:case w:case S:case x:case E:case C:case k:case T:case I:return function(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case c:return function(e,t,n){return H(t?n(V(e),!0):V(e),B,new e.constructor)}(e,r,n);case l:case g:return new i(e);case h:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,n){return H(t?n(G(e),!0):G(e),j,new e.constructor)}(e,r,n);case m:return s=e,Ee?Object(Ee.call(s)):{}}var s}(e,L,Re,t)}}N||(N=new Ie);var D=N.get(e);if(D)return D;if(N.set(e,A),!P)var F=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ye,ze)}(e):Ye(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(F||e,(function(i,o){F&&(i=e[o=i]),Ne(A,o,Re(i,t,n,r,o,e,N))})),A}function Pe(e){return!(!Ke(e)||(t=e,J&&J in t))&&($e(e)||U(e)?te:N).test(Ue(e));var t}function Le(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Me(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Ne(n,a,void 0===s?e[a]:s)}return n}function De(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=ve?ve(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return X.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:X.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),!0)},ke.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Ae(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ce,map:new(he||ke),string:new Ce}},Te.prototype.delete=function(e){return De(this,e).delete(e)},Te.prototype.get=function(e){return De(this,e).get(e)},Te.prototype.has=function(e){return De(this,e).has(e)},Te.prototype.set=function(e,t){return De(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new ke},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var ze=ce?W(ce,Object):function(){return[]},Be=function(e){return ee.call(e)};function je(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ue(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(de&&Be(new de(new ArrayBuffer(1)))!=_||he&&Be(new he)!=c||pe&&Be(pe.resolve())!=d||ge&&Be(new ge)!=p||me&&Be(new me)!=v)&&(Be=function(e){var t=ee.call(e),n=t==f?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return _;case _e:return c;case be:return d;case we:return p;case Se:return v}return t});var We=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!$e(e)}var qe=le||function(){return!1};function $e(e){var t=Ke(e)?ee.call(e):"";return t==s||t==u}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return Ge(e)?Oe(e):function(e){if(!He(e))return fe(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Re(e,!0,!0)}})),Qu=ma((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[i]=x[o]=x[_]=x[a]=x[b]=x[s]=x[u]=x[c]=x[l]=x[f]=x[d]=x[p]=x[g]=x[m]=x[y]=!1;var E="object"==typeof ga&&ga&&ga.Object===Object&&ga,C="object"==typeof self&&self&&self.Object===Object&&self,k=E||C||Function("return this")(),T=t&&!t.nodeType&&t,I=T&&e&&!e.nodeType&&e,O=I&&I.exports===T,N=O&&E.process,A=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),R=A&&A.isTypedArray;function P(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var D,F,z,B=Array.prototype,j=Function.prototype,H=Object.prototype,U=k["__core-js_shared__"],V=j.toString,W=H.hasOwnProperty,G=(D=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",q=H.toString,$=RegExp("^"+V.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=O?k.Buffer:void 0,Y=k.Symbol,Q=k.Uint8Array,J=H.propertyIsEnumerable,Z=B.splice,X=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,ne=(F=Object.keys,z=Object,function(e){return F(z(e))}),re=Ae(k,"DataView"),ie=Ae(k,"Map"),oe=Ae(k,"Promise"),ae=Ae(k,"Set"),se=Ae(k,"WeakMap"),ue=Ae(Object,"create"),ce=Me(re),le=Me(ie),fe=Me(oe),de=Me(ae),he=Me(se),pe=Y?Y.prototype:void 0,ge=pe?pe.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function be(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){var n=ze(e),r=!n&&Fe(e),i=!n&&!r&&Be(e),o=!n&&!r&&!i&&We(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!W.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,u))||s.push(c);return s}function Se(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=W.call(e,X),n=e[X];try{e[X]=void 0;var r=!0}catch(e){}var i=q.call(e);r&&(t?e[X]=n:delete e[X]);return i}(e):function(e){return q.call(e)}(e)}function Ee(e){return Ve(e)&&xe(e)==i}function Ce(e,t,n,r,c){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,r,c,h){var y=ze(e),w=ze(t),S=y?o:Pe(e),x=w?o:Pe(t),E=(S=S==i?d:S)==d,C=(x=x==i?d:x)==d,k=S==x;if(k&&Be(e)){if(!Be(t))return!1;y=!0,E=!1}if(k&&!E)return h||(h=new be),y||We(e)?Ie(e,t,n,r,c,h):function(e,t,n,r,i,o,c){switch(n){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new Q(e),new Q(t)));case a:case s:case f:return De(+e,+t);case u:return e.name==t.name&&e.message==t.message;case p:case m:return e==t+"";case l:var d=L;case g:var h=1&r;if(d||(d=M),e.size!=t.size&&!h)return!1;var y=c.get(e);if(y)return y==t;r|=2,c.set(e,t);var w=Ie(d(e),d(t),r,i,o,c);return c.delete(e),w;case v:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,S,n,r,c,h);if(!(1&n)){var T=E&&W.call(e,"__wrapped__"),I=C&&W.call(t,"__wrapped__");if(T||I){var O=T?e.value():e,N=I?t.value():t;return h||(h=new be),c(O,N,n,r,h)}}if(!k)return!1;return h||(h=new be),function(e,t,n,r,i,o){var a=1&n,s=Oe(e),u=s.length,c=Oe(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:W.call(t,f)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);var p=a;for(;++l<u;){var g=e[f=s[l]],m=t[f];if(r)var v=a?r(m,g,f,t,e,o):r(g,m,f,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,c,h)}(e,t,n,r,Ce,c))}function ke(e){return!(!Ue(e)||function(e){return!!G&&G in e}(e))&&(je(e)?$:w).test(Me(e))}function Te(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||H,t!==r)return ne(e);var t,n,r,i=[];for(var o in Object(e))W.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Ie(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,d=2&n?new _e:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],p=t[l];if(r)var g=a?r(p,h,l,t,e,o):r(h,p,l,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!P(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||i(h,e,n,r,o)))return d.push(t);var a}))){f=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Oe(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ge,Re)}function Ne(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===n?void 0:r}return W.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:W.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return Se(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ve),string:new me}},ye.prototype.delete=function(e){var t=Ne(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ne(this,e).get(e)},ye.prototype.has=function(e){return Ne(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ne(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,n),this},_e.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new ve,this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Re=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ee(e),(function(t){return J.call(e,t)})))}:function(){return[]},Pe=xe;function Le(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function De(e,t){return e===t||e!=e&&t!=t}(re&&Pe(new re(new ArrayBuffer(1)))!=b||ie&&Pe(new ie)!=l||oe&&Pe(oe.resolve())!=h||ae&&Pe(new ae)!=g||se&&Pe(new se)!=y)&&(Pe=function(e){var t=xe(e),n=t==d?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case ce:return b;case le:return l;case fe:return h;case de:return g;case he:return y}return t});var Fe=Ee(function(){return arguments}())?Ee:function(e){return Ve(e)&&W.call(e,"callee")&&!J.call(e,"callee")},ze=Array.isArray;var Be=te||function(){return!1};function je(e){if(!Ue(e))return!1;var t=xe(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var We=R?function(e){return function(t){return e(t)}}(R):function(e){return Ve(e)&&He(e.length)&&!!x[xe(e)]};function Ge(e){return null!=(t=e)&&He(t.length)&&!je(t)?we(e):Te(e);var t}e.exports=function(e,t){return Ce(e,t)}}));!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Yu(t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return Qu(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}($u||($u={}));var Ju,Zu=$u,Xu=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=ec(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?ec(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();function ec(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}!function(e){e.iterator=function(e){return new Xu(e)},e.length=ec}(Ju||(Ju={}));var tc,nc,rc,ic,oc=Ju,ac=String.fromCharCode(0),sc=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=Yu(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(Qu(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+oc.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+oc.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=oc.iterator(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(n-o),r.push(a)),o+=oc.length(a)}return new e(r)},e.prototype.compose=function(t){var n=oc.iterator(this.ops),r=oc.iterator(t.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===n.peekType()&&n.peekLength()<=a;)a-=n.peekLength(),i.push(n.next());o.retain-a>0&&r.next(o.retain-a)}for(var s=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())s.push(r.next());else if("delete"===n.peekType())s.push(n.next());else{var u=Math.min(n.peekLength(),r.peekLength()),c=n.next(u),l=r.next(u);if("number"==typeof l.retain){var f={};"number"==typeof c.retain?f.retain=u:f.insert=c.insert;var d=Zu.compose(c.attributes,l.attributes,"number"==typeof c.retain);if(d&&(f.attributes=d),s.push(f),!r.hasNext()&&Qu(s.ops[s.ops.length-1],f)){var h=new e(n.rest());return s.concat(h).chop()}}else"number"==typeof l.delete&&"number"==typeof c.retain&&s.push(l)}return s.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:ac;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new e,o=Ku(r[0],r[1],n),a=oc.iterator(this.ops),s=oc.iterator(t.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case Ku.INSERT:n=Math.min(s.peekLength(),t),i.push(s.next(n));break;case Ku.DELETE:n=Math.min(t,a.peekLength()),a.next(n),i.delete(n);break;case Ku.EQUAL:n=Math.min(a.peekLength(),s.peekLength(),t);var r=a.next(n),o=s.next(n);Qu(r.insert,o.insert)?i.retain(n,Zu.diff(r.attributes,o.attributes)):i.push(o).delete(n)}t-=n}})),i.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=oc.iterator(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=oc.length(a)-r.peekLength(),u="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(u<0)i.push(r.next());else if(u>0)i.push(r.next(u));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(r.insert)n.delete(oc.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach((function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(oc.length(e),Zu.invert(r.attributes,e.attributes))})),e+i}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=oc.iterator(this.ops),o=oc.iterator(r.ops),a=new e;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var s=Math.min(i.peekLength(),o.peekLength()),u=i.next(s),c=o.next(s);if(u.delete)continue;c.delete?a.push(c):a.retain(s,Zu.transform(u.attributes,c.attributes,n))}else a.retain(oc.length(i.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=oc.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=oc,e.AttributeMap=Zu,e}();!function(e){e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&"string"==typeof t.insert},e.isInsertEmbed=function(t){return e.isInsert(t)&&!e.isInsertString(t)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.containsInsertsOnly=function(t){return t.ops.every(e.isInsert)},e.getInsertLength=sc.Op.length,e.getTrimmedInsertLength=function(t){return e.isInsertString(t)?t.insert.trim().length:1},e.match=function(t,n,r){return function(i){return e.isInsert(i)?t(i):e.isDelete(i)?n(i):r(i)}},e.getAttr=function(t,n){return e.isDelete(t)||!t.attributes?re:"function"==typeof n?tr(oe(Object.keys(t.attributes).find(n)),Re((function(e){return t.attributes[e]}))):oe(t.attributes[n])},e.operationLength=sc.Op.length;var t=function(e){return-e.delete};e.getOperationOffset=e.match(sc.Op.length,t,sc.Op.length);var n=function(e){return function(t){return t.ops.map(e).reduce(ri,0)}},r=function(){return 0};e.calcDiffLength=n(e.match(sc.Op.length,t,r)),e.calcAmountLength=n(e.match(sc.Op.length,sc.Op.length,r)),e.calcAffectedLength=n(e.match(r,sc.Op.length,sc.Op.length)),e.rangeOfTheChange=function(t){var n=e.match(q,q,(function(e){return Boolean(e.attributes)}));return t.ops.reduce((function(t,r){var i=t[0],o=t[1],a=e.operationLength(r),s=o+a;return[tr(i,le((function(){return n(r)?ie([o,s]):re}),(function(e){return n(r)?ie([e[0],s]):ie(e)}))),s]}),[re,0])[0]},e.isEqual=function(t){return function(n,r){return e.match((function(n){return e.isInsert(r)&&n.insert===r.insert&&t(n.attributes,r.attributes)}),(function(t){return e.isDelete(r)&&t.delete===r.delete}),(function(n){return e.isRetain(r)&&n.retain===r.retain&&t(n.attributes,r.attributes)}))(n)}},e.deltaEq=Ni((function(t,n){return t.ops.length===n.ops.length&&ha(t.ops,n.ops,e.isEqual(sr))})),e.normalizeDelta=function(e){return(new sc).compose(e)};var i=function(e){return e&&Object.keys(e).reduce((function(t,n){return t[n]="string"==typeof e[n]?"<"+e[n].length+">":e[n],t}),{})};e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce((function(t,n){return e.match((function(n){return t.insert("string"==typeof n.insert?"<"+e.getInsertLength(n)+">":"<embed>",i(n.attributes))}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain,i(e.attributes))}))(n)}),new sc)},e.squash=function(e){return e.reduce((function(e,t){return e.compose(new sc(t))}),new sc)},e.cleanAllAttrs=function(t){return t.reduce((function(t,n){return e.match((function(e){return t.insert(e.insert)}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain)}))(n)}),new sc)};var o=function(e){return oe(e.attributes)};e.getAttrs=e.match(o,(function(){return re}),o),e.skipAny=$;e.cleanDelta=function(t,n){return function(r){var i=function(e){return e&&Object.keys(e).filter((function(e,t,r){return n(e,r.slice(0))})).reduce((function(t,n){return t[n]=e[n],t}),{})};return r.reduce((function(n,r){return e.match((function(e){return n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",i(e.attributes))}),(function(e){return n.delete(e.delete)}),(function(e){return n.retain(e.retain,i(e.attributes))}))(r)}),new sc)}},e.splitToDeleteThenInsert=function(t){return t.reduce((function(t,n){var r=t[0],i=t[1];return e.match((function(e){return[r,i.push(e)]}),(function(e){return[r.push(e),i]}),(function(e){return[r.push({retain:e.retain}),i.push(e)]}))(n)}),[new sc,new sc]).map((function(e){return e.chop()}))},e.nonEmpty=function(e){return e.ops.length>0}}(tc||(tc={})),function(e){e.split=function(e,t){return[e]}}(nc||(nc={})),function(e){e.fromArrayOfDeltas=function(t,n){var r=n;return t.map((function(t){var n=e.delta(t,r);return r+=tc.calcDiffLength(t),n}))};var t=function(){function e(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length||(this._length=tc.calcDiffLength(this.delta))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return this._amount||(this._amount=tc.calcAmountLength(this.delta))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=Oi((function(){return e.delta.ops.reduce((function(e,t){return tc.match((function(t){return""+e+t.insert}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(t)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(this.delta.compose(t.delta),this.prevLen)},e.prototype.transform=function(t,n){return void 0===n&&(n=!0),new e(t.delta.transform(this.delta,n),this.prevLen+t.length)},e.prototype.toString=function(){return"Delta("+this.delta+", pl: "+this.prevLen+")"},e}(),n=function(){function e(){this.kind="flush"}return e.prototype.toString=function(){return"Flush()"},e}(),r=function(){function e(e){this.delta=e,this.kind="reset"}return Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=Oi((function(){return e.delta.ops.reduce((function(e,t){if(tc.isInsert(t))return""+e+t.insert;throw tc.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length||(this._length=tc.calcDiffLength(this.delta))},enumerable:!1,configurable:!0}),e.prototype.compose=function(e){return o(this.delta.compose(e.delta))},e.prototype.toString=function(){return"Reset("+this.delta+")"},e}();function i(e,n){return void 0===n&&(n=0),new t(e,n)}function o(e){return tc.containsInsertsOnly(e)?Rt(new r(e)):At(new Error("Delta should contains only inserts to be Reset"))}e.delta=i,e.ins=function(e,t,n){return void 0===n&&(n=0),i((new sc).retain(e).insert(t),n)},e.del=function(e,t,n){return void 0===n&&(n=0),i((new sc).retain(e).delete(t),n)},e.ret=function(e,t,n){return void 0===t&&(t=0),i((new sc).retain(e,n),t)},e.res=o,e.unsafeRes=Q(o,Ii),e.resFromText=function(e){return Ii(o((new sc).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}}(rc||(rc={})),function(e){e.diffAsChanges=function(e,t){var n=(new sc).insert(e),r=(new sc).insert(t);return rc.delta(n.diff(r),e.length)}}(ic||(ic={}));var uc=va(Gi),cc=va(Tt),lc=va(jn),fc=va(mn),dc=va(nr),hc=ma((function(e,t){var n=ga&&ga.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.monoidRetryPolicy=uc.getFunctionMonoid(cc.getApplyMonoid(n({},lc.getJoinSemigroup(fc.ordNumber),{empty:0})))(),t.limitRetries=function(e){return function(t){return t.iterNumber>=e?cc.none:cc.some(0)}},t.limitRetriesByDelay=function(e,t){return function(n){return dc.pipe(n,t,cc.filter((function(t){return t<e})))}},t.constantDelay=function(e){return function(){return cc.some(e)}},t.capDelay=function(e,t){return function(n){return dc.pipe(n,t,cc.map((function(t){return Math.min(e,t)})))}},t.exponentialBackoff=function(e){return function(t){return cc.some(e*Math.pow(2,t.iterNumber))}},t.defaultRetryStatus={iterNumber:0,cumulativeDelay:0,previousDelay:cc.none},t.applyPolicy=function(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+cc.getOrElse((function(){return 0}))(n),previousDelay:n}}})),pc=va(ia);ma((function(e,t){function n(e,t){var n=hc.applyPolicy(e,t);return dc.pipe(n.previousDelay,cc.fold((function(){return pc.task.of(n)}),(function(e){return pc.delay(e)(pc.task.of(n))})))}Object.defineProperty(t,"__esModule",{value:!0}),t.applyAndDelay=n,t.retrying=function(e,t,r){return function i(o){return dc.pipe(o,t,pc.chain((function(t){return r(t)?dc.pipe(n(e,o),pc.chain((function(e){return dc.pipe(e.previousDelay,cc.fold((function(){return pc.task.of(t)}),(function(){return i(e)})))}))):pc.task.of(t)})))}(hc.defaultRetryStatus)}}));var gc,mc,vc,yc,_c,bc,wc,Sc,xc,Ec,Cc,kc,Tc,Ic,Oc,Nc,Ac,Rc,Pc,Lc,Mc,Dc,Fc,zc,Bc,jc,Hc,Uc,Vc,Wc,Gc,qc,$c=function(e){function t(t){var n=e.call(this,t||"Timeout")||this;return n.name="TimeoutError",n}return Yn(t,e),t.isTimeoutError=function(e){return e instanceof t},t}(cr),Kc=function(e){function t(t){var n=e.call(this,t||"Dropped")||this;return n.name="DroppedError",n}return Yn(t,e),t.isDroppedError=function(e){return e instanceof t},t}(cr),Yc=function(e){function t(t){var n=e.call(this,t||"Not Connected to WS")||this;return n.name="NotConnectedError",n}return Yn(t,e),t.isNotConnectedError=function(e){return e instanceof t},t}(cr),Qc=function(e){function t(t){var n=e.call(this,t||"Not ready")||this;return n.name="NotReady",n}return Yn(t,e),t.isNotReadyError=function(e){return e instanceof t},t}(cr),Jc=function(){function e(e,t,n){void 0===e&&(e=5e3),void 0===t&&(t=""),void 0===n&&(n=new $c),this._timeout=e,this._timeoutError=n,this._notifications=new Map,this._log=Kr.Logging.getLogger("coreclients.valueNotifier"+(t.length>0?"."+t:""))}return e.prototype.waitFor=function(e,t){var n=this;return function(){return n._startNotificationWatch(e,t)}},e.prototype.notify=function(e){this._stopNotification(e,Rt(void 0))},e.prototype.error=function(e,t){this._log.trace("onError:("+e+")"),this._stopNotification(e,At(t))},e.prototype.clear=function(e){var t=this;this._log.trace("clearing notification watches: "+e),this._notifications.forEach((function(n,r){t.error(r,new Kc("clearing value notifier and dropping all pending notification watches:"+e))}))},e.prototype._startNotificationWatch=function(e,t){var n=this;this._log.debug("Starting notification watch: "+e),mr(!this._notifications.has(e),"must not start watch for same notification twice, notification already watched: "+e);var r={};return r.promise=new Promise((function(e){r.notifyValue=function(){return e(Rt(t))},r.notifyError=function(t){return e(At(t))}})),r.timer=window.setTimeout((function(){return n._stopNotification(e,At(n._timeoutError))}),this._timeout),this._notifications.set(e,r),r.promise},e.prototype._stopNotification=function(e,t){this._log.trace("_stopNotification: stopping notification watch: "+e,t);var n=this._notifications.get(e);void 0===n?this._log.error("Got result for unknown notification or notification has already expired.",{id:e,result:t}):(clearTimeout(n.timer),tr(t,Dt((function(e){return n.notifyError(e)}),(function(){return n.notifyValue()}))),this._notifications.delete(e))},e}(),Zc=function(){function e(e,t,n){void 0===e&&(e=5e3),void 0===t&&(t=""),void 0===n&&(n=new $c),this._timeout=e,this._timeoutError=n,this._requests=new Map,this._log=Kr.Logging.getLogger("coreclients.valueRequester"+(t.length>0?"."+t:""))}return e.prototype.watchRequest=function(e){return this._startRequestWatch(e)},e.prototype.onValue=function(e,t){this._stopRequest(e,Rt(t))},e.prototype.onError=function(e,t){this._log.trace("onError:("+e+")"),this._stopRequest(e,At(t))},e.prototype.clear=function(e){var t=this;this._log.trace("clearing request watches: "+e),this._requests.forEach((function(n,r){t.onError(r,new Kc("clearing value requester and dropping all pending request watches:"+e))}))},e.prototype._startRequestWatch=function(e){var t=this;this._log.debug("Starting request watch: "+e),mr(!this._requests.has(e),"must not start watch for same request twice, request already watched: "+e);var n={};return n.promise=new Promise((function(e){n.resolve=e})),n.timer=window.setTimeout((function(){return t._stopRequest(e,At(t._timeoutError))}),this._timeout),this._requests.set(e,n),n.promise},e.prototype._stopRequest=function(e,t){this._log.trace("_stopRequest: stopping request watch: "+e,t);var n=this._requests.get(e);void 0===n?this._log.warn("Got result for unknown request or request has already expired.",{id:e,result:t}):(clearTimeout(n.timer),n.resolve(t),this._requests.delete(e))},e}();!function(e){var t;(e.Range||(e.Range={})).isEmpty=function(e){return e.e-e.s==0},function(e){!function(e){e.MAIN="main",e.IMPORTANT="important"}(e.Type||(e.Type={})),(e.TypeExt||(e.TypeExt={})).OPTIONAL_CONTEXT="optional_context"}(t=e.Edit||(e.Edit={})),function(e){function n(e){return Z(e.ops,ae((function(e){return-1===e.findIndex(n)})),le((function(){return At({ops:(t=e.ops,t.reduce((function(e,t,r){if(n(t,r)){var i=t.attributes;i.type;var o=Jn(i,["type"]);e.push(Qn(Qn({},t),{attributes:o}))}else e.push(t);return e}),[]))});var t}),(function(e){return Rt({ops:e})})));function n(e,n){return n>0&&tc.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return Z(e,n,Dt(U,U))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(gc||(gc={})),function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={})),e.eq=Li({type:Ai,insert:Ri,delete:Pi,retain:Pi}),e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&r(t.insert)},e.isInsertGap=function(t){return e.isInsert(t)&&i(t.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(t){return"retain"in t&&e.isOptionalContextType(t.type)};var r=function(e){return"string"==typeof e},i=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(t){return t.type===e.Type.Main},e.isOptionalType=function(t){return t===e.Type.Optional},e.isOptionalContextType=function(t){return t===e.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return vr(e.type)}},e.fromRawAbsAlternative=function(e){if(o=e.ops,(a=o[0])&&"retain"in a&&a.attributes&&"optional_context"===a.attributes.type){var t=e.ops,r=t[0],i=t.slice(1);return er([{retain:r.retain,type:n.OptionalContext}],i.map(s))}return e.ops.map(s);var o,a},e.length=sc.Op.length,e.anonymize=function(t){return e.isInsert(t)?Qn(Qn({},t),{insert:"string"==typeof t.insert?"<"+e.length(t)+">":"<embed>"}):t};var o=function(){function n(e){this.ops=e,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){n||(n=1/0);var r=this.ops[this.index];if(r){var i=r.type,o=this.offset,a=e.length(r);return n>=a-o?(n=a-o,this.index+=1,this.offset=0):this.offset+=n,e.isDelete(r)?{delete:n,type:i}:e.isRetain(r)?{retain:n,type:i,attributes:!e.isOptionalContextType(i)&&r.attributes}:e.isInsertString(r)?{insert:r.insert.substr(o,n),type:i,attributes:r.attributes}:r}return{retain:1/0,type:t.Optional,attributes:{}}},n.prototype.peekLength=function(){return this.ops[this.index]?e.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?e.isDelete(this.ops[this.index])?"delete":e.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();e.Iterator=o;var a=Q(oe,Re(bs("type")),pe((function(){return{}}))),s=function(e){var n=function(e){if(e&&e.type)switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return vr(e.type)}return t.Optional}(e.attributes);return"insert"in e?{insert:e.insert,type:n,attributes:a(e.attributes)}:"delete"in e?{delete:e.delete,type:n}:{retain:e.retain,type:n,attributes:a(e.attributes)}}}(mc||(mc={})),function(e){e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return tr(t.delta.invert(n),yc.fromRawDelta)},e.fromAlternativeBoldified=function(t){var n=t.alternative,r=t.fullText,i=tr(n.delta.map(tc.match((function(e){return tr(e,ae(tc.isInsertString),Me((function(e){return tr(oe(e.attributes),Re((function(t){return{attributes:t,retain:e.insert.length}})))})),Ye((function(e){return!!e.attributes.bold})),Re((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return re}),(function(e){return ie({retain:e.retain})}))),_i,(function(e){return new sc(e)}),(function(e){return r.compose(e)}));return e.fromAlternative({alternative:n,fullText:i})},e.fromAlternativeListified=function(t){var n=t.alternative,r=t.fullText;return tr(e.fromAlternative({alternative:n,fullText:r}),(function(e){return tr(e.delta.ops,pi((function(e){return tc.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!e.attributes.list)})),Re((function(t){var n=e.delta.ops,r=n[t];return new sc(er(n.slice(0,t),[Qn(Qn({},r),{attributes:Qn(Qn({},r.attributes),{list:!1})})],n.slice(t+1)))})),pe((function(){return e.delta})))}),yc.fromRawDelta)}}(vc||(vc={})),function(e){var t;function n(e){return function(t){return mc.isInsertGap(t)?Qn(Qn({},t),{insert:e}):t}}function r(e){return new i(e)}e.hasOptionalContext=function(e){return!!e[0]&&mc.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function t(t){return t.type===mc.Type.Main?ie(mc.isInsert(t)?e.Insert:e.Remove):re}e.eq=Ri,e.fromOperation=t,e.semigroup={concat:function(t,n){switch(t){case e.Insert:return n===e.Remove?e.Substitution:n;case e.Remove:return n===e.Insert?e.Substitution:n;case e.Substitution:return e.Substitution;default:return vr(t)}}},e.monoid=ut(e.semigroup),e.parse=xi(e.monoid)(t)}(t=e.Type||(e.Type={})),e.eq=Li({lengthAffected:Pi,type:ot(t.eq),ops:li(mc.eq)}),e.fromRawDelta=Q(gc.AbsAlternative.unsafeFromDelta,mc.fromRawAbsAlternative,r),e.fillGaps=function(t,i){return e.hasOptionalContext(t.ops)?r(er([t.ops[0]],t.ops.slice(1).map(n(i)))):r(t.ops.map(n(i)))},e.create=r,e.validate=Q((function(e){return e.ops}),Mt(function(e){return function(t){for(var n=-1,r=0;r<t.length;r++){var i=t[r],o=t[r-1];if(o&&e(o)||!e(i)||(n=r),o&&e(o)&&!e(i)&&0!==n)return!1}return!0}}(mc.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(t){t.fromSerialized=function(t){return{context:t.context,alternatives:tr(t.alternatives,Gn((function(e){return e.ops})),Gn(e.create))}},t.fromSubalerts=function(e,t){return{context:e,alternatives:Gn(Q(mc.fromRawAbsAlternative,r))(t)}},t.fromRawTransform=function(e){return{context:Wn(e.context),alternatives:Gn(Q(mc.fromRawAbsAlternative,r))(e.alternatives)}},t.rebase=function(e){return function(t){return{context:tr(t.context,Gn((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:tr(t.alternatives,Gn((function(t){return tr(t.rebase(e),le((function(){return t}),U))})))}}},t.copy=function(e){return{context:Vn(e.context),alternatives:Vn(e.alternatives)}}}(e.Group||(e.Group={}));var i=function(){function n(e){this.ops=e,this.type=t.parse(this.ops),this.lengthAffected=tc.calcAffectedLength(this)}return n.prototype.rebase=function(e){var t=e.ops[0];return!t||tc.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&sc.Op.length(t)>this.lengthAffected?ie(this):this._internalRebase(e)},n.prototype._internalRebase=function(t){for(var r=this,i=sc.Op.iterator(t.ops),o=new mc.Iterator(this.ops),a=ie(new n([])),s=!1;o.hasNext();)if("insert"===i.peekType()){if(s&&tr(a,Co((function(e){return e.ops[e.ops.length-1].type===mc.Type.Main}))))return re;var u=sc.Op.length(i.next()),c=tr(a,Re((function(e){return e.ops[e.ops.length-1]})),So);if(s&&Co((function(e){return e.lengthAffected>0}))(a)){var l={retain:u,type:c.type,attributes:"attributes"in c&&!mc.isOptionalContextType(c.type)&&c.attributes};a=n._pushOp(a,l)}else a=n._pushOp(a,{retain:u,type:mc.Type.Optional,attributes:{}})}else if("insert"===o.peekType()){var f=o.next();if(f.type===mc.Type.Main&&"delete"===i.peekType()&&i.offset>0)return re;a=n._pushOp(a,f)}else{var d=Math.min(i.peekLength(),o.peekLength()),h=i.next(d),p=o.next(d);tc.isDelete(h)||(s=o.offset>0,a=n._pushOp(a,mc.isDelete(p)?p:mc.isOptionalContextType(p.type)?{retain:d,type:mc.TypeExt.OptionalContext}:{retain:d,type:p.type,attributes:p.attributes}))}return tr(a,Re((function(t){return t.type=e.Type.parse(r.ops),t})))},n._pushOp=function(e,t){return tr(e,Me((function(e){return tr(Oi((function(){return e._push(t)})),jt((function(e){return Kr.Logging.getLogger("Alternative").error("Alternative push error",e),e})),ce)})))},n.prototype._push=function(e){var t=this.ops.length,n=this.ops[t-1];if(n){if(mc.isOptionalContextRetain(e))return mc.isOptionalContextRetain(n)?n.retain+=e.retain:mc.isRetain(n)&&t<=2?2===t?(mr(mc.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):mr(mc.isOptionalContextRetain(n)||mc.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(mc.isDelete(e)&&mc.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(mc.isInsert(e)&&mc.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert?n.insert+=e.insert:this.ops.push(e),this;if(mc.isRetain(e)&&mc.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return mc.isInsert(e)||(this.lengthAffected+=mc.length(e)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return tc.normalizeDelta(new sc(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();e.compose=function(e,t){var n={composedDelta:new sc,currentFullText:t,reversedAlternatives:[]},r=e.reduce((function(e,t,n){var r=t[0],i=t[1];return tr(r.rebase(e.composedDelta),le((function(){e.reversedAlternatives.push(At({error:new Error("Could not rebase alternative to composed delta"),delta:r.delta,alternativeIndex:n}))}),(function(t){var r=i({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,r){return tr(n,Dt(Y,(function(n){e[r]=tr(n.reversedAlternative.rebase(t.delta),Lt((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),zt((function(e){return Qn(Qn({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(Rt({reversedAlternative:r,alternativeIndex:n}))}))),e}),n),i=tr(r.reversedAlternatives,bi,Es.fromSeparatedArray);return Qn(Qn({},r),{reversedAlternatives:i})},e.withoutOptionalOps=function(t){return e.create(t.filter((function(e){return!mc.isOptionalType(e.type)})))}}(yc||(yc={})),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length},e.Tree=function(e,t){var n,r=function(){return n||((n=t(i)).name=e),n},i=new iu(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return i}("Tree",(function(){return au(function(e,t){void 0===t&&(t="["+e.map((function(e){return e.name})).join(", ")+"]");var n=e.length;return new du(t,(function(t){return Xs.is(t)&&t.length===n&&e.every((function(e,n){return e.is(t[n])}))}),(function(t,r){var i=Xs.validate(t,r);if(As(i))return i;for(var o=i.right,a=o.length>n?o.slice(0,n):o,s=[],u=0;u<n;u++){var c=o[u],l=e[u],f=l.validate(c,js(r,String(u),l,c));if(As(f))Hs(s,f.left);else{var d=f.right;d!==c&&(a===o&&(a=o.slice()),a[u]=d)}}return s.length>0?Ls(s):Ds(a)}),Vs(e)?zs:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)}([Zs,e.Tree]))}))}(_c||(_c={})),function(e){var t;(t=e.DomainCategory||(e.DomainCategory={})).sales_crm="sales_crm",t.sales_engagement="sales_engagement",t.sales_enablement="sales_enablement",t.marketing_email_automation="marketing_email_automation",t.marketing_content="marketing_content",t.customer_service="customer_service",t.customer_surveys_surveys="customer_surveys_surveys",t.recruiting="recruiting",t.training_learning="training_learning",t.project_management="project_management",t.legal="legal",t.contractors="contractors",t.human_resources="human_resources",t.email="email",t.business_chat="business_chat"}(bc||(bc={})),function(e){var t,n;(e.SpecialCategory||(e.SpecialCategory={})).InQuotes="InQuotes",(t=e.ScopeType||(e.ScopeType={})).GLOBAL="GLOBAL",t.SESSION="SESSION",t.DOCUMENT="DOCUMENT",(n=e.MutedByType||(e.MutedByType={})).MUTED_BY_USER="MUTED_BY_USER",n.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",n.NOT_MUTED="NOT_MUTED"}(wc||(wc={})),function(e){var t;(t=e.SuggestionRejectionReason||(e.SuggestionRejectionReason={})).NOT_RELEVANT="NOT_RELEVANT",t.WRONG_TONE="WRONG_TONE",t.INCORRECT="INCORRECT",t.WRONG_GRAMMAR="WRONG_GRAMMAR",t.OFFENSIVE="OFFENSIVE",t.OTHER="OTHER"}(Sc||(Sc={})),function(e){e.mock={category:"Test Category",bundle:"Test bundle",bundleRank:10,group:"Test Group",groupDescription:"Test Card Layout",rank:1,outcome:"Correctness"}}(xc||(xc={})),function(e){function t(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}}function n(e,t){return void 0===t&&(t=!1),0===e.s?V:function(n){return V({ops:er([{retain:e.s,attributes:t?void 0:{type:gc.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops)})}}e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return Tc.create({highlights:e.highlights.map(t(e.context)),alternatives:tr(e,ae((function(e){return!!e.alternatives&&e.alternatives.length>0})),Re((function(e){return Qn(Qn({},e),{alternatives:Gn(n(e.context))(e.alternatives)})})),Re(yc.Group.fromRawTransform))})}}(Ec||(Ec={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){return ar(e,{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0)})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return Qn(Qn({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return Qn(Qn({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create)})}}(Cc||(Cc={})),function(e){(e.Id||(e.Id={})).create=function(e){return e.toString()}}(kc||(kc={})),function(e){e.create=function(e){return e},e.isSquashed=function(e){return e.highlights.some(gc.Range.isEmpty)},e.isValidAfterTransform=function(e,n){var r=t(e),i=t(n);return ha(r.highlights,i.highlights,(function(e,t){return e.e-e.s==t.e-t.s}))&&ha(r.alternatives,i.alternatives,(function(e,t){return ha(e.ops.filter(ii(tc.isRetain)),t.ops.filter(ii(tc.isRetain)),tc.isEqual((function(){return!0})))}))},e.rebase=function(t,n){return e.create({highlights:t.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:tr(t.alternatives,Re(yc.Group.rebase(n)))})};var t=function(e){return{highlights:e.highlights,alternatives:tr(e.alternatives,le((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(Tc||(Tc={})),function(e){var t,n,r;function i(e){return void 0!==e.drilldownTree?Qn(Qn({},e),{drilldownTree:tr(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),_c.Tree.decode,Ii)}):e}function o(e,t){tr(e.ops,hi((function(e){return tc.isInsert(e)&&tr(tc.getAttr(e,"type"),St((function(e){return e===gc.Edit.Type.MAIN})))&&"string"==typeof e.insert})),Re((function(e){var n=e.insert;return t(n)})))}function a(e){return function(t){switch(t){case wc.SpecialCategory.InQuotes:return"true"===e.extra_properties.in_quotes;default:return!1}}}function s(e){return!c(e)&&!l(e)}function u(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd}function c(e){return void 0!==e.cardLayout&&void 0!==e.transformJson}function l(e){return"labels"in e&&"subalerts"in e}function f(e,t,n,r){return s(e)?t(e):c(e)?n(e):r(e)}(e.Id||(e.Id={})).create=function(e){return e.toString()},function(e){e.Critical="critical",e.Advanced="advanced"}(t=e.Impact||(e.Impact={})),function(e){e.all="all",e.priority="priority"}(n=e.View||(e.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(r=e.Inline||(e.Inline={})),e.parseExtraProperties=i,e.fromAlertMessage=function(t){return Object.assign({},t,Qn({id:e.Id.create(t.id),cost:t.cost||1,extra_properties:i(t.extra_properties)},t.transformJson?{transformJson:Ec.toAbs(t.transformJson),highlightText:[t.highlightText]}:tr(To(t.subalerts),le((function(){return{highlightText:[t.highlightText]}}),(function(e){return tr(function(e,t){return tr(t,le((function(){return At(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return function(e,t){if(e.length<2)return At(new Error("There should be more than one subalert, got "+e.length));var n=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),r=n.reduce((function(e,t){return e[t.label]=t,e}),{}),i=To(e[0].transformJson.alternatives);if(n.length>0&&ne(i)||!tr(i,Co((function(e){return n.length===e.length}))))return At(new Error("Alternatives array length must match labels array length"));for(var a=tr(i,Re(qn((function(t,r){return o(r,(function(e){return n[t].replacements.add(e)})),Ec.prependContext(e[0].transformJson.context)(r)}))),Re((function(t){return r[e[0].label].matches+=1,[Wn(e[0].transformJson.context),t]}))),s=e[0].transformJson.highlights.map(Ec.prependContextToHighlight(e[0].transformJson.context)),u=[e[0].highlightText],c=function(t){var i=e[t];if(n.length>0){if(!i.transformJson.alternatives)return{value:At(new Error("The alternatives are missing from subalert, expected length: "+n.length))};if(i.transformJson.alternatives.length!==n.length)return{value:At(new Error("Subalert has incorrect alternatives length: expected "+n.length+", got "+i.transformJson.alternatives.length))}}a=tr(a,Re((function(e){var t=e[0],a=e[1];r[i.label].matches+=1,t.push(i.transformJson.context);for(var s=function(e){var t=i.transformJson.alternatives[e];o(t,(function(t){return n[e].replacements.add(t)})),a[e]=tr(new sc(a[e]),(function(e){return e.compose(e.transform(new sc(Ec.prependContext(i.transformJson.context,!0)(t)),!0))}),gc.AbsAlternative.unsafeFromDelta)},u=0;u<a.length;u++)s(u);return[t,a]}))),s.push.apply(s,i.transformJson.highlights.map(Ec.prependContextToHighlight(i.transformJson.context))),u.push(i.highlightText)},l=1;l<e.length;l++){var f=c(l);if("object"==typeof f)return f.value}return Rt({subalerts:Tc.create({alternatives:tr(a,Re((function(e){var t=e[0],n=e[1];return yc.Group.fromSubalerts(t,n)}))),highlights:s}),labels:n.map((function(e){var t=e.replacements,n=Jn(e,["replacements"]);return Qn(Qn({},n),{replacementTexts:Array.from(t)})})),highlightText:u})}(e,t)})))}(e,oe(t.labels)),Ft((function(e){return Kr.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},e.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},e.belongsToAnySpecialCategory=function(e){var t=a(e);return-1!==Object.values(wc.SpecialCategory).findIndex(t)},e.belongsToSpecialCategory=a,e.withPosition=s,e.hasPosition=u,e.withTransformJson=c,e.withSubalerts=l,e.match=f,e.matchBy=function(e,t,n){return function(r){return f(r,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,r){return t(e)===t(r)&&n(e)===n(r)}}(e.Position||(e.Position={})),e.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.category},e.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},e.isSmartPhrases=function(e){return void 0!==e.extra_properties&&"smart_phrases_intent"in e.extra_properties},e.isSentenceLevelBrandTones=function(e){return void 0!==e.extra_properties&&"brandToneDescription"in e.extra_properties},e.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},e.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},e.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},e.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},e.isHidden=function(e){return!0===e.hidden},e.isRawAlert=function(e){if(!e)return!1;var t=e;return Number.isInteger(t.rev)&&f(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},e.mock={id:e.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:e.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{category:"Accuracy",bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",groupDescription:"Checks spelling, confused words, capitalization",rank:10,outcome:"Correctness"},transformJson:Tc.create({highlights:[{s:5092,e:5102}],alternatives:re}),view:n.all,inline:r.inline},e.mockPlagiarism={id:e.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:e.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{category:"Originality",bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",groupDescription:"Unoriginal content from the web",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:Tc.create({highlights:[{s:1,e:40}],alternatives:re}),view:n.all,inline:r.not_inline},e.mockWithSubalerts={id:e.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:Tc.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:ie(yc.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[gc.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:gc.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:gc.Edit.Type.MAIN}},{insert:"Country",attributes:{type:gc.Edit.Type.MAIN}}]}),gc.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:gc.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:gc.Edit.Type.MAIN}},{insert:"country",attributes:{type:gc.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:t.Advanced,extra_properties:{priority:"4"},cardLayout:{category:"General",bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",groupDescription:"Fixes inconsistent formatting and spelling",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:r.not_inline},e.clearUserTextFields=function(e){var t=e;return t.text,t.replacements,t.highlightText,t.transformJson,t.transforms,t.details,t.explanation,t.examples,Jn(t,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},e.unsafeGetPosition=function(e){return mr(u(e),"raw alert should have a position"),e},e.unsafeGetTransformJson=function(e){return mr(c(e),"raw alert should have transformJson"),e}}(Ic||(Ic={})),function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats"}(Oc||(Oc={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(Nc||(Nc={})),function(e){e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(Ac||(Ac={})),function(e){e.DRILLDOWN="DRILLDOWN"}(Rc||(Rc={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(Pc||(Pc={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(Lc||(Lc={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(Mc||(Mc={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(Dc||(Dc={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(Fc||(Fc={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(zc||(zc={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(Bc||(Bc={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(jc||(jc={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(Hc||(Hc={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(Uc||(Uc={})),function(e){e.willRemoveAlert=function(e){return e===Ac.IGNORE||e===Ac.OFFENSIVE_CONTENT||e===Ac.WRONG_SUGGESTION||e===Ac.ADD_TO_DICTIONARY||e===Ac.LIKE||e===Ac.DISLIKE||e===Ac.ACKNOWLEDGED||e===Ac.HIDE}}(Vc||(Vc={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar"}(Wc||(Wc={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(Gc||(Gc={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(qc||(qc={}));var Xc,el,tl,nl,rl=300;!function(e){e.generatePoints=function(e,t,n){var r=function(e,t){return Math.max(Math.trunc(e/t),(n=e,Math.trunc(Math.random()*n)));var n};return pa(r(e,2),(function(e){return pa(r(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:""+(100*e+t)}}))}))}}(Xc||(Xc={})),function(e){e.NotFixed="NOT_FIXED"}(el||(el={})),function(e){e.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e===t.kind}))}}}(tl||(tl={})),function(e){var t;(function(e){e.INTENT_ALERT="INTENT_ALERT",e.INTENT_LOOKED="INTENT_LOOKED",e.INTENT_ACCEPTED="INTENT_ACCEPTED",e.INTENT_IGNORED="INTENT_IGNORED"})((t=e.Intent||(e.Intent={})).FeedbackType||(t.FeedbackType={}))}(nl||(nl={}));var il,ol,al=Math.pow(2,32)/2;function sl(e,t){var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return n>=55296&&n<57344&&r>=56320&&r<57344}function ul(e){return function(e){for(var t,n,r=0,i=e.length,o=0;o<i;o++)(t=e.charCodeAt(o))>=55296&&t<57344&&t<56320&&o+1<i&&(n=e.charCodeAt(o+1))>=56320&&n<57344?(r+=4,o++):r+=t<128?1:t<2048?2:3;return r}(e)/1e3}!function(e){e.alertsUpdate="alerts_update",e.textInfo="text_info",e.freeAdvancedChecks="free_inline_advanced_alerts",e.readability="readability_check",e.sentenceVariety="sentence_variety_check",e.fillerWords="filler_words_check",e.alertsChanges="alerts_changes",e.freeClarityChecks="free_clarity_alerts",e.superAlerts="super_alerts",e.consistency="consistency_check",e.setGoalsLink="set_goals_link",e.emogenieCheck="emogenie_check",e.toneCards="tone_cards",e.alternativeDeletesCard="alternative_deletes_card",e.voxCheck="vox_check",e.plagiarismAlertsUpdate="plagiarism_alerts_update",e.fullSentenceRewrite="full_sentence_rewrite_card",e.listCard="turn_to_list_card",e.userMutes="user_mutes",e.completions="completions",e.muteQuotedAlerts="mute_quoted_alerts",e.keyTakeaways="key_takeaways_v4",e.supportsFormatting="formatting",e.supportsButtonTransformCards="transform_with_button_card",e.priorityAlertsView="priority_alerts_view",e.proofit="realtime_proofit",e.goalPrediction="goal_prediction",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.gapTransformCard="gap_transform_card",e.smartPhrases="smart_phrases",e.sentenceLevelBrandTones="sentence_level_brand_tones",e.enclosingHighlight="enclosing_highlight",e.drilldownCard="drilldown_card"}(il||(il={})),function(e){var t,n;t=e.OutcomeScores||(e.OutcomeScores={}),n={Clarity:0,Correctness:0,Engagement:0,Tone:0,"Style guide":0,GeneralScore:0},t.normalize=function(e){return Qn(Qn({},n),e)}}(ol||(ol={}));var cl,ll=function(e){return 1e3*e},fl=function(e){return e/1e3};!function(e){function t(e){return"change"===e.kind}function n(e){return"change_chunked"===e.kind}e.isChange=oi(t,n),e.isFullChange=t,e.isChunkedChange=n,e.isCmd=function(e){return"cmd"===e.kind},e.isCmdIncRevision=function(e){return"cmdIncRevision"===e.kind}}(cl||(cl={}));var dl,hl,pl,gl,ml=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i=100),void 0===o&&(o=.1),this._shouldIncreaseRevision=e,this._acceptHandler=t,this._dropHandler=n,this._idGenerator=r,this._maxMessageSizeKb=i,this._messagePaddingKb=o,this._log=Kr.Logging.getLogger("coreclients.capi.queue",lr.DEBUG),this._changes=[],this._staged=[],this._stagedOperationId=null,this._stagedAmount=0,this.transformChangeAgainstQueue=function(e){if(e.transformJson){var t=a._getQueuedDeltaAndLatestRevision(e.rev),n=Tc.rebase(e.transformJson,t.delta);return Tc.isSquashed(n)?re:ie(ar(e,{transformJson:n,rev:t.latestRev}))}return ie(e)},this._split=function(e){var t=JSON.stringify([e.delta]);return a._log.trace("change delta string",{deltasStr:t,size:ul(t)}),function(e,t,n){if(void 0===n&&(n=0),mr(n<t,"padding must be less than the max message size"),fl(3*e.length)+n<t)return[e];if(ul(e)<t-n)return[e];for(var r=Math.max(2,Math.floor(ll(t-n)/3)),i=Math.ceil(e.length/r),o=new Array(i),a=0,s=0;a<e.length;){var u=sl(e,a+r-1)?r-1:r;o[s++]=e.substr(a,u),a+=u}return o}(t,a._maxMessageSizeKb,a._messagePaddingKb)},this._acceptMessage=function(e){a._updateCheckedTextSize(e),a._acceptHandler(e)},this._dropMessages=function(e,t){e.forEach(a._updateCheckedTextSize),a._dropHandler(e,t)},this._updateCheckedTextSize=function(e){cl.isChange(e)?a._changeStagedAmount(-e.change.amount):a._shouldIncreaseRevision(e.cmd)&&a._changeStagedAmount(-300)},this._log.debug("capi queue created",{maxMessageSizeKb:this._maxMessageSizeKb,messagePaddingKb:this._messagePaddingKb}),this.clear("init")}return e.prototype.pushChanges=function(e){var t=this,n=tr(this._tail(),Ye(cl.isChange));return tr(n,le((function(){return t._log.trace("pushChanges() adding new change to queue"),t._enqueueChange(e,t._split(e))}),(function(n){t._log.trace("pushChanges() composing with latest change");var r=n.change.compose(e),i=t._split(r);if(t._replaceChange(t._changes.length-1,r,i),r.isEmpty){var o=t._changes.pop();setTimeout((function(){return t._acceptMessage(o)}),0)}return n.id})))},e.prototype.pushCommand=function(e){var t=this._idGenerator();return this._shouldIncreaseRevision(e)?(this._changeStagedAmount(rl),this._changes.push({kind:"cmdIncRevision",cmd:e,id:t,rev:this._revision++})):this._changes.push({kind:"cmd",cmd:e,id:t,rev:this._revision}),t},Object.defineProperty(e.prototype,"isStaging",{get:function(){return this._staged.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._changes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localRevision",{get:function(){return this._revision},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stagedAmount",{get:function(){return this._stagedAmount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasChanges",{get:function(){return this._changes.some(cl.isChange)},enumerable:!1,configurable:!0}),e.prototype.poll=function(){var e=this;return mr(null===this._stagedOperationId,"Should not be in staging mode"),tr(oe(this._changes.shift()),Re((function(t){return cl.isCmd(t)||e._staged.push(t),e._stagedOperationId=t.id,t})))},e.prototype.ackOperation=function(e){mr(!!this._stagedOperationId&&e===this._stagedOperationId,"Cannot ack operation by wrong id. Expected: '"+this._stagedOperationId+", got: '"+e+"'"),this._stagedOperationId=null},e.prototype.ackRevision=function(e){this._ackedRevisions.add(e),this._cleanStaged()},e.prototype.transformAlertAgainstQueue=function(t){var n=this._getQueuedDeltaAndLatestRevision(t.rev),r=tr(Ic.hasPosition(t)?e._transformPosition(t,n.delta):ie(t),Re((function(e){return ar(e,{rev:n.latestRev})})));return tr(r,Me(Ic.matchBy(ie,(function(e){var t=Tc.rebase(e.transformJson,n.delta);return(e.updatable?Tc.isSquashed(t):!Tc.isValidAfterTransform(e.transformJson,t))?re:ie(ar(e,{transformJson:t}))}),(function(e){var t=Tc.rebase(e.subalerts,n.delta);return Tc.isSquashed(t)?re:ie(ar(e,{subalerts:t}))}))))},e.prototype.transformAttentionHeatmapAgainstQueue=function(e){var t=this._getQueuedDeltaAndLatestRevision(e.rev),n=function(e){return e.map((function(e){return Cc.Range.rebase(e,t.delta)}))},r=n(e.update),i=r.filter(Cc.Range.isSquashed).map((function(e){return e.id}));return ar(e,{rev:t.latestRev,add:n(e.add).filter(W(Cc.Range.isSquashed)),update:r.filter(W(Cc.Range.isSquashed)),remove:er(e.remove,i)})},e.prototype.clear=function(e){var t=er(this._changes,this._staged);this._changes=[],this._staged=[],this._stagedOperationId=null,this._ackedRevisions=new Set,this._revision=0,t.length>0&&this._dropMessages(t,e)},e.prototype._tail=function(){return this.isEmpty?re:oe(this._changes[this._changes.length-1])},e.prototype._enqueueChange=function(e,t){var n,r=this,i=this._revision++;if(this._changeStagedAmount(e.amount),1===t.length)n=this._idGenerator(),this._changes.push({kind:"change",change:e,id:n,rev:i,deltasString:t[0]});else{this._log.trace("change is larger than maximum allowed size, splitting to chunks",t.length);var o=t.map((function(e){return{id:r._idGenerator(),chunk:e}}));n=this._idGenerator(),this._changes.push({kind:"change_chunked",change:e,id:n,rev:i,chunks:o})}return n},e.prototype._replaceChange=function(e,t,n){var r=this,i=this._changes[e];mr(cl.isChange(i),"queued change should exist");var o=i;this._changeStagedAmount(-o.change.amount+t.amount),n.length>1?this._changes[e]=Qn(Qn({},o),{kind:"change_chunked",chunks:n.map((function(e){return{id:r._idGenerator(),chunk:e}}))}):this._changes[e]=Qn(Qn({},o),{kind:"change",change:t,deltasString:n[0]})},e.prototype._cleanStaged=function(){for(;void 0!==this._staged[0]&&this._ackedRevisions.has(this._staged[0].rev);){var e=this._staged.shift();this._ackedRevisions.delete(e.rev),this._acceptMessage(e)}},e.prototype._changeStagedAmount=function(e){this._stagedAmount+=e},e.prototype._getQueuedDeltaAndLatestRevision=function(e){var t=this._staged.filter((function(t){return t.rev>e})).concat(this._changes).filter(cl.isChange);return{delta:tc.squash(t.map((function(e){return e.change.delta}))),latestRev:tr(di(t),Re((function(e){return e.rev})),pe((function(){return e})))}},e.prototype.toJSON=function(){return{isEmpty:this.isEmpty,isStaging:this.isStaging,changes:this._changes.map((function(e){return cl.isChange(e)?{kind:"change",prevLen:e.change.prevLen,changeDiff:e.change.length,changeAmount:e.change.amount}:e}))}},e._transformPosition=function(e,t){var n=Ic.Position.rebase(e,t);return(e.updatable?Ic.Position.isSquashed(n):!Ic.Position.hasEqualLength(e,n))?re:ie(ar(e,n))},e}();!function(e){e.fromRaw=function(e){return Qn(Qn({},e),{suggestionsCard:tr(oe(e.suggestionsCard),Re((function(e){return{title:e.title,miniTitle:oe(e.miniTitle)}}))),successCard:tr(oe(e.successCard),Re((function(e){return{title:e.title,miniTitle:oe(e.miniTitle)}}))),defaultCard:Qn(Qn({},e.defaultCard),{miniTitle:oe(e.defaultCard.miniTitle),details:oe(e.defaultCard.details)})})}}(dl||(dl={})),function(e){function t(e,t){var n,r,i,o=(n=e/(t/60),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60),{h:r,m:i,s:n-3600*r-60*i});return o.s=o.h>0&&o.m>10?0:Math.floor(o.s),o}e.calculateReadingTime=function(e){return t(e,250)},e.calculateSpeakingTime=function(e){return t(e,130)},e.generateStats=function(t,n){var r={words:t,chars:n,sentences:Math.floor(t/5),readingTime:{},speakingTime:{},uniqueWords:40*Math.random(),uniqueWordsIndex:100*Math.random(),rareWords:20*Math.random(),rareWordsIndex:100*Math.random(),wordLength:5.4,wordLengthIndex:100*Math.random(),sentenceLength:16.7,sentenceLengthIndex:100*Math.random(),readabilityScore:73,readabilityDescription:"Your text is likely to be understood by a reader who has at least 7th grade education (age 12)"};return r.readingTime=e.calculateReadingTime(r.words),r.speakingTime=e.calculateSpeakingTime(r.words),r}}(hl||(hl={})),function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.WAITING_FOR_OT=3]="WAITING_FOR_OT",e[e.WAITING_FOR_ACK=4]="WAITING_FOR_ACK",e[e.SESSION_INBOUND=5]="SESSION_INBOUND",e[e.ANY=6]="ANY",e[e.CLOSED=7]="CLOSED"}(pl||(pl={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECT=2]="DISCONNECT",e[e.WAIT=3]="WAIT",e[e.READY=4]="READY",e[e.SEND=5]="SEND",e[e.ACK=6]="ACK",e[e.CLOSE=7]="CLOSE"}(gl||(gl={}));var vl,yl=function(){function e(e,t,n){var r=this,i=e.context,o=void 0===i?void 0:i,a=e.dialect,s=void 0===a?"undefined":a,u=e.client,c=e.clientVersion,l=void 0===c?"":c,f=e.extDomain,d=void 0===f?void 0:f,h=e.sendDelay,p=void 0===h?50:h,g=e.docid,m=void 0===g?"":g,v=e.clientSupports,y=void 0===v?[]:v,_=e.isDemoDoc,b=void 0!==_&&_,w=e.maxMessageSizeKb,S=e.messagePaddingKb,x=e.startSessionOptions,E=void 0===x?{}:x,C=e.idGenerator,k=void 0===C?new Lu(al,0,!1):C;this._log=Kr.Logging.getLogger("coreclients.capi",lr.DEBUG),this._queueIdGenerator=new Lu(al,0,!1),this._textSize=0,this._asyncChecksManager=new _l,this._pingsMap=new Map,this._validateAlert=vl.validate,this._statsRequester=new Zc(15e3,"CAPI.DocStats"),this._synonymsRequester=new Zc(15e3,"CAPI.Synonyms"),this._sharedLinkRequester=new Zc(15e3,"CAPI.SharedLink"),this._getTextRequester=new Zc(15e3,"CAPI.Text"),this._commandsRequester=new Zc(15e3,"CAPI.Commands"),this._otChunksNotifier=new Jc(15e3,"CAPI.OT.Chunks"),this.reportLensFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:t,lens:e},r._commandsRequester)},this.reportSystemFeedback=function(e){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:e},r._commandsRequester)},this.reportEmotionFeedback=function(e,t,n){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:t,emotion:e,subtype:n},r._commandsRequester)},this.reportEmotionSentenceFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:t,alertId:e},r._commandsRequester)},this.reportIntentFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:e,predictionId:t},r._commandsRequester)},this.reportMuteFeedback=function(e,t,n){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:n,userMuteScope:t,userMuteCategories:e},r._commandsRequester)},this.reportAutocorrectFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:e,before:t.before,after:t.after,context:t.context,expected:t.expected},r._commandsRequester)},this.reportAutocompleteFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:e,alertId:t.alertId,begin:t.begin,end:t.end,context:t.context,before:t.before,after:t.after,text:t.text,pname:t.pname},r._commandsRequester)},this.reportAutocompleteRejectedFeedback=function(e){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:Hc.COMPLETION_REJECTED,alertId:e.alertId,begin:e.begin,end:e.end,context:e.context,before:e.before,after:e.after,text:e.text,pname:e.pname,subtype:e.subtype},r._commandsRequester)},this.reportSnippetFeedback=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"feedback",type:e,snippetUuid:t},r._commandsRequester)},this.requestSynonyms=function(e,t){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"synonyms",begin:e,token:t},r._synonymsRequester)},this.shortenItSubmit=function(e){return tr(sa((function(){r._log.trace("shorten-it submit")})),la((function(){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"shorten_it_submit",alertId:e},r._commandsRequester)})))},this.requestDocStats=this._sendLazyInbandCommand((function(){return{id:r._idGenerator.newId(),action:"get_text_stats"}}),this._statsRequester),this.enablePlagiarismSearch=tr(sa((function(){r._log.trace("Enable plagiarism search"),r._asyncChecksManager.resetCheck("plagiarism")})),la((function(){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"toggle_checks",checks:{plagiarism:!0}},r._commandsRequester)}))),this.disablePlagiarismSearch=this._sendLazyInbandCommand((function(){return{id:r._idGenerator.newId(),action:"toggle_checks",checks:{plagiarism:!1}}}),this._commandsRequester),this.realtimeProofitSubmit=function(e){return r._log.trace("Submit real-time Proofit job"),r._sendInbandCommand({id:r._idGenerator.newId(),action:"realtime_proofit_submit",reconnect:e},r._commandsRequester)},this.realtimeProofitCancel=tr(sa((function(){r._log.trace("Cancel real-time Proofit job")})),la((function(){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"realtime_proofit_cancel"},r._commandsRequester)}))),this.submitRecipients=function(e){return r._log.trace("Submit recipients for better suggestions!"),r._sendInbandCommand({id:r._idGenerator.newId(),action:"submit_recipients",recipients:e},r._commandsRequester)},this.boomerangGetSharedLink=tr(sa((function(){r._log.trace("Submit request for Boomerang shared link")})),la((function(){return r._sendInbandCommand({id:r._idGenerator.newId(),action:"create_shared_link"},r._sharedLinkRequester)}))),this.boomerangCheckReviewersFeedback=function(e){return r._log.trace("Ping to check if feedback from reviewers is received"),r._sendInbandCommand({id:r._idGenerator.newId(),action:"check_reviewers_feedback",sharedLink:e},r._commandsRequester)},this.ping=this._sendLazyInbandCommand((function(){return{id:r._idGenerator.newId(),action:"ping"}}),this._commandsRequester),this.canGoIdle=function(){return r._changesQueue.isEmpty&&!r._changesQueue.isStaging},this.isStable=function(e){var t=void 0===e?r._idGenerator.id:r._idGenerator.id+1;return(void 0===e||"error"!==e.action)&&t>5},this._startSession=function(){return Zn(r,void 0,void 0,(function(){var e,t,n,r;return Xn(this,(function(i){switch(i.label){case 0:return this._log.trace("_startSession"),this._idGenerator.reset(),this._queueIdGenerator.reset(),e="session start",this._clear(e),this._commandsRequester.clear(e),this._statsRequester.clear(e),this._synonymsRequester.clear(e),this._sharedLinkRequester.clear(e),this._getTextRequester.clear(e),"function"!=typeof this._startSessionOptions?[3,2]:[4,this._startSessionOptions()];case 1:return n=i.sent(),[3,3];case 2:n=this._startSessionOptions,i.label=3;case 3:return t=n,r=Qn({id:this._idGenerator.newId(),action:"start",client:this._client.type,clientSubtype:this._client.sub,clientVersion:this._clientVersion,dialect:this._dialect,docid:this._docid,extDomain:this._extDomain,documentContext:this._context&&ku.serialize(this._context),clientSupports:this._clientSupports,isDemoDoc:this._isDemoDoc},t),this._queueIdGenerator.newId(),[4,this._fsm.event(gl.SEND)];case 4:return i.sent(),this._sendMessage(r),[2]}}))}))},this._handleStart=function(e){r._log.trace("_handleStart"),r._fsm.event(gl.ACK);var t=e.userMutedCategories,n=e.domainCategory,i=e.domainName,o=e.isEnterprise,a=e.defaultDocumentContext,s=e.sessionUuid;r._handler.onSessionStarted({kind:"session_started",userMutedCategories:t,domainCategory:n,domainName:i,isEnterprise:o,defaultDocumentContext:ku.parseDefault(a),sessionUuid:s}),r._fsm.is(pl.CONNECTED)&&r._fsm.event(gl.WAIT)},this._waitForSubmitOt=function(){r._handler.onWaitForOT({kind:"wait_for_ot"})},this._sessionInbound=function(e){r._handler.onSessionInbound({kind:"session_inbound"}),r._trySend(e)},this._canSend=function(){return!r._fsm.is(pl.DISCONNECTED,pl.CONNECTING,pl.CLOSED)},this._send=function(){return Zn(r,void 0,void 0,(function(){var e,t,n=this;return Xn(this,(function(r){switch(r.label){case 0:return this._resetTimer(),!this._fsm.is(pl.SESSION_INBOUND)||this._changesQueue.isEmpty?[3,6]:[4,this._fsm.event(gl.SEND)];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),e=this._changesQueue.poll(),[4,tr(e,Re((function(e){return Zn(n,void 0,void 0,(function(){var t;return Xn(this,(function(n){switch(n.label){case 0:return t=cl.isChange(e),[4,this._sendMessage(this._processQueueMessage(e))];case 1:return n.sent(),t?[3,3]:[4,this._fsm.event(gl.ACK)];case 2:n.sent()?this._changesQueue.ackOperation(e.id):this._log.debug("can not do ack for non change msg because we are in unexpected state",{state:pl[this._fsm.current]}),n.label=3;case 3:return[2]}}))}))})))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),this._log.error("unexpected error on sending",t),[3,5];case 5:return[3,7];case 6:this._trySend(this._fsm.current),r.label=7;case 7:return[2]}}))}))},this._processQueueMessage=function(e){return cl.isChange(e)?r._processSubmitOTMessage(e):r._shouldHaveSeparateRevision(e.cmd)?Qn(Qn({},e.cmd),{rev:e.rev,id:e.id}):Qn(Qn({},e.cmd),{id:e.id})},this._resetTimer=function(){void 0!==r._timeout&&(clearTimeout(r._timeout),r._timeout=void 0)},this._onQueueMsgAccepted=function(e){r._handler.onQueueMsgAccepted({kind:"queue_msg_accepted",message:e})},this._onQueueMsgDropped=function(e,t){e.filter(cl.isCmd).forEach((function(e){var n=new Kc("message dropped from queue:"+t);switch(e.cmd.action){case"ping":case"option":case"toggle_checks":case"set_context":case"feedback":r._commandsRequester.onError(e.id,n);break;case"get_text_stats":r._statsRequester.onError(e.id,n);break;case"synonyms":r._synonymsRequester.onError(e.id,n);break;case"create_shared_link":r._sharedLinkRequester.onError(e.id,n);break;case"get_debug_info":r._getTextRequester.onError(e.id,n)}})),r._handler.onQueueMsgDropped({kind:"queue_msgs_dropped",messages:e,reason:t})},this._handler=t,this._context=o,this._dialect=s,this._client=u,this._clientVersion=l,this._extDomain=d,this._sendDelay=p,this._docid=m,this._clientSupports=y,this._isDemoDoc=b,this._startSessionOptions=E,this._idGenerator=k,this._changesQueue=new ml(this._shouldHaveSeparateRevision,this._onQueueMsgAccepted,this._onQueueMsgDropped,(function(){return r._queueIdGenerator.newId()}),w,S),this._fsm=new Ou("capi",pl.DISCONNECTED,pl.CLOSED).with(pl.ANY).parentOf(pl.CONNECTED,pl.CONNECTING,pl.DISCONNECTED,pl.WAITING_FOR_OT,pl.WAITING_FOR_ACK,pl.SESSION_INBOUND).from(pl.ANY).to(pl.CLOSED).on(gl.CLOSE).from(pl.DISCONNECTED).to(pl.CONNECTING).on(gl.CONNECT).from(pl.CONNECTING).to(pl.CONNECTING).on(gl.CONNECT).from(pl.CONNECTING).to(pl.CONNECTED).on(gl.CONNECTED).from(pl.CONNECTED,pl.WAITING_FOR_OT,pl.WAITING_FOR_ACK,pl.SESSION_INBOUND,pl.CONNECTING).to(pl.DISCONNECTED).on(gl.DISCONNECT).from(pl.CONNECTED).to(pl.WAITING_FOR_OT).on(gl.WAIT).from(pl.CONNECTED,pl.WAITING_FOR_OT).to(pl.SESSION_INBOUND).on(gl.READY).from(pl.SESSION_INBOUND).to(pl.WAITING_FOR_ACK).on(gl.SEND).from(pl.WAITING_FOR_ACK).to(pl.SESSION_INBOUND).on(gl.ACK).on(pl.CONNECTED,this._startSession).on(pl.WAITING_FOR_OT,this._waitForSubmitOt).on(pl.SESSION_INBOUND,(function(e){return r._sessionInbound(e.to)})).on(pl.DISCONNECTED,(function(e){return r._clear(e.args)})),this._log.isEnabled(lr.TRACE)&&this._fsm.verbose(pl,gl),n.onConnecting((function(){return r._handleConnecting()})).onConnect((function(e){return r._handleConnect(e)})).onDisconnect((function(e){return r._handleDisconnect(e)})).onMessage((function(e,t){return r._handleMessage(t)})),si("closeCapiSocket",(function(e,t){void 0===e&&(e=1e3),null!==r._conn&&r._conn._ws.close(e,t)})),si("capiState",this),si("capiReadyToReceive",(function(){return r._fsm.is(pl.SESSION_INBOUND)&&r._changesQueue.isEmpty})),si("capiRuntimeError",(function(){var e=rc.ins(0,"test",100500);r.pushChanges(e)}))}return e.prototype.pushChanges=function(e){return this._pushChangesTask(e)},Object.defineProperty(e.prototype,"checkingState",{get:function(){return 0===this._checkedTextSize||1===this._textSize?"idle":this._checkedTextSize>rl&&this._textSize>100?"full":"checking"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncChecksState",{get:function(){return this._asyncChecksManager.getState()},enumerable:!1,configurable:!0}),e.prototype.setSessionOption=function(e){switch(e.kind){case Gc.Context:return this.setContext(e.context);case Gc.GnarContainerId:return this.setOption(e.kind,e.id);default:return vr(e)}},e.prototype.setContext=function(e){return this._log.debug("setContext(...)"),this._context=e,this._sendInbandCommand({action:"set_context",id:this._idGenerator.newId(),rev:-1,documentContext:ku.serialize(e)},this._commandsRequester)},e.prototype.setOption=function(e,t){return this._log.trace("Set option "+t),this._sendInbandCommand({id:this._idGenerator.newId(),action:"option",name:e,value:t},this._commandsRequester)},e.prototype.sendFeedback=function(e){switch(this._log.debug("sendFeedback",e.kind),e.kind){case Ac.ACCEPTED:return this._sendAlertAcceptedFeedback(e);case Ac.IGNORE:return this.reportIgnoreFeedback(e.id,e.reason,e.subtype,e.pnameQualifier,e.drilldownSuggestionIds);case Ac.ACKNOWLEDGED:return this.reportAcknowledgeFeedback(e.id,e.subtype,e.pnameQualifier);case Ac.ADD_TO_DICTIONARY:case Ac.LOOKED:case Ac.CLOSED:case Ac.LIKE:case Ac.DISLIKE:case Ac.WRONG_SUGGESTION:case Ac.OFFENSIVE_CONTENT:case Ac.EXPANDED:case Ac.IGNORE_BULK_ACCEPTED:case Ac.HIDE:return this.reportAlertFeedback(e.id,e.kind,e.subtype);case Rc.DRILLDOWN:return this._reportDrilldownFeedback(e.id,e.alternativeIndex,e.drilldownSuggestionIds,e.subtype);case zc.SYNONYM_ACCEPTED:return this.reportSynonymFeedback(e.id,e.kind,e.replacementText,e.subtype);case zc.SYNONYM_DISMISSED:return this.reportSynonymFeedback(e.id,e.kind,e.subtype);case Mc.EMOTION_LIKE:case Mc.EMOTION_DISLIKE:case Mc.EMOTION_OFFENSIVE:return this.reportEmotionFeedback(e.emotionName,e.kind,e.subtype);case Dc.EMOTION_SENTENCE_LIKE:case Dc.EMOTION_SENTENCE_DISLIKE:return this.reportEmotionSentenceFeedback(e.id,e.kind);case Bc.MUTE:case Bc.UNMUTE:return this.reportMuteFeedback(e.userMuteCategories,e.userMuteScope,e.kind);case Fc.RECHECK_SHOWN:return this.reportSystemFeedback(e.kind);case Lc.LENS_CLOSE:case Lc.LENS_OPEN:case Lc.DISMISS_BY_LENS:return this.reportLensFeedback(e.lensName,e.kind);case jc.AUTOCORRECT_ACCEPT:case jc.AUTOCORRECT_DISMISS:case jc.AUTOCORRECT_REPLACE:return this.reportAutocorrectFeedback(e.kind,e);case Hc.COMPLETION_REJECTED:return this.reportAutocompleteRejectedFeedback(e);case Hc.COMPLETION_ACCEPTED:case Hc.COMPLETION_IGNORED:case Hc.COMPLETION_SHOWN:return this.reportAutocompleteFeedback(e.kind,e);case Pc.BULK_ACCEPTED:return this.reportAlertsBatchFeedback(e.alertIds,e.kind,e.subtype);case nl.Intent.FeedbackType.INTENT_ALERT:case nl.Intent.FeedbackType.INTENT_LOOKED:case nl.Intent.FeedbackType.INTENT_IGNORED:case nl.Intent.FeedbackType.INTENT_ACCEPTED:return this.reportIntentFeedback(e.kind,e.predictionId);case Uc.SNIPPET_ACCEPTED:return this.reportSnippetFeedback(e.kind,e.snippetUuid);default:return vr(e)}},e.prototype._reportDrilldownFeedback=function(e,t,n,r){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Rc.DRILLDOWN,alertId:e,alternativeIndex:t,drilldownSuggestionIds:n,subtype:r},this._commandsRequester)},e.prototype._sendAlertAcceptedFeedback=function(e){return"replacementText"in e?this._reportTextAlertAcceptedFeedback(e.id,e.replacementText,e.subtype):"alternativeIndex"in e?this._reportTransformJsonAlertAcceptedFeedback(e.id,e.alternativeIndex,e.gapValue,e.subtype,e.drilldownSuggestionIds):"reason"in e?this._reportAlertAcceptedSurveyFeedback(e.id,e.reason,e.subtype):vr(e)},e.prototype.reportIgnoreFeedback=function(e,t,n,r,i){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Ac.IGNORE,alertId:e,userReason:t,subtype:n,pnameQualifier:r,drilldownSuggestionIds:i},this._commandsRequester)},e.prototype.reportAcknowledgeFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Ac.ACKNOWLEDGED,alertId:e,subtype:t,pnameQualifier:n},this._commandsRequester)},e.prototype.reportAlertFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:t,alertId:e,subtype:n},this._commandsRequester)},e.prototype.reportAlertsBatchFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:t,alertIds:e,subtype:n},this._commandsRequester)},e.prototype._reportTextAlertAcceptedFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Ac.ACCEPTED,alertId:e,text:t,subtype:n},this._commandsRequester)},e.prototype._reportAlertAcceptedSurveyFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Ac.ACCEPTED,alertId:e,userReason:t,subtype:n},this._commandsRequester)},e.prototype._reportTransformJsonAlertAcceptedFeedback=function(e,t,n,r,i){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Ac.ACCEPTED,alertId:e,alternativeIndex:t,gapValue:n,subtype:r,drilldownSuggestionIds:i},this._commandsRequester)},e.prototype.reportSynonymFeedback=function(e,t,n,r){switch(t){case zc.SYNONYM_ACCEPTED:var i={id:this._idGenerator.newId(),action:"feedback",type:zc.SYNONYM_ACCEPTED,text:n,alertId:e,subtype:r};return this._sendInbandCommand(i,this._commandsRequester);case zc.SYNONYM_DISMISSED:return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:zc.SYNONYM_DISMISSED,alertId:e,subtype:r},this._commandsRequester);default:return vr(t)}},e.prototype.isClosed=function(){return this._fsm.is(pl.CLOSED)},e.prototype.close=function(e){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(t){switch(t.label){case 0:return this.isClosed()?(this._log.trace("close: CAPI already closed, skipping"),[2]):(this._log.trace("close: closing CAPI"),[4,this._fsm.event(gl.CLOSE,e)]);case 1:return t.sent()?this._clear(e):this._log.error("Cannot go to CLOSED state"),[2]}}))}))},e.prototype.getText=function(){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"get_debug_info"},this._getTextRequester)().then(Ii)},e.prototype._handleConnecting=function(){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(e){switch(e.label){case 0:return[4,this._fsm.event(gl.CONNECT)];case 1:return e.sent()||this._log.error("Can not enter CONNECTING state",{fsmState:pl[this._fsm.current]}),[2]}}))}))},e.prototype._handleConnect=function(e){return Zn(this,void 0,void 0,(function(){var t,n;return Xn(this,(function(r){switch(r.label){case 0:this._log.trace("_handleConnect("+pl[this._fsm.current]+"): received new ws connection"),this._conn=e,t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._fsm.event(gl.CONNECTED)];case 2:return r.sent()||(t="failed to switch to CONNECTED state"),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(t)throw this._log.warn("Connection cannot be finalized.",t),t;return[2]}}))}))},e.prototype._handleDisconnect=function(e){return Zn(this,void 0,void 0,(function(){var t,n;return Xn(this,(function(r){switch(r.label){case 0:return this._log.trace("_handleDisconnect("+pl[this._fsm.current]+")",e),[4,this._fsm.event(gl.DISCONNECT,e.reason)];case 1:return t=r.sent(),n=this._fsm.is(pl.CLOSED)?lr.WARN:lr.ERROR,t||this._log.log(n,"Can not enter DISCONNECTED state",{reason:e,fsmState:pl[this._fsm.current]}),[2]}}))}))},e.prototype._handleMessage=function(e){switch(this._handler.onMessageReceived({kind:"message_received",message:e}),this._log.isEnabled(lr.TRACE)&&this._log.trace("Message <<< "+JSON.stringify(e).replace("\n"," ").substring(0,300)),e.action){case"start":this._handleStart(e);break;case"alert":this._handleAlert(e);break;case"remove":this._handler.onRemove({kind:"alert_removed",alertId:Ic.Id.create(e.id),hint:tr(oe(e.hint),Ye((function(e){return e===el.NotFixed}))),mergedIn:tr(oe(e.mergedIn),Re((function(e){return Ic.Id.create(e)})))});break;case"alert_changes":this._handleAlertChange(e);break;case"finished":this._handleFinish(e);break;case"async_check_finished":this._handleAsyncCheckFinished(e);break;case"complete":this._handleComplete(e);break;case"heatmap":this._handleAttentionHeatmap(e);break;case"attention_widget":this._handleAttentionInfo(e);break;case"submit_ot":this._handleSubmitOtAck(e);break;case"submit_ot_chunk":this._handleSubmitOtChunkAck(e);break;case"feedback":case"option":case"toggle_checks":case"set_context":case"submit_recipients":this._handleCommandAck(e);break;case"perfstats":this._handleAck(e);break;case"error":this._handleError(e);break;case"pong":this._handlePong(e);break;case"synonyms":this._handleSynonyms(e);break;case"text_stats":this._handleTextStats(e);break;case"text_maps":this._handleTextMaps(e);break;case"text_info":this._handleTextInfo(e);break;case"emotions":this._handleEmotions(e);break;case"debug_info":this._handler.onDebugInfo({kind:"debug_info",info:e}),this._getTextRequester.onValue(e.id,e.text);break;case"goal_prediction":this._handleGoalPrediction(e);break;case"realtime_proofit_availability":this._handleProofitAvailability(e);break;case"realtime_proofit_submit_resp":this._handleProofitSubmit(e);break;case"realtime_proofit_progress":this._handleProofitProgress(e);break;case"realtime_proofit_cancel_resp":this._handleProofitCancelled(e);break;case"shared_link":this._handleBoomerangSharedLinkReceived(e);break;case"review_finish":this._handleBoomerangReviewSubmitted(e);break;case"review_progress":this._handleBoomerangReviewProgress(e);break;case"create_shared_link":this._handleBoomerangSharedLinkAck(e);break;case"check_reviewers_feedback":this._handleBoomerangcheckReviewersFeedbackAck(e);break;case"shorten_it_submit":this._handleCommandAck(e);break;case"shorten_it_finished":break;default:this._log.error("Unknown message",{message:e}),vr(e)}},e.prototype._handleAlert=function(e){var t=this;this._handler.beforeAlert({kind:"before_alert"});var n=Ic.fromAlertMessage(e);this._log.trace("_handleAlert");var r=this._changesQueue.transformAlertAgainstQueue(n);tr(r,Lt((function(){return new Error("position overlap: "+JSON.stringify(n).substring(0,200))})),Ut(this._validateAlert),Dt((function(e){t._log.isEnabled(lr.TRACE)&&t._log.trace("OT ALERT: discarding alert due to error",e)}),(function(e){return t._handler.onAlert({kind:"alert_received",alert:e})})))},e.prototype._handleAlertChange=function(e){return tr({kind:"alert_changed",alertId:Ic.Id.create(e.id),rev:e.rev,extraProperties:e.extra_properties&&Ic.parseExtraProperties(e.extra_properties),transformJson:e.transformJson&&Ec.toAbs(e.transformJson),muted:e.muted},this._changesQueue.transformChangeAgainstQueue,le(Y,this._handler.onChange))},e.prototype._handleComplete=function(e){this._handler.onAutoComplete({kind:"autocomplete_received",complete:e})},e.prototype._handleAttentionHeatmap=function(e){var t=Cc.fromAttentionHeatmapMessage(e);this._handler.onAttentionHeatmap({kind:"attention_heatmap_received",heatmap:this._changesQueue.transformAttentionHeatmapAgainstQueue(t)})},e.prototype._handleAttentionInfo=function(e){2===e.version?this._handler.onAttentionInfo({kind:"attention_info_received",rev:e.rev,wordsCount:e.wordsCount,checklist:e.checklist.map(dl.fromRaw),headerMessage:e.headerMessage,predictionMessage:e.predictionMessage}):this._log.error("Got an unsupported attention_widget message version",e)},e.prototype._handleTextMaps=function(e){var t={score:e.score,generalScore:e.generalScore,textMaps:e.textMaps};this._handler.onTextMaps({kind:"text_maps",data:t})},e.prototype._handleTextInfo=function(e){var t={wordsCount:e.wordsCount,charsCount:e.charsCount-1,readingTime:hl.calculateReadingTime(e.wordsCount),speakingTime:hl.calculateSpeakingTime(e.wordsCount),readabilityScore:e.readabilityScore,messages:oe(e.messages),sessionStats:e.sessionStats};this._handler.onTextInfo({kind:"text_info",data:t})},e.prototype._handleEmotions=function(e){this._handler.onEmotions({kind:"emotions",emotions:e.emotions,institutionLogo:e.institutionLogo,brandTonesEnabled:e.brandTonesEnabled,hidden:e.hidden})},e.prototype._handleGoalPrediction=function(e){this._handler.onGoalPrediction({kind:"goal_prediction",intent:e.intent})},e.prototype._handleProofitAvailability=function(e){this._handler.onProofitAvailability({id:e.id,kind:"realtime_proofit_availability",available:e.available,quota:e.quota})},e.prototype._handleProofitSubmit=function(e){this._handler.onProofitSubmit({id:e.id,kind:"realtime_proofit_submit_resp",status:e.status})},e.prototype._handleProofitProgress=function(e){"in_progress"===e.status?this._handler.onProofitProgress(Qn({kind:"realtime_proofit_in_progress"},e)):"completed"===e.status?this._handler.onProofitCompleted(Qn({kind:"realtime_proofit_completed"},e)):"error"===e.status?this._handler.onProofitProgressProblem(Qn({kind:"realtime_proofit_progress_error"},e)):"rejected"===e.status&&this._handler.onProofitProgressProblem(Qn({kind:"realtime_proofit_progress_rejected"},e))},e.prototype._handleProofitCancelled=function(e){this._handler.onProofitCancelled({id:e.id,kind:"realtime_proofit_cancel_resp",refunded:e.refunded,quota:e.quota})},e.prototype._handleBoomerangSharedLinkReceived=function(e){this._handler.onBoomerangSharedLinkReceived({id:e.id,kind:"shared_link",sharedLink:e.sharedLink}),this._sharedLinkRequester.onValue(e.id,e.sharedLink)},e.prototype._handleBoomerangReviewSubmitted=function(e){this._handler.onBoomerangReviewSubmitted({id:e.id,kind:"review_finish",sharedLink:e.sharedLink,reviewers:e.reviewers})},e.prototype._handleBoomerangReviewProgress=function(e){this._handler.onBoomerangReviewProgress({id:e.id,kind:"review_progress",sharedLink:e.sharedLink,reviewers:e.reviewers})},e.prototype._handleBoomerangSharedLinkAck=function(e){this._handler.onBoomerangCreateSharedLinkAck({id:e.id,kind:"create_shared_link"})},e.prototype._handleBoomerangcheckReviewersFeedbackAck=function(e){this._handler.onBoomerangCheckReviewersFeedbackAck({id:e.id,kind:"check_reviewers_feedback"})},e.prototype._handleFinish=function(e){this._log.trace("_handleFinish"),this._handler.onBeforeFinish({kind:"before_finish"}),this._changesQueue.ackRevision(e.rev);var t=this._createFinishEvent(e);this._handler.onFinish(t)},e.prototype._handleAsyncCheckFinished=function(e){this._handler.onBeforeAsyncCheckFinish({kind:"before_async_check_finish"}),this._asyncChecksManager.finish(e),this._handler.onAsyncCheckFinish({kind:"async_check_finished",check:e.check,revision:e.rev,outcomeScores:e.outcomeScores})},e.prototype._handleSubmitOtAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._fsm.is(pl.WAITING_FOR_ACK)?(this._handleAck(e),this._changesQueue.ackOperation(e.id),this._fsm.event(gl.ACK)):this._log.error("Got an unexpected submit_ot ack",{curentState:pl[this._fsm.current]})},e.prototype._sendNextOtChunk=function(e){var t=this;return 0===e.chunks.length?(this._log.trace("no more chunks, sending final submit_ot message"),ca((function(){return Zn(t,void 0,void 0,(function(){return Xn(this,(function(t){switch(t.label){case 0:return[4,this._sendMessage(e.submitOt)];case 1:return[2,t.sent()]}}))}))}),(function(e){return new Error("failed to send final submit_ot message: "+e)}))):(this._log.trace("sending next submit_ot chunk"),tr(ca((function(){return Zn(t,void 0,void 0,(function(){var t;return Xn(this,(function(n){switch(n.label){case 0:return t=e.chunks.splice(0,1)[0],[4,this._sendMessage(t)];case 1:return n.sent(),[2,t]}}))}))}),(function(e){return new Error("failed to send next chunk message: "+e)})),la((function(n){return t._waitForOtChunkAck(n,e)}))))},e.prototype._waitForOtChunkAck=function(e,t){var n=this;return tr(this._otChunksNotifier.waitFor(e.id,t),la(this._sendNextOtChunk.bind(this)),zo(jt((function(e){return n._log.error("failed sending OT chunks",e),e}))))},e.prototype._handleSubmitOtChunkAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._otChunksNotifier.notify(e.id)},e.prototype._handleCommandAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._commandsRequester.onValue(e.id),this._handleAck(e)},e.prototype._handleAck=function(e){tr(bl(e),le(K,this._handler.onAck))},e.prototype._handlePong=function(e){var t=window.performance.now();this._handler.onPong({kind:"pong",latency:tr(oe(this._pingsMap.get(e.id)),Re((function(e){return t-e})))})},e.prototype._handleSynonyms=function(e){var t=this._parseSynonymsResult(e);this._handler.onSynonyms({kind:"synonyms",synonyms:t,word:e.token,position:e.synonyms.pos}),this._synonymsRequester.onValue(e.id,t)},e.prototype._handleTextStats=function(e){e.readingTime=hl.calculateReadingTime(e.words),e.speakingTime=hl.calculateSpeakingTime(e.words),this._handler.onStats({kind:"stats",stats:e}),this._statsRequester.onValue(e.id,e)},e.prototype._createFinishEvent=function(e){return{kind:"finish",revision:e.rev,score:tr(oe(e.generalScore),Ye((function(e){return e>=0})),Re((function(t){return{errorRateScore:e.score,rank:t}}))),removed:new Set(e.removed),dialect:e.dialect,outcomeScores:ol.OutcomeScores.normalize(e.outcomeScores),foreign:e.foreign}},e.prototype._parseSynonymsResult=function(e){var t=this,n=function(e){return e.derived};return{id:e.id.toString(),originalWord:e.token,synonymsOrGroups:function(e){return 0===e.synonyms.meanings.length?re:1===e.synonyms.meanings.length?ie(At(e.synonyms.meanings[0].synonyms.map(n))):ie(Rt(e.synonyms.meanings.map((function(r){return void 0===r.meaning&&t._log.warn("Absent meaning in synonyms group.",{token:e.token}),{meaning:r.meaning||"",words:r.synonyms.map(n)}}))))}(e),pname:e.synonyms.pname}},e.prototype._trySend=function(e){void 0===this._timeout&&e===pl.SESSION_INBOUND?this._timeout=window.setTimeout(this._send,this._sendDelay):e!==pl.WAITING_FOR_OT||this._changesQueue.isEmpty?this._log.trace("_trySend("+pl[e]+") send timeout already set or not waiting for ot, ignoring"):(this._log.trace("_trySend("+pl[e]+") moving to READY"),this._fsm.event(gl.READY),this._handler.onReady({kind:"ready"}))},e.prototype._shouldHaveSeparateRevision=function(e){return"set_context"===e.action},e.prototype._pushChangesTask=function(e){var t=this;this._log.debug("pushChanges("+pl[this._fsm.current]+"):",e.kind);return rc.isReset(e)&&this._fsm.is(pl.SESSION_INBOUND,pl.WAITING_FOR_ACK)?(this._log.debug("pushChanges("+pl[this._fsm.current]+"): got reset while active session, starting new session"),function(){return Zn(t,void 0,void 0,(function(){var t;return Xn(this,(function(n){switch(n.label){case 0:this._log.debug("pushChanges("+pl[this._fsm.current]+"): starting new session"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._startSession()];case 2:return n.sent(),[2,this._pushChanges(e)];case 3:return t=n.sent(),this._log.warn("pushChanges("+pl[this._fsm.current]+"): failed sending start message: ",t),[2,At(t)];case 4:return[2]}}))}))}):ua((function(){return t._pushChanges(e)}))},e.prototype._pushChanges=function(e){var t=this;if(!this._canSend())return this._log.debug("pushChanges: cannot send, rejecting changes",e.kind),At(new Yc("Cannot accepts changes as WS connection is down"));var n=function(e){t._asyncChecksManager.stage(t._changesQueue.localRevision);var n=t._changesQueue.pushChanges(e);return t._textSize=e.prevLen+e.length,t._trySend(t._fsm.current),Rt(ie(n))};return rc.isDelta(e)?this._fsm.is(pl.WAITING_FOR_OT)?At(new Qc("Capi is waiting for reset change but got a delta, dropping change")):n(e):rc.isReset(e)?n(rc.delta(e.delta)):(this._changesQueue.isEmpty||this.ping(),Rt(re))},e.prototype._sendInbandCommand=function(e,t){return this._sendLazyInbandCommand((function(){return e}),t)},e.prototype._sendLazyInbandCommand=function(e,t){var n=this;return function(){var r=e();if(n._log.trace("_sendInbandCommand("+pl[n._fsm.current]+"): ",r.action),n._canSend()){var i=n._changesQueue.isEmpty,o=n._changesQueue.pushCommand(r),a=t.watchRequest(o);return i?(n._log.trace("_sendInbandCommand: Q.isEmpty, sending command immediately"),n._send()):(n._log.trace("_sendInbandCommand: Q.notEmpty, delaying sending command"),n._trySend(n._fsm.current)),a}return n._log.debug("_sendInbandCommand: cannot send, rejecting command",r.action),Promise.resolve(At(new Yc("Cannot send commands as WS connection is down")))}},e.prototype._processSubmitOTMessage=function(e){if(cl.isChunkedChange(e)){var t=e.chunks.map((function(e){return{id:e.id,action:"submit_ot_chunk",chunk:e.chunk}})),n=t.splice(0,1)[0],r={chunks:t,submitOt:{id:e.id,action:"submit_ot",rev:e.rev,doc_len:e.change.prevLen,chunked:!0}};return this._waitForOtChunkAck(n,r)(),n}return{id:e.id,action:"submit_ot",rev:e.rev,doc_len:e.change.prevLen,deltas:[e.change.delta],deltasString:e.deltasString,chunked:!1}},e.prototype._sendMessage=function(e){var t=this;return this._log.isEnabled(lr.TRACE)&&this._log.trace("Sending >>>> "+JSON.stringify(e).replace("\n"," ").substring(0,300)),this._handler.onMessageSent({kind:"message_sent",message:e}),"ping"===e.action&&this._pingsMap.set(e.id,window.performance.now()),function(e,t){if(!e)throw new pr("string"==typeof t?t:t&&t());return e}(this._conn,"_sendMessage should never be called without a connection").send(e).catch((function(e){return t._log.debug("fail on send",e)}))},Object.defineProperty(e.prototype,"_checkedTextSize",{get:function(){return this._changesQueue.stagedAmount},enumerable:!1,configurable:!0}),e.prototype._clear=function(e){this._log.debug("clearing message queue, reason: "+e),this._pingsMap.clear(),this._changesQueue.isEmpty||this._log.warn("clean queue with messages",{reason:e,queue:this._changesQueue.toJSON()}),this._changesQueue.clear(e),this._asyncChecksManager.reset(),this._resetTimer()},e.prototype._handleError=function(e){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(t){switch(e.error){case Oc.CANNOT_GET_TEXT_STATS:this._statsRequester.onError(e.id,new Error("Server Error"));break;case Oc.CANNOT_FIND_SYNONYM:this._synonymsRequester.onError(e.id,new Error("can not find synonym"));break;case Oc.RUNTIME_ERROR:this._fsm.is(pl.WAITING_FOR_ACK)?(this._log.error("Got runtime_error for submit_ot",{message:e}),this._clear("runtime_error on submit_ot")):this._clear("runtime_error");break;default:this._handler.onError(Qn({kind:"error"},e)),this._log.error("Error",{message:e})}return[2]}))}))},e}(),_l=function(){function e(){this._wasChecked={plagiarism:!1},this.reset()}return e.prototype.getState=function(){return{plagiarism:this._pendingRevision>this._finishedRevisions.plagiarism?this._wasChecked.plagiarism?"checking":"full":"idle"}},e.prototype.stage=function(e){this._pendingRevision=Math.max(this._pendingRevision,e)},e.prototype.finish=function(e){this._finishedRevisions[e.check]=Math.max(this._finishedRevisions[e.check],e.rev),this._wasChecked[e.check]=!0},e.prototype.reset=function(){this._pendingRevision=0,this._finishedRevisions={plagiarism:-1}},e.prototype.resetCheck=function(e){this._finishedRevisions[e]=-1},e}(),bl=function(e){switch(e.action){case"option":return ie({kind:"option_ack"});case"set_context":return ie({kind:"set_context_ack",revision:e.rev});case"submit_recipients":return ie({kind:"submit_recipients_ack"});case"toggle_checks":return ie({kind:"toggle_checks_ack"});case"submit_ot":return ie({kind:"set_context_ack",revision:e.rev});case"feedback":return ie({kind:"feedback_ack",outcomeScores:e.scores?ol.OutcomeScores.normalize(e.scores):void 0});case"submit_ot_chunk":case"shorten_it_submit":case"perfstats":return re;default:return vr(e)}};!function(e){e.validate=function(e){var t=e.extra_properties.drilldownTree;return void 0===t?Rt(e):tr(e,Mt(Ic.withTransformJson,(function(){return n("no transformJSON")})),Ut((function(e){var t=e.transformJson.alternatives;return tr(t,Lt((function(){return n("no alternatives")})))})),Ut((function(i){var o=i.alternatives;return t.length>0&&r(o)(t)?Rt(e):At(n("incomplete tree"))})));function n(t){return new Error("Incorrect drilldownTree: "+JSON.stringify(e.extra_properties.drilldownTree)+" - "+t)}function r(e){return function(t){return t.every((function(t){var n=t[0],i=t[1];return void 0!==e[n]&&(!!_c.isLeaf(i)||r(e)(i))}))}}}}(vl||(vl={}));var wl,Sl=function(){function e(e,t,n){var r=this,i=e.handler,o=e.reconnectHandler,a=void 0===o?ks.getDefaultReconnect(ks.ClientType.capi):o,s=e.maxReconnectDelay,u=e.baseReconnectDelay,c=Jn(e,["handler","reconnectHandler","maxReconnectDelay","baseReconnectDelay"]);this._connect=t,this._ws=n,this._log=Kr.Logging.getLogger("coreclients.capi.connection"),this._isIdle=!1,this._isStarted=!1;var l=Qn(Qn({},i||{}),{onWaitForOT:function(e){mr(void 0!==r._onInitResetSent&&void 0!==r._onInitResetFailed,"expected initial connect promise to be initialized at this stage"),r._log.trace("sending initial reset Delta to CAPI"),r._capi.pushChanges(r._contentSource())().then(Dt((function(e){r._onInitResetFailed(e),r._onInitResetFailed=void 0}),le(Y,(function(e){r._onInitResetSent(e),r._onInitResetSent=void 0})))),i&&i.onWaitForOT&&i.onWaitForOT(e)}});this._handler=Object.assign(new Ns,l),this._ws.onMessage((function(e,t){r._capi.isStable(t)&&f.reset()})).onConnecting((function(){r._isIdle=!1})).onConnect((function(){return r._handler.onConnect({kind:"connect"})})).onDisconnect((function(e){if(!r._capi.isClosed()){var t={canGoIdle:r._capi.canGoIdle(),isStable:r._capi.isStable()};r._log.debug("calling reconnect handler:",t),tr(a(e,f,t),(function(t){return r._handler.onDisconnect({kind:"disconnect",reason:e,reconnectCounter:f.reconnectCounter,reconnectResult:t}),t}),Dt((function(e){r._log.warn("error reconnecting, closing CAPI:",e.message),r._capi.close("error reconnecting:"+e.message)}),(function(e){"idle"===e.kind&&(r._isIdle=!0)})))}}));var f=new ks.ReconnectSchedulerImpl(s,u,(function(){return r.connect(r._contentSource).then((function(e){var t=e[0];return e[1],t}))}));this._capi=new yl(c,this._handler,this._ws)}return e.prototype.connect=function(e){return Zn(this,void 0,void 0,(function(){var t,n=this;return Xn(this,(function(r){switch(r.label){case 0:return mr(!this._capi.isClosed(),"cannot connect when CAPI is closed"),this._isIdle=!1,this._isStarted=!0,this._contentSource=e,this._log.trace("connect: initializing new ws connection"),[4,this._connect(this._ws)];case 1:return t=r.sent(),this._conn=t,[2,new Promise((function(e,r){n._onInitResetFailed=r,n._onInitResetSent=function(n){return e([t,n])},setTimeout((function(){return r('failed to initialize CAPI: timeout waiting for "wait_for_ot event" to send an initial reset Delta')}),5e3)}))]}}))}))},e.prototype.close=function(e,t){return void 0===e&&(e=ks.WsCodes.NORMAL_CLOSURE),Zn(this,void 0,void 0,(function(){var n;return Xn(this,(function(r){switch(r.label){case 0:return n=t||"CAPI WS Close called",this._log.trace("close: closing CAPI because: "+n),[4,this._capi.close(n)];case 1:return r.sent(),this._conn?(this._log.debug("close: closing connection because: "+n),[4,this._conn.close({code:e,reason:n})]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._isIdle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return this._ws.isDisconnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wasStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"client",{get:function(){return this._capi},enumerable:!1,configurable:!0}),e}();try{wl=WebSocket||window.MozWebSocket}catch(e){}function xl(e,t){return t?new wl(e,t):new wl(e)}wl&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(xl,e,{get:function(){return wl[e]}})}));var El,Cl,kl=wl?xl:null;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.CLOSED=3]="CLOSED",e[e.ANY=4]="ANY"}(El||(El={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECT=2]="DISCONNECT",e[e.SEND=3]="SEND",e[e.CLOSE=4]="CLOSE"}(Cl||(Cl={}));var Tl,Il=function(e){Kr.Logging.getLogger("coreclients.errPrintln").error("WebSocket Error",e)},Ol=function(){function e(e){var t=this;this._createWSInstance=e,this._log=Kr.Logging.getLogger("coreclients.ws"),this._ondisconnect=[],this._onconnecting=[],this._onconnect=[],this._onerror=[Il],this._onmessage=[],this._read=function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t&&null!==t)return t}catch(e){}return e},this._write=function(e){return"string"==typeof e?e:JSON.stringify(e)},this._createConnection=function(e){return new Nl(e,t._write)},this._fsm=new Ou("ws",El.DISCONNECTED,El.CLOSED).with(El.ANY).parentOf(El.CLOSED,El.CONNECTED,El.CONNECTING,El.DISCONNECTED).from(El.CONNECTING).to(El.CONNECTED).on(Cl.CONNECTED).from(El.CONNECTED,El.CONNECTING).to(El.DISCONNECTED).on(Cl.DISCONNECT).from(El.DISCONNECTED).to(El.CONNECTING).on(Cl.CONNECT).from(El.ANY).to(El.CLOSED).on(Cl.CLOSE).from(El.CONNECTED).to(El.CONNECTED).on(Cl.SEND).on(El.CONNECTED,(function(e){return Zn(t,void 0,void 0,(function(){return Xn(this,(function(t){switch(t.label){case 0:return e.from===El.CONNECTED?[3,2]:[4,Promise.all(this._onconnect.map((function(t){return Promise.resolve(t(e.args))})))];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})).on(El.DISCONNECTED,(function(e){return t._ondisconnect.forEach((function(t){return t(e.args)}))})),this._log.isEnabled(lr.TRACE)&&this._fsm.verbose(El,Cl)}return e.create=function(t){return void 0===t&&(t=function(e){return new kl(e)}),new e(t)},e.prototype.reader=function(e){return this._read=e,this},e.prototype.writer=function(e){return this._write=e,this},e.prototype.withConnection=function(e){return this._createConnection=e,this},e.prototype.onConnecting=function(e){return this._onconnecting.push(e),this},e.prototype.onConnect=function(e){return this._onconnect.push(e),this},e.prototype.onDisconnect=function(e){return this._ondisconnect.push(e),this},e.prototype.onMessage=function(e){return this._onmessage.push(e),this},e.prototype.onError=function(e){return this._onerror.push(e),this},e.prototype.connect=function(e){return Zn(this,void 0,void 0,(function(){return Xn(this,(function(t){return mr(this.isDisconnected(),"can only connect WS that is currently disconnected, was "+El[this._fsm.current]),[2,this._createWebSocket(e,this._fsm)]}))}))},e.prototype.isDisconnected=function(){return this._fsm.is(El.DISCONNECTED)},e.prototype.isConnecting=function(){return this._fsm.is(El.CONNECTING)},e.prototype.isConnected=function(){return this._fsm.is(El.CONNECTED)},e.prototype._createWebSocket=function(e,t){var n=this;return this._log.trace("_createWebSocket("+El[t.current]+")"),t.event(Cl.CONNECT).then((function(r){return new Promise((function(i,o){if(!r){var a=new ql({status:"Unknown",message:"Cannot connect",code:ks.WsCodes.UNKNOWN_WS_ERROR,url:e});return t.event(Cl.DISCONNECT,new Pl(a)),void o(new Error("\n            WebSocket [ERROR] FSM cannot be switched to CONNECTING state from "+El[t.current]+"\n          "))}n._log.debug("Connecting to "+e),n._onconnecting.forEach((function(e){return e()}));var s=n._createWSInstance(e),u=function(e){var t=re;return{scheduleIO:function(n){tr(t,Re(window.clearTimeout)),t=tr(n,Re((function(t){return window.setTimeout(t,e)})))}}}(1e3);function c(e){var n=t.is(El.CONNECTING);t.event(Cl.DISCONNECT,e),n&&o(e.error)}s.onopen=function(a){return Zn(n,void 0,void 0,(function(){var n,a,u,c=this;return Xn(this,(function(l){switch(l.label){case 0:this._log.debug("Connection to "+e+" opened"),n=new Al(t,this._createConnection(s,this._write)),a=void 0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t.event(Cl.CONNECTED,n)];case 2:return(r=l.sent())||(a=new Error("WebSocket [ERROR] FSM cannot be switched to CONNECTED state from "+El[t.current])),[3,4];case 3:return u=l.sent(),this._log.warn("WebSocket [ERROR] FSM cannot be switched to CONNECTED state due to error in event handler",u),a=u,[3,4];case 4:return a?(o(a),s.close(ks.WsCodes.BLOCKED_BY_CLIENT,"WebSocket lib initialized"),[2]):(s.onmessage=function(e){var t=c._read(e.data);c._onmessage.forEach((function(e){return e(n,t)}))},i(n),[2])}}))}))},s.onclose=function(r){n._log.debug("Connection to "+e+" closed",{code:r.code,reason:r.reason,fsmState:El[t.current]}),u.scheduleIO(re);var i=new ql({status:r.reason,message:"Connection closed: "+r.reason,code:r.code,url:e});c(new Pl(i))},s.onerror=function(){n._log.debug("Connection to "+e+" errored");var t=new ql({status:"ws_error",message:"WebSocket error",url:e}),r=new Pl(t);u.scheduleIO(ie((function(){try{n._onerror.forEach((function(e){return e(t)}))}catch(e){n._log.error("OnError handler thrown an error",e)}c(r)})))}}))}))},e}(),Nl=function(){function e(e,t){this._ws=e,this._serializer=t}return e.prototype.send=function(e){var t=this;return new Promise((function(n){t._ws.send(t._serializer(e)),n()}))},e.prototype.close=function(e){var t=this,n=void 0===e?{}:e,r=n.code,i=void 0===r?ks.WsCodes.NORMAL_CLOSURE:r,o=n.reason;return new Promise((function(e){t._ws.close(i,o),e()}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._ws.readyState},enumerable:!1,configurable:!0}),e}(),Al=function(){function e(e,t){this._fsm=e,this._inner=t,this._log=Kr.Logging.getLogger("coreclients.ws.connection")}return Object.defineProperty(e.prototype,"_ws",{get:function(){return this._inner._ws},enumerable:!1,configurable:!0}),e.prototype.send=function(e){var t=this;return this._fsm.event(Cl.SEND).then((function(n){if(!n)throw new Error("WebSocket [ERROR]: Trying to send on invalid connection state: "+El[t._fsm.current]);if(t.state!==Tl.State.OPEN)throw new Error("WebSocket [ERROR]: Trying to send on invalid websocket state: "+Tl.State[t.state]);return t._inner.send(e)}))},e.prototype.close=function(e){var t=this,n=void 0===e?{}:e,r=n.code,i=void 0===r?ks.WsCodes.NORMAL_CLOSURE:r,o=n.reason;return this._fsm.event(Cl.CLOSE).then((function(e){return e?(t._log.debug("Closing connection",{code:i,reason:o,fsmState:El[t._fsm.current]}),t._inner.close({code:i,reason:o})):(t._log.warn("Tried to close connection which is already closed or closing",{fsmState:El[t._fsm.current]}),Promise.resolve())}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._inner.state},enumerable:!1,configurable:!0}),e}();!function(e){var t;(t=e.State||(e.State={}))[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"}(Tl||(Tl={}));var Rl,Pl=function(){function e(e){this._error=e}return e.prototype.toString=function(){return this._error.message},Object.defineProperty(e.prototype,"code",{get:function(){return this._error.code},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return"WebSocket [CLOSE]: statusCode="+this._error.code+" reason: "+this._error.status},enumerable:!1,configurable:!0}),e}();!function(e){e.is=function(e){return null!=e&&(void 0!==e.code||void 0!==e.reason)}}(Rl||(Rl={}));var Ll,Ml,Dl,Fl,zl,Bl,jl,Hl,Ul,Vl,Wl,Gl,ql=function(e){function t(t){var n=t.code,r=void 0===n?-1:n,i=t.status,o=t.url,a=t.message,s=t.body,u=e.call(this,a)||this;return u.name="WSError",u.url=o,u.code=function(e,t){if(1005===e&&t){var n=t.toLowerCase();return n.indexOf("user not found")>=0?ks.WsCodes.UNAUTHORIZED:n.indexOf("cannot find document")>=0?ks.WsCodes.NOT_FOUND:n.indexOf("SERVER_SHUTDOWN")>=0?ks.WsCodes.SERVER_SHUTDOWN:e}return e}(r,a),u.body=s,u.status=i,u}return Yn(t,e),t.prototype.toString=function(){return"Websocket Error\n      Message: "+this.message+"\n      Status: "+this.status+"\n      Code: "+this.code+"\n      Url: "+this.url},t}(cr);function $l(e){return e||0===e?e.toString()+" !important":""}!function(e){e.Badge="0.4px"}(Ll||(Ll={})),function(e){e.Badge=.625}(Ml||(Ml={})),function(e){e.Badge=400}(Dl||(Dl={})),function(e){e.Badge=1}(Fl||(Fl={})),function(e){e.Badge="uppercase"}(zl||(zl={})),function(e){e.TextBadge="rgb(13, 128, 101)",e.TextButtonPrimaryDisabled="rgb(255, 255, 255)",e.TextButtonGhostDisabled="rgb(198, 203, 222)",e.TextButtonDocumentSettingsHint="rgb(109, 117, 141)",e.TextFooterWordCounter="rgb(109, 117, 141)",e.BackgroundBadge="rgb(215, 247, 240)",e.BackgroundButtonPrimaryNormal="rgb(74, 110, 224)",e.BackgroundButtonPrimaryHover="rgb(99, 142, 235)",e.BackgroundButtonPrimaryDisabled="rgb(153, 194, 255)",e.BackgroundButtonGhostActive="rgb(237, 245, 255)",e.BackgroundButtonGhostHover="rgb(249, 250, 255)",e.BackgroundButtonSelectionUnselectedDefault="rgb(240, 242, 252)",e.BackgroundButtonSelectionUnselectedHover="rgb(231, 233, 245)",e.BackgroundButtonSelectionSelectedDefault="rgb(74, 110, 224)",e.BackgroundButtonSelectionSelectedHover="rgb(99, 142, 235)",e.BackgroundCardApply="rgb(17, 166, 131)",e.BackgroundNotification="rgb(51, 57, 84)",e.BackgroundTooltip="rgb(51, 57, 84)",e.CoreNeutral0="rgb(255, 255, 255)",e.CoreNeutral1="rgb(249, 250, 255)",e.CoreNeutral10="rgb(240, 242, 252)",e.CoreNeutral20="rgb(231, 233, 245)",e.CoreNeutral30="rgb(198, 203, 222)",e.CoreNeutral40="rgb(159, 166, 191)",e.CoreNeutral50="rgb(109, 117, 141)",e.CoreNeutral60="rgb(77, 83, 110)",e.CoreNeutral70="rgb(51, 57, 84)",e.CoreNeutral80="rgb(31, 36, 60)",e.CoreNeutral90="rgb(14, 16, 26)",e.CoreGreen1="rgb(235, 255, 250)",e.CoreGreen10="rgb(215, 247, 240)",e.CoreGreen20="rgb(170, 242, 225)",e.CoreGreen30="rgb(135, 232, 209)",e.CoreGreen40="rgb(65, 217, 181)",e.CoreGreen50="rgb(21, 195, 154)",e.CoreGreen60="rgb(17, 166, 131)",e.CoreGreen70="rgb(13, 128, 101)",e.CoreBlue1="rgb(237, 245, 255)",e.CoreBlue10="rgb(219, 235, 255)",e.CoreBlue20="rgb(153, 194, 255)",e.CoreBlue30="rgb(121, 168, 242)",e.CoreBlue40="rgb(99, 142, 235)",e.CoreBlue50="rgb(74, 110, 224)",e.CoreBlue60="rgb(54, 89, 181)",e.CoreRed1="rgb(253, 240, 243)",e.CoreRed10="rgb(255, 219, 227)",e.CoreRed20="rgb(255, 153, 171)",e.CoreRed30="rgb(242, 115, 136)",e.CoreRed40="rgb(238, 68, 95)",e.CoreRed50="rgb(234, 21, 55)",e.CoreRed60="rgb(206, 19, 49)",e.CoreYellow1="rgb(255, 248, 236)",e.CoreYellow10="rgb(255, 241, 212)",e.CoreYellow20="rgb(255, 223, 128)",e.CoreYellow30="rgb(255, 201, 64)",e.CoreYellow40="rgb(255, 182, 26)",e.CoreYellow50="rgb(255, 166, 0)",e.CoreYellow60="rgb(242, 145, 0)",e.CoreYellow70="rgb(187, 110, 0)",e.CoreYellow80="rgb(140, 84, 4)",e.CorePurple1="rgb(249, 240, 255)",e.CorePurple10="rgb(242, 224, 255)",e.CorePurple20="rgb(211, 161, 247)",e.CorePurple30="rgb(189, 121, 237)",e.CorePurple40="rgb(169, 99, 218)",e.CorePurple50="rgb(143, 77, 191)",e.CorePurple60="rgb(126, 61, 173)",e.CoreCyan1="rgb(237, 254, 255)",e.CoreCyan10="rgb(219, 252, 255)",e.CoreCyan20="rgb(147, 237, 245)",e.CoreCyan30="rgb(117, 225, 235)",e.CoreCyan40="rgb(77, 208, 219)",e.CoreCyan50="rgb(40, 186, 199)",e.CoreCyan60="rgb(9, 164, 178)"}(Bl||(Bl={})),function(e){e.BadgeY=0,e.BadgeX=.25,e.ButtonOutcomeY=.3125,e.ButtonOutcomeX=.5,e.ButtonPrimaryX=.5}(jl||(jl={})),function(e){e.Badge="3px"}(Hl||(Hl={})),function(e){e.ButtonSelectionRight="1px"}(Ul||(Ul={})),function(e){e.H1Size=1.75,e.H1Color="rgb(14, 16, 26)",e.H1LetterSpacing="-0.07px",e.H1LineHeight=2,e.H1Weight=700,e.H2Size=1.5,e.H2Color="rgb(14, 16, 26)",e.H2LetterSpacing="-0.048000000715255745px",e.H2LineHeight=2,e.H2Weight=700,e.H3Size=1.25,e.H3Color="rgb(14, 16, 26)",e.H3LetterSpacing=0,e.H3LineHeight=1.5,e.H3Weight=700,e.H4Size=1,e.H4Color="rgb(14, 16, 26)",e.H4LetterSpacing=0,e.H4LineHeight=1.5,e.H4Weight=700,e.SubheadingSize=.625,e.SubheadingColor="rgb(77, 83, 110)",e.SubheadingLetterSpacing="0.4px",e.SubheadingLineHeight=1,e.SubheadingWeight=400,e.BodySize=.875,e.BodyColor="rgb(14, 16, 26)",e.BodyLetterSpacing=0,e.BodyLineHeight=1.5,e.BodyWeight=400,e.ButtonSize=.875,e.ButtonColor="rgb(74, 110, 224)",e.ButtonLetterSpacing=0,e.ButtonLineHeight=2,e.ButtonWeight=700,e.ButtonTextTransform="none",e.SmallSize=.75,e.SmallColor="rgb(14, 16, 26)",e.SmallLetterSpacing=0,e.SmallLineHeight=1.125,e.SmallWeight=400,e.PaperSize=1.0625,e.PaperColor="rgb(14, 16, 26)",e.PaperLetterSpacing=0,e.PaperLineHeight=2,e.PaperWeight=400,e.ScoreSize=1.125,e.ScoreColor="rgba(0, 0, 0, 1)",e.ScoreLetterSpacing=0,e.ScoreLineHeight=1.25,e.ScoreWeight=700,e.SmallLightSize=.75,e.SmallLightColor="rgba(14, 16, 26, 1)",e.SmallLightLetterSpacing=0,e.SmallLightLineHeight=1.125,e.SmallLightWeight=300,e.NewSuccessDescriptionSize=.75,e.NewSuccessDescriptionColor="rgba(14, 16, 26, 1)",e.NewSuccessDescriptionLetterSpacing=0,e.NewSuccessDescriptionLineHeight=1.125,e.NewSuccessDescriptionWeight=400}(Vl||(Vl={})),function(e){e.Z100="0px 1px 8px rgba(109, 117, 141, 0.18000000715255737)",e.Z200="0px 4px 16px rgba(109, 117, 141, 0.20000000298023224)",e.Z300="0px 12px 48px rgba(109, 117, 141, 0.20000000298023224)"}(Wl||(Wl={})),function(e){e.Reload=function(){return d("svg",{width:"32",viewBox:"0 0 32 32"},d("path",{fill:"none",d:"M14.5 11.393A5.428 5.428 0 0011 16.5a5.502 5.502 0 003.536 5.139m3.928-10.246C20.532 12.183 22 14.154 22 16.5a5.475 5.475 0 01-3.506 5.139M11.5 11h3v3m7 8h-3v-3"}))},e.Collapse=function(){return d("svg",{width:"32",viewBox:"0 0 32 32"},d("path",{fill:"none",d:"M11.5 7.5L16 12l4.5-4.5m-9 17L16 20l4.5 4.5",strokeLinecap:"round"}))},e.MoreVertical=function(){return d("svg",{width:"32",viewBox:"0 0 32 32"},d("path",{d:"M17.5 16a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM17.5 22a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM17.5 10a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",strokeWidth:"0"}))}}(Gl||(Gl={}));var Kl=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,Yl=/^(\-?\d+\.?\d{0,5})/,Ql=function(e){return function(t){return t+e}},Jl=parseFloat;function Zl(e){return"number"==typeof e?e:.01*Jl(e)}function Xl(e){return ef(100*e)+"%"}function ef(e){return Yl.exec(e.toString())[1]}var tf,nf=Ql("%"),rf=Ql("px"),of=Math.round;function af(e,t){return of(e*t)/t}var sf="rgb",uf="hsl",cf=((tf={}).rgbhsl=function(e,t,n,r,i){var o,a,s=e/255,u=t/255,c=n/255,l=Math.min(s,u,c),f=Math.max(s,u,c),d=(l+f)/2,h=f-l;o=f===l?0:s===f?(u-c)/h:u===f?2+(c-s)/h:c===f?4+(s-u)/h:0;(o=Math.min(60*o,360))<0&&(o+=360);a=f===l?0:d<=.5?h/(f+l):h/(2-f-l);return new pf(uf,o,a,d,r,i)},tf.hslrgb=function(e,t,n,r,i){var o=e/360,a=t,s=n;if(0===a){return new pf(sf,g=255*s,g,g,r,i)}for(var u=s<.5?s*(1+a):s+a-s*a,c=2*s-u,l=0,f=0,d=0,h=0;h<3;h++){var p=o+1/3*-(h-1);p<0&&p++,p>1&&p--;var g=void 0;g=6*p<1?c+6*(u-c)*p:2*p<1?u:3*p<2?c+(u-c)*(2/3-p)*6:c,g*=255,0===h?l=g:1===h?f=g:d=g}return new pf(sf,l,f,d,r,i)},tf),lf={r:255,g:255,b:255,h:360,s:1,l:1,a:1};function ff(e){return function(e){var t=e.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(!t)return;var n=t[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new pf(sf,r>>16&255,r>>8&255,255&r,1,!1)}(e)||function(e){var t=function(e){var t=Kl.exec(e);if(t&&t.length)return[t[1]].concat(t[2].split(","))}(e);if(!t||4!==t.length&&5!==t.length)return;var n,r=t[0],i="rgba"===r,o="hsla"===r,a=r===sf,s=r===uf,u=o||i;if(a||i)n=sf;else{if(!s&&!o)throw new Error("unsupported color string");n=uf}var c=Jl(t[1]),l=a||i?Jl(t[2]):Zl(t[2]),f=a||i?Jl(t[3]):Zl(t[3]),d=u?Jl(t[4]):1;return new pf(n,c,l,f,d,u)}(e)||df(255,0,0)}function df(e,t,n,r){return new pf(sf,e,t,n,void 0===r?1:Zl(r),void 0!==r)}function hf(e,t,n){var r=t.f,i=t.r,o=t.g,a=t.b,s=t.a,u=void 0===n?t.o:n;return r!==e?cf[r+e](i,o,a,s,u):void 0===n?t:new pf(r,i,o,a,s,u)}var pf=function(){function e(e,t,n,r,i,o){var a=this;a.f=e,a.o=o;var s=e===uf;a.r=mf(s?"h":"r",t),a.g=mf(s?"s":"g",n),a.b=mf(s?"l":"b",r),a.a=mf("a",i)}return e.prototype.toString=function(){var e,t,n=this,r=n.o,i=n.f,o=n.r,a=n.g,s=n.b,u=n.a;if(i===sf)e=r?"rgba":sf,t=[of(o),of(a),of(s)];else{if(i!==uf)throw new Error("Invalid color format");e=r?"hsla":uf,t=[of(o),Xl(af(a,100)),Xl(af(s,100))]}return r&&t.push(ef(af(u,1e5))),function(e,t){return e+"("+Array.prototype.join.call(t,", ")+")"}(e,t)},e.prototype.toHexString=function(){var e=hf(sf,this);return"#"+(gf(e.r)+gf(e.g)+gf(e.b)).toUpperCase()},e.prototype.toHSL=function(){return hf(uf,this,!1)},e.prototype.toHSLA=function(){return hf(uf,this,!0)},e.prototype.toRGB=function(){return hf(sf,this,!1)},e.prototype.toRGBA=function(){return hf(sf,this,!0)},e.prototype.red=function(){var e=this;return(e.f===sf?e:e.toRGB()).r},e.prototype.green=function(){var e=this;return(e.f===sf?e:e.toRGB()).g},e.prototype.blue=function(){var e=this;return(e.f===sf?e:e.toRGB()).b},e.prototype.hue=function(){var e=this;return(e.f===uf?e:e.toHSL()).r},e.prototype.saturation=function(){var e=this;return(e.f===uf?e:e.toHSL()).g},e.prototype.lightness=function(){var e=this;return(e.f===uf?e:e.toHSL()).b},e.prototype.alpha=function(){return this.a},e.prototype.opacity=function(){return this.a},e.prototype.invert=function(){var t=this,n=hf(sf,t);return hf(t.f,new e(sf,255-n.r,255-n.g,255-n.b,t.a,t.o))},e.prototype.lighten=function(t,n){var r=this,i=hf(uf,r),o=lf.l,a=i.b+(n?o-i.b:o)*Zl(t);return hf(r.f,new e(uf,i.r,i.g,a,r.a,r.o))},e.prototype.darken=function(t,n){var r=this,i=hf(uf,r),o=i.b-(n?i.b:lf.l)*Zl(t);return hf(r.f,new e(uf,i.r,i.g,o,r.a,r.o))},e.prototype.saturate=function(t,n){var r=this,i=hf(uf,r),o=lf.s,a=i.g+(n?o-i.g:o)*Zl(t);return hf(r.f,new e(uf,i.r,a,i.b,r.a,r.o))},e.prototype.desaturate=function(t,n){var r=this,i=hf(uf,r),o=lf.s,a=i.g-(n?i.g:o)*Zl(t);return hf(r.f,new e(uf,i.r,a,i.b,r.a,r.o))},e.prototype.grayscale=function(){return this.desaturate(1)},e.prototype.fade=function(t){var n=this,r=mf("a",Zl(t));return hf(n.f,new e(n.f,n.r,n.g,n.b,r,!0))},e.prototype.fadeOut=function(t,n){var r=this,i=mf("a",r.a-(n?r.a:1)*Zl(t));return hf(r.f,new e(r.f,r.r,r.g,r.b,i,!0))},e.prototype.fadeIn=function(t,n){var r=this,i=mf("a",r.a+(n?r.a:1)*Zl(t));return hf(r.f,new e(r.f,r.r,r.g,r.b,i,!0))},e.prototype.mix=function(t,n){var r=vf(t),i=hf(sf,this),o=hf(sf,r),a=void 0===n?.5:n,s=2*a-1,u=Math.abs(i.a-o.a),c=((s*u==-1?s:(s+u)/(1+s*u))+1)/2,l=1-c,f=new e(sf,of(i.r*c+o.r*l),of(i.g*c+o.g*l),of(i.b*c+o.b*l),i.a*a+o.a*(1-a),this.o||r.o);return hf(this.f,f)},e.prototype.tint=function(e){return df(255,255,255).mix(this,e)},e.prototype.shade=function(e){return df(0,0,0).mix(this,e)},e.prototype.spin=function(t){var n,r=this,i=hf(uf,r);return hf(r.f,new e(uf,(((n=i.r+t)<0?360:0)+n%360)%360,i.g,i.b,r.a,r.o))},e}();function gf(e){var t=of(e);return(t<16?"0":"")+t.toString(16)}function mf(e,t){var n=lf[e];return t<0?0:t>n?n:t}function vf(e){return e instanceof pf?e:ff(e)}var yf=ma((function(e,t){var n,r=ga&&ga.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var o=/[A-Z]/g,a=/^ms-/,s=/&/g,u=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,c=function(e){return"-"+e.toLowerCase()},l=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],f=Object.create(null),d=0,h=["-webkit-","-ms-","-moz-","-o-",""];d<h.length;d++)for(var p=h[d],g=0,m=l;g<m.length;g++){f[p+m[g]]=!0}function v(e){return e.replace(o,c).replace(a,"-ms-")}function y(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function _(e,t){return"number"!=typeof t||0===t||f[e]?e+":"+t:e+":"+t+"px"}function b(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function w(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return _(t,e)})).join(";"):_(t,n)})).join(";")}function S(e,t){return e.indexOf("&")>-1?e.replace(s,t):t+" "+e}function x(e,n,r,o,a){var s=function(e,n){for(var r=[],i=[],o=!1,a=0,s=Object.keys(e);a<s.length;a++){var u=s[a],c=e[u];null!=c&&(u===t.IS_UNIQUE?o=!0:"object"!=typeof c||Array.isArray(c)?r.push([v(u.trim()),c]):i.push([u.trim(),c]))}return{styleString:w(b(r)),nestedStyles:n?i:b(i),isUnique:o}}(r,!!n),u=s.styleString,c=s.nestedStyles,l=s.isUnique,f=u;if(64===n.charCodeAt(0)){var d=e.add(new N(n,a?void 0:u,e.hash));if(u&&a){var h=d.add(new O(u,d.hash,l?"u"+(++i).toString(36):void 0));o.push([a,h])}for(var p=0,g=c;p<g.length;p++){var m=g[p];f+=(C=m[0])+x(d,C,m[1],o,a)}}else{var y=a?S(n,a):n;if(u){h=e.add(new O(u,e.hash,l?"u"+(++i).toString(36):void 0));o.push([y,h])}for(var _=0,E=c;_<E.length;_++){var C,k=E[_];f+=(C=k[0])+x(e,C,k[1],o,y)}}return f}function E(e,n,r,i,o){for(var a=new T(e.hash),s=[],u=x(a,n,r,s),c="f"+a.hash(u),l=o?o+"_"+c:c,f=0,d=s;f<d.length;f++){var h=d[f],p=h[0],g=h[1],m=i?S(p,"."+t.escape(l)):p;g.add(new I(m,g.hash,void 0,u))}return{cache:a,pid:u,id:l}}function C(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(u,"\\$&")},t.hyphenate=v,t.stringHash=y;var k={add:function(){},change:function(){},remove:function(){}},T=function(){function e(e,t){void 0===e&&(e=y),void 0===t&&(t=k),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+r.getStyles());var i=this._keys.indexOf(t.id),o=this._keys.length-1,a=this.changeId;if(i!==o&&(this._keys.splice(i,1),this._keys.push(t.id),this.changeId++),r instanceof e&&t instanceof e){var s=r.changeId;r.merge(t),r.changeId!==s&&this.changeId++}this.changeId!==a&&(i===o?this.sheet.splice(i,1,r.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(o,0,r.getStyles())),this.changes.change(r,i,o))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var r=this._children[t.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof e&&t instanceof e){var o=r.changeId;r.unmerge(t),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.add(e._children[r])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.remove(e._children[r])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=T;var I=function(){function e(e,t,n,r){void 0===n&&(n="s"+t(e)),void 0===r&&(r=""),this.selector=e,this.hash=t,this.id=n,this.pid=r}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=I;var O=function(e){function t(t,n,r){void 0===r&&(r="c"+n(t));var i=e.call(this,n)||this;return i.style=t,i.hash=n,i.id=r,i}return r(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(T);t.Style=O;var N=function(e){function t(t,n,r,i,o){void 0===n&&(n=""),void 0===i&&(i="a"+r(t+"."+n)),void 0===o&&(o="");var a=e.call(this,r)||this;return a.rule=t,a.style=n,a.hash=r,a.id=i,a.pid=o,a}return r(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+C(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(T);t.Rule=N;var A=function(e){function n(t,n,r,o){void 0===t&&(t=y),void 0===n&&(n="undefined"!=typeof process&&"production"!=="production"),void 0===r&&(r="f"+(++i).toString(36));var a=e.call(this,t,o)||this;return a.hash=t,a.debug=n,a.id=r,a}return r(n,e),n.prototype.registerStyle=function(e,t){var n=E(this,"&",e,!0,this.debug?t:void 0),r=n.cache,i=n.id;return this.merge(r),i},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,r){var i=E(this,"",n,!1,this.debug?r:void 0),o=i.cache,a=i.pid,s=i.id,u=new N(e+" "+t.escape(s),void 0,this.hash,void 0,a);return this.add(u.merge(o)),s},n.prototype.registerRule=function(e,t){this.merge(E(this,e,t,!1).cache)},n.prototype.registerCss=function(e){this.merge(E(this,"",e,!1).cache)},n.prototype.getStyles=function(){return C(this.sheet)},n.prototype.getIdentifier=function(){return this.id},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(T);t.FreeStyle=A,t.create=function(e,t,n){return new A(e,t,void 0,n)}}));function _f(e){var t={},n="";for(var r in e){var i=e[r];if("$unique"===r)t[yf.IS_UNIQUE]=i;else if("$nest"===r){var o=i;for(var a in o){var s=o[a];t[a]=_f(s).result}}else"$debugName"===r?n=i:t[r]=i}return{result:t,debugName:n}}var bf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function wf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];if(null!=o&&!1!==o)for(var a in o){var s=o[a];(s||0===s)&&("$nest"===a&&s?n[a]=n.$nest?wf(n.$nest,s):s:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?wf(n[a],s):s:n[a]=s)}}return n}var Sf=function(e){return"string"==typeof e?e:e+"px"},xf=function(){return yf.create(void 0,!0)},Ef=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=_f(wf.apply(void 0,t)).result;n._freeStyle.registerRule(e,i),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,i=0,o=e;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}(e),r=t.keyframes,i=t.$debugName,o=n._freeStyle.registerKeyframes(r,i);return n._styleUpdated(),o},this.reinit=function(){var e=xf();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t={},r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++){var o=i[r],a=e[o];a&&(a.$debugName=o,t[o]=n.style(a))}return t};var r=xf();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;bf((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle,t=_f(wf.apply(void 0,arguments)),n=t.result,r=t.debugName,i=r?e.registerStyle(n,r):e.registerStyle(n);return this._styleUpdated(),i},e}(),Cf=Object.freeze({__proto__:null}),kf=new Ef({autoGenerateTag:!0}),Tf=kf.setStylesTarget,If=kf.cssRaw,Of=kf.cssRule,Nf=kf.forceRenderStyles,Af=kf.fontFace,Rf=kf.getStyles,Pf=kf.keyframes,Lf=kf.reinit,Mf=kf.style,Df=kf.stylesheet;var Ff,zf=Object.freeze({__proto__:null,TypeStyle:Ef,types:Cf,setStylesTarget:Tf,cssRaw:If,cssRule:Of,forceRenderStyles:Nf,fontFace:Af,getStyles:Rf,keyframes:Pf,reinit:Lf,style:Mf,stylesheet:Df,createTypeStyle:function(e){var t=new Ef({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t},extend:wf,classes:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")},media:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[];e.type&&r.push(e.type),e.orientation&&r.push("(orientation: "+e.orientation+")"),e.minWidth&&r.push("(min-width: "+Sf(e.minWidth)+")"),e.maxWidth&&r.push("(max-width: "+Sf(e.maxWidth)+")"),e.minHeight&&r.push("(min-height: "+Sf(e.minHeight)+")"),e.maxHeight&&r.push("(max-height: "+Sf(e.maxHeight)+")");var i,o="@media "+r.join(" and "),a={$nest:(i={},i[o]=wf.apply(void 0,t),i)};return a}});!function(e){e.stylesheet=function(e){return tr(e,ws((function(e,t){return Mf.apply(zf,er(t,[{$debugName:e}]))})))},e.prefixedStylesheet=function(e,t){return tr(t,ws((function(t,n){return Mf.apply(zf,er(n,[{$debugName:e+"-"+t}]))})))},e.percent=nf,e.px=rf,e.important=$l,e.color=ff,e.style=Mf,e.keyframes=Pf,e.cssRule=Of,e.setStylesTarget=Tf,e.fontFace=Af,e.rem=function(e){return"calc("+e+"px * var(--rem))"},e.joinClasses=function(e){return e.join(" ")},e.seconds=function(e){return e+"s"}}(Ff||(Ff={}));var Bf,jf,Hf,Uf=.25;function Vf(e,t){return function(n,r){return t(n(e(r)),r)}}function Wf(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Gf(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function qf(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}!function(e){e.optic=function(e,t){return{get:e,set:t,modify:Vf(e,t)}}}(Bf||(Bf={})),function(e){e.create=function e(t,n){return{get:t,set:n,modify:Vf(t,n),compose:function(r){return e((function(e){var n=t(e);return void 0!==n?r.get(n):void 0}),(function(e,i){var o=t(i);return void 0!==o?n(r.set(e,o),i):i}))}}}}(jf||(jf={})),function(e){function t(e,n){return{get:e,set:n,modify:Vf(e,n),compose:function(r){return t((function(t){return r.get(e(t))}),(function(t,i){return n(r.set(t,e(i)),i)}))}}}e.create=t,e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];var n=e[0];return e.slice(1).forEach((function(e){n=n.compose(e)})),n};var n=t((function(e){return e}),(function(e,t){return e}));e.identity=function(){return n};var r=jf.create((function(e){}),(function(e,t){return t}));e.nothing=function(){return r}}(Hf||(Hf={}));var $f,Kf,Yf,Qf,Jf=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return Gf("callee",e)}}(),Zf=($f=!{toString:null}.propertyIsEnumerable("toString"),Kf=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Yf=function(){return arguments.propertyIsEnumerable("length")}(),Qf=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},"function"!=typeof Object.keys||Yf?function(e){if(Object(e)!==e)return[];var t,n,r=[],i=Yf&&Jf(e);for(t in e)!Gf(t,e)||i&&"length"===t||(r[r.length]=t);if($f)for(n=Kf.length-1;n>=0;)Gf(t=Kf[n],e)&&!Qf(r,t)&&(r[r.length]=t),n-=1;return r}:function(e){return Object(e)!==e?[]:Object.keys(e)});function Xf(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function ed(e,t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),qf(e,t))return!0;if(Xf(e)!==Xf(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(Xf(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!qf(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!qf(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!ed(Wf(e.entries()),Wf(t.entries()),n,r))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i,o,a=Zf(e);if(a.length!==Zf(t).length)return!1;for(var s=n.length-1;s>=0;){if(n[s]===e)return r[s]===t;s-=1}for(n.push(e),r.push(t),s=a.length-1;s>=0;){var u=a[s];if(!Gf(u,t)||!ed(t[u],e[u],n,r))return!1;s-=1}return n.pop(),r.pop(),!0}var td="undefined"!=typeof process&&!1;function nd(e,t,n){if(e in n&&ed(t,n[e]))return n;var r={};for(var i in n)r[i]=n[i];return r[e]=t,r}function rd(e){return function(t,n){return function(e,t){return ed(e,t)?t:e}(e(t,n),n)}}function id(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}}function od(e){return"string"==typeof e?e:void 0!==e.displayName?e.displayName:void 0!==e.name?e.name:e.constructor&&void 0!==e.constructor.name?e.constructor.name:void 0}var ad=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function sd(e){return function(e){var t=ad,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError('Expected a property expression, got "'+e+'".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"')}(e.toString())}function ud(e){return void 0===e?function(e){return Hf.create((function(t){return t[e]}),(function(t,n){return nd(e,t,n)}))}:Hf.create((function(t){return t[e]}),(function(t,n){return nd(e,t,n)}))}var cd=0;Hf.key=ud,Hf.prop=function(e){var t=sd(e);return td&&function(e){if(cd<10){cd++;var t="x."+e.join("."),n="'"+e.join("', '")+"'";id("The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => "+t+") to a.lens("+n+"),\n  Lens.prop((x: T) => "+t+") to Lens.key<T>()("+n+").")}}(t),Hf.compose.apply(Hf,t.map(ud()))},Hf.index=function(e){if(e<0)throw new TypeError(e+" is not a valid array index, expected >= 0");return jf.create((function(t){return t[e]}),(function(t,n){return n.length<=e?n.concat(Array(e-n.length),[t]):ed(t,n[e])?n:n.slice(0,e).concat([t],n.slice(e+1))}))},Hf.withDefault=function(e){return Hf.replace(void 0,e)},Hf.replace=function(e,t){return Hf.create((function(n){return ed(n,e)?t:n}),rd((function(n){return ed(n,t)?e:n})))},Hf.find=function(e){return t=function(t){var n=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(t,e);return n<0?Hf.nothing():Hf.index(n)},Hf.create((function(e){return t(e).get(e)}),(function(e,n){return t(n).set(e,n)}));var t};var ld=function(e,t){return(ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function fd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ld(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function dd(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function hd(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function pd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function md(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function vd(e){return this instanceof vd?(this.v=e,this):new vd(e)}function yd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof vd?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=pd(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function bd(e){return"function"==typeof e}function wd(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Sd=wd((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function xd(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ed=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=pd(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(bd(u))try{u()}catch(e){i=e instanceof Sd?e.errors:[e]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var l=pd(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{Td(d)}catch(e){i=null!=i?i:[],e instanceof Sd?i=md(md([],gd(i)),gd(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new Sd(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Td(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&xd(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&xd(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Cd=Ed.EMPTY;function kd(e){return e instanceof Ed||e&&"closed"in e&&bd(e.remove)&&bd(e.add)&&bd(e.unsubscribe)}function Td(e){bd(e)?e():e.unsubscribe()}var Id={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Od={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return setTimeout.apply(void 0,md([],gd(e)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)})),delegate:void 0};function Nd(e){Od.setTimeout((function(){throw e}))}function Ad(){}function Rd(e){e()}var Pd=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,kd(t)&&t.add(n)):n.destination=Fd,n}return fd(t,e),t.create=function(e,t,n){return new Ld(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ed),Ld=function(e){function t(t,n,r){var i,o=e.call(this)||this;if(bd(t))i=t;else if(t){var a;i=t.next,n=t.error,r=t.complete,o&&Id.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()}:a=t,i=null==i?void 0:i.bind(a),n=null==n?void 0:n.bind(a),r=null==r?void 0:r.bind(a)}return o.destination={next:i?Md(i):Ad,error:Md(null!=n?n:Dd),complete:r?Md(r):Ad},o}return fd(t,e),t}(Pd);function Md(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,md([],gd(t)))}catch(e){Nd(e)}}}function Dd(e){throw e}var Fd={closed:!0,next:Ad,error:Dd,complete:Ad},zd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bd(e){return e}function jd(e){return 0===e.length?Bd:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Hd=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof Pd||function(e){return e&&bd(e.next)&&bd(e.error)&&bd(e.complete)}(r)&&kd(r)?e:new Ld(e,t,n);return Rd((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Ud(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==i||i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[zd]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jd(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ud(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Ud(e){var t;return null!==(t=null!=e?e:Id.Promise)&&void 0!==t?t:Promise}function Vd(e){return function(t){if(function(e){return bd(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Wd=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return fd(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(Pd),Gd=wd((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),qd=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return fd(t,e),t.prototype.lift=function(e){var t=new $d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Gd},t.prototype.next=function(e){var t=this;Rd((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var o=pd(i),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Rd((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Rd((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,i=t.observers;return n||r?Cd:(i.push(e),new Ed((function(){return xd(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new Hd;return e.source=this,e},t.create=function(e,t){return new $d(e,t)},t}(Hd),$d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return fd(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Cd},t}(qd),Kd=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return fd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(qd),Yd=new Hd((function(e){return e.complete()}));function Qd(e){return e[e.length-1]}function Jd(e){return bd(Qd(e))?e.pop():void 0}function Zd(e){return(t=Qd(e))&&bd(t.schedule)?e.pop():void 0;var t}var Xd=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function eh(e){return bd(null==e?void 0:e.then)}function th(e){return bd(e[zd])}function nh(e){return Symbol.asyncIterator&&bd(null==e?void 0:e[Symbol.asyncIterator])}function rh(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ih="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function oh(e){return bd(null==e?void 0:e[ih])}function ah(e){return yd(this,arguments,(function(){var t,n,r;return hd(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,vd(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,vd(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,vd(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function sh(e){return bd(null==e?void 0:e.getReader)}function uh(e){if(e instanceof Hd)return e;if(null!=e){if(th(e))return r=e,new Hd((function(e){var t=r[zd]();if(bd(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Xd(e))return function(e){return new Hd((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(eh(e))return n=e,new Hd((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Nd)}));if(nh(e))return ch(e);if(oh(e))return t=e,new Hd((function(e){var n,r;try{for(var i=pd(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(sh(e))return ch(ah(e))}var t,n,r;throw rh(e)}function ch(e){return new Hd((function(t){(function(e,t){var n,r,i,o;return dd(this,void 0,void 0,(function(){var a,s;return hd(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=_d(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function lh(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function fh(e,t){return void 0===t&&(t=0),Vd((function(n,r){n.subscribe(new Wd(r,(function(n){return lh(r,e,(function(){return r.next(n)}),t)}),(function(){return lh(r,e,(function(){return r.complete()}),t)}),(function(n){return lh(r,e,(function(){return r.error(n)}),t)})))}))}function dh(e,t){return void 0===t&&(t=0),Vd((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function hh(e,t){if(!e)throw new Error("Iterable cannot be null");return new Hd((function(n){lh(n,t,(function(){var r=e[Symbol.asyncIterator]();lh(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ph(e,t){if(null!=e){if(th(e))return function(e,t){return uh(e).pipe(dh(t),fh(t))}(e,t);if(Xd(e))return function(e,t){return new Hd((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(eh(e))return function(e,t){return uh(e).pipe(dh(t),fh(t))}(e,t);if(nh(e))return hh(e,t);if(oh(e))return function(e,t){return new Hd((function(n){var r;return lh(n,t,(function(){r=e[ih](),lh(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return bd(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(sh(e))return function(e,t){return hh(ah(e),t)}(e,t)}throw rh(e)}function gh(e,t){return t?ph(e,t):uh(e)}function mh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zd(e);return gh(e,n)}var vh=Array.isArray;function yh(e){return t=function(t){return function(e,t){return vh(t)?e.apply(void 0,md([],gd(t))):e(t)}(e,t)},Vd((function(e,r){var i=0;e.subscribe(new Wd(r,(function(e){r.next(t.call(n,e,i++))})))}));var t,n}var _h=Array.isArray,bh=Object.getPrototypeOf,wh=Object.prototype,Sh=Object.keys;function xh(e){if(1===e.length){var t=e[0];if(_h(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&bh(r)===wh){var n=Sh(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function Eh(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function Ch(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zd(e),r=Jd(e),i=xh(e),o=i.args,a=i.keys;if(0===o.length)return gh([],n);var s=new Hd(kh(o,n,a?function(e){return Eh(a,e)}:Bd));return r?s.pipe(yh(r)):s}function kh(e,t,n){return void 0===n&&(n=Bd),function(r){Th(t,(function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(i){Th(t,(function(){var u=gh(e[i],t),c=!1;u.subscribe(new Wd(r,(function(e){o[i]=e,c||(c=!0,s--),s||r.next(n(o.slice()))}),(function(){--a||r.complete()})))}),r)},c=0;c<i;c++)u(c)}),r)}}function Th(e,t,n){e?lh(n,e,t):t()}function Ih(e){return e<=0?function(){return Yd}:Vd((function(t,n){var r=0;t.subscribe(new Wd(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Oh(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===t?(e(),null):!1===t?null:t.apply(void 0,md([],gd(n))).pipe(Ih(1)).subscribe((function(){return e()}))}var Nh,Ah,Rh=(Nh=function(e,t){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Nh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ph=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},Lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rh(t,e),t.prototype.view=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return void 0!==e[0]?"function"==typeof e[0]?new zh(this,e[0]):"string"==typeof e[0]?new zh(this,Hf.compose.apply(Hf,e.map(Hf.key())).get):new zh(this,(function(t){return e[0].get(t)})):this},t}(Kd),Mh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rh(t,e),t.prototype.set=function(e){this.modify((function(){return e}))},t.prototype.lens=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Fh(this,"function"==typeof e?Hf.prop(e):"string"==typeof e?Hf.compose.apply(Hf,Ph([Hf.key(e)],t.map((function(e){return Hf.key(e)})))):e,ed)},t}(Lh),Dh=function(e){function t(t){return e.call(this,t)||this}return Rh(t,e),t.prototype.get=function(){return this.getValue()},t.prototype.modify=function(e){var t=this.getValue(),n=e(t);ed(t,n)||this.next(n)},t.prototype.set=function(e){ed(this.getValue(),e)||this.next(e)},t}(Mh),Fh=function(e){function t(t,n,r){void 0===r&&(r=ed);var i=e.call(this,void 0)||this;return i._source=t,i._lens=n,i._eq=r,i._subscription=null,i._refCount=0,i}return Rh(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._lens.get(this._source.get())},t.prototype.modify=function(e){var t=this;this._source.modify((function(n){return t._lens.modify(e,n)}))},t.prototype.set=function(e){var t=this;this._source.modify((function(n){return t._lens.set(e,n)}))},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var r=new Ed((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(Mh),zh=function(e){function t(t,n,r){void 0===r&&(r=ed);var i=e.call(this,void 0)||this;return i._source=t,i._getter=n,i._eq=r,i._subscription=null,i._refCount=0,i}return Rh(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._getter(this._source.get())},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var r=new Ed((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(Lh),Bh=function(e){function t(t,n,r){void 0===r&&(r=ed);var i=e.call(this,void 0)||this;return i._sources=t,i._combineFn=n,i._eq=r,i._subscription=null,i._refCount=0,i}return Rh(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._combineFn(this._sources.map((function(e){return e.get()})))},t.prototype._onSourceValues=function(e){var t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=Ch(this._sources).subscribe((function(e){return n._onSourceValues(e)}))),this._refCount++;var r=new Ed((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(Lh);!function(e){e.create=function(e){return new Dh(e)},e.log=function(e,t){var n=function(e,t,n){return console.log("%c"+e,"color: "+t+"; font-weight: bold",n)},r=e.get();return e.subscribe((function(e){"function"==typeof t?t(r,e):(console.group("UPDATE "+(t?"TYPE: "+t+" ":"")+"@ "+(new Date).toTimeString()),n("prev state","#9E9E9E",r),n("next state","#4CAF50",e),console.groupEnd()),r=e})),e},e.combine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bh(e.slice(void 0,-1),(function(t){return e[e.length-1].apply(e,t)}))},e.fromObservable=function(t){var n,r,i,o,a=new Kd(null),s=t.pipe((o=bd(n=function(t){var n=a.value;null===n?a.next(e.create(t)):n.set(t)})||r||i?{next:n,error:r,complete:i}:n)?Vd((function(e,t){var n;null===(n=o.subscribe)||void 0===n||n.call(o);var r=!0;e.subscribe(new Wd(t,(function(e){var n;null===(n=o.next)||void 0===n||n.call(o,e),t.next(e)}),(function(){var e;r=!1,null===(e=o.complete)||void 0===e||e.call(o),t.complete()}),(function(e){var n;r=!1,null===(n=o.error)||void 0===n||n.call(o,e),t.error(e)}),(function(){var e,t;r&&(null===(e=o.unsubscribe)||void 0===e||e.call(o)),null===(t=o.finalize)||void 0===t||t.call(o)})))})):Bd,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new qd}:t,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,a=void 0===o||o,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t=null,r=null,o=null,s=0,c=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=null},d=function(){f(),t=o=null,c=l=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return Vd((function(e,p){s++,l||c||f();var g=o=null!=o?o:n();p.add((function(){0!=--s||l||c||(r=Oh(h,u))})),g.subscribe(p),t||(t=new Ld({next:function(e){return g.next(e)},error:function(e){l=!0,f(),r=Oh(d,i,e),g.error(e)},complete:function(){c=!0,f(),r=Oh(d,a),g.complete()}}),gh(e).subscribe(t))}))(e)}}());return new Hd((function(e){var t=new Ed;return t.add(a.pipe(function(e,t){return Vd((function(n,r){var i=0;n.subscribe(new Wd(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}((function(e){return!!e}))).subscribe(e)),t.add(s.subscribe(void 0,(function(t){return e.error(t)}),(function(){return e.complete()}))),t}))}}(Ah||(Ah={}));var jh,Hh=(jh=function(e,t){return(jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}jh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Uh=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=t._initState,n}return Hh(t,e),t.prototype.render=function(){return this.state.renderCache||null},t.prototype._subscribe=function(e){var t=e.props,n=e.component,r=0;switch(Gh(t,(function(){return r+=1})),r){case 0:this.setState({subscription:null,renderCache:qh(n,t)});break;case 1:new Qh(this,e);break;default:new Jh(this,e,r)}},t.prototype._unsubscribe=function(){var e=this.state?this.state.subscription:null;e&&e.unsubscribe()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._unsubscribe(),this._subscribe(e)},t.prototype.UNSAFE_componentWillMount=function(){this._unsubscribe(),this._subscribe(this.props)},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.setState(t._initState)},t.prototype.shouldComponentUpdate=function(e,t,n){return t.renderCache!==this.state.renderCache},t._initState={renderCache:null,subscription:null},t._endState={subscription:null},t}(r),Vh="children",Wh="style";function Gh(e,t){for(var n in e){var r=e[n];if(r instanceof Hd)t(r);else if(Vh===n&&r instanceof Array)for(var i=r.length,o=0;o<i;++o){var a=r[o];a instanceof Hd&&t(a)}else if(Wh===n)for(var s in r){var u=r[s];u instanceof Hd&&t(u)}}}function qh(e,t,n){void 0===n&&(n=[]);var r,o={},a=-1;for(var s in t){var u=t[s],c=s===Vh,l="forwardRef"===s||"mount"===s,f=s===Wh;if(u instanceof Hd){var h=n[++a];c?r=h:l?o.ref=h:o[s]=h}else if(c){if(u instanceof Array)for(var p=u.length,g=0;g<p;++g){if(u[g]instanceof Hd){if(!r){r=Array(u.length);for(var m=0;m<g;++m)r[m]=u[m]}var v=n[++a];r[g]=!v||v.key?v:d(i,{key:g},v)}else r&&(r[g]=u[g])}r=r||u}else if(l)o.ref=u;else if(f){var y=void 0;for(var g in u){var _=u[g];if(_ instanceof Hd){if(!y)for(var m in y={},u){if(m===g)break;y[m]=u[m]}y[g]=n[++a]}else y&&(y[g]=_)}o.style=y||u}else o[s]=u}return d(e,o,void 0===r?null:r)}var $h=function(){function e(e,t){this.state=e,this.props=t}return e.prototype.setState=function(e){var t="function"==typeof e?e(this.state):e;"subscription"in t&&(this.state.subscription=t.subscription),"renderCache"in t&&(this.state.renderCache=t.renderCache)},e}(),Kh=function(e){throw e};function Yh(e){id((e?"The component <"+e+">":"An unnamed component")+" has received an observable that doesn't immediately emit a value in one of its props. Since this observable hasn't yet called its subscription handler, the component can not be rendered at the time. Check the props of "+(e?"<"+e+">":"this component")+".")}var Qh=function(){function e(e,t){var n=this;this._innerSubscription=null,this._receivedValue=!1;var r={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new $h(r,t),Gh(t.props,(function(e){n._innerSubscription=e.subscribe((function(e){return n._handleValue(e)}),Kh,(function(){return n._handleCompleted()})),n._innerSubscription&&n._innerSubscription.closed&&(n._innerSubscription=null)})),td&&!this._receivedValue&&Yh(od(this._liftedComponent.props.component)),this._liftedComponent=e,e.setState(r)}return e.prototype.unsubscribe=function(){this._innerSubscription&&this._innerSubscription.unsubscribe()},e.prototype._handleValue=function(e){td&&(this._receivedValue=!0);var t=this._liftedComponent,n=t.props,r=qh(n.component,n.props,[e]);t.setState((function(e){return ed(e.renderCache,r)?{}:{renderCache:r}}))},e.prototype._handleCompleted=function(){this._innerSubscription=null,this._liftedComponent.setState(Uh._endState)},e}(),Jh=function(){function e(e,t,n){var r=this,i={subscription:this,renderCache:e.state&&e.state.renderCache};this._liftedComponent=new $h(i,t),this._innerSubscriptions=[],this._values=Array(n);for(var o=0;o<n;++o)this._values[o]=this;if(Gh(t.props,(function(e){var t=r._innerSubscriptions.length,n=e.subscribe((function(e){return r._handleValue(t,e)}),Kh,(function(){return r._handleCompleted(t)}));n&&n.closed&&(n=null),r._innerSubscriptions.push(n)})),td)for(o=this._values.length-1;0<=o;--o)if(this._values[o]===this){Yh(od(e.props.component));break}this._liftedComponent=e,e.setState(i)}return e.prototype.unsubscribe=function(){var e=this,t=-1;Gh(this._liftedComponent.props.props,(function(n){var r=e._innerSubscriptions[++t];r&&r.unsubscribe()}))},e.prototype._handleValue=function(e,t){this._values[e]=t;for(var n=this._values.length-1;0<=n;--n)if(this._values[n]===this)return;var r=this._liftedComponent,i=r.props,o=qh(i.component,i.props,this._values);r.setState((function(e){return ed(e.renderCache,o)?{}:{renderCache:o}}))},e.prototype._handleCompleted=function(e){var t=this._innerSubscriptions.length;if(t>e&&(this._innerSubscriptions[e]=null),t===this._values.length){for(var n=0;n<t;++n)if(this._innerSubscriptions[n])return;this._liftedComponent.setState(Uh._endState)}},e}();function Zh(e){return e.filter((function(e){if(!0===e)throw new TypeError("Unexpected `true` value in classes");return null!=e&&""!==e&&!1!==e}))}function Xh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&void 0!==e.find((function(e){return e instanceof Hd})))return{className:Ch(Zh(e||[]).map((function(e){return e instanceof Hd?e:mh(e)})),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zh(e||[]);return n.length>0?n.join(" "):void 0}))};var n=Zh(e||[]);return{className:n.length>0?n.join(" "):void 0}}var ep,tp,np=(ep={},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach((function(e){return ep[e]=(t=e,function(e){return d(Uh,{component:t,props:e})});var t})),ep.Fragment=function(e){return d(Uh,{component:i,props:e})},ep),rp="#e4e6f2";!function(e){e.empty={hovered:void 0,disabled:void 0,active:void 0},e.withValue=function(e,t){return Qn(Qn({},e),t)},e.emptyWithName=function(t){return e.withValue(e.empty,{name:t})},e.Context=f(e.empty)}(tp||(tp={}));var ip=function(e,t){return(ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function op(e,t){function n(){this.constructor=e}ip(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ap(e){return"function"==typeof e}var sp=!1,up={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;sp=e},get useDeprecatedSynchronousErrorHandling(){return sp}};function cp(e){setTimeout((function(){throw e}),0)}var lp={closed:!0,next:function(e){},error:function(e){if(up.useDeprecatedSynchronousErrorHandling)throw e;cp(e)},complete:function(){}},fp=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function dp(e){return null!==e&&"object"==typeof e}var hp=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),pp=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,i=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(ap(i))try{i.call(this)}catch(e){t=e instanceof hp?gp(e.errors):[e]}if(fp(o)){a=-1;for(var s=o.length;++a<s;){var u=o[a];if(dp(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof hp?t=t.concat(gp(e.errors)):t.push(e)}}}if(t)throw new hp(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function gp(e){return e.reduce((function(e,t){return e.concat(t instanceof hp?t.errors:t)}),[])}var mp=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),vp=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=lp;break;case 1:if(!n){o.destination=lp;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new yp(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new yp(o,n,r,i)}return o}return op(t,e),t.prototype[mp]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(pp),yp=function(e){function t(t,n,r,i){var o,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return ap(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==lp&&(ap((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return op(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;up.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=up.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):cp(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;cp(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};up.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),up.useDeprecatedSynchronousErrorHandling)throw e;cp(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!up.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return up.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(cp(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(vp);var _p=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function bp(){}function wp(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:bp}var Sp=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof vp)return e;if(e[mp])return e[mp]()}return e||t||n?new vp(e,t,n):new vp(lp)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||up.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),up.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){up.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof vp?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=xp(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[_p]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:wp(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=xp(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function xp(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var Ep=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Cp=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return op(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(pp),kp=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return op(t,e),t}(vp),Tp=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return op(t,e),t.prototype[mp]=function(){return new kp(this)},t.prototype.lift=function(e){var t=new Ip(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Ep;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new Ep;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ep;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Ep;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Ep;return this.hasError?(e.error(this.thrownError),pp.EMPTY):this.isStopped?(e.complete(),pp.EMPTY):(this.observers.push(e),new Cp(this,e))},t.prototype.asObservable=function(){var e=new Sp;return e.source=this,e},t.create=function(e,t){return new Ip(e,t)},t}(Sp),Ip=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return op(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):pp.EMPTY},t}(Tp),Op=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return op(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return op(t,e),t.prototype.schedule=function(e,t){return this},t}(pp)),Np=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Ap=function(e){function t(n,r){void 0===r&&(r=Np.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return op(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Np),Rp=new Sp((function(e){return e.complete()}));function Pp(e){return e&&"function"==typeof e.schedule}var Lp=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function Mp(e,t){return new Sp((function(n){var r=new pp,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Dp(e,t){return t?Mp(e,t):new Sp(Lp(e))}function Fp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Pp(n)?(e.pop(),Mp(e,n)):Dp(e)}var zp=new Ap(Op);function Bp(e){return e}function jp(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Hp(e,t))}}var Hp=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Up(e,this.project,this.thisArg))},e}(),Up=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return op(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(vp),Vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return op(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(vp),Wp=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return op(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(vp);function Gp(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var qp=Gp(),$p=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Kp(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Yp=function(e){if(e&&"function"==typeof e[_p])return r=e,function(e){var t=r[_p]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if($p(e))return Lp(e);if(Kp(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,cp),e};if(e&&"function"==typeof e[qp])return t=e,function(e){for(var n=t[qp]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=dp(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Qp(e,t,n,r,i){if(void 0===i&&(i=new Wp(e,n,r)),!i.closed)return t instanceof Sp?t.subscribe(i):Yp(t)(i)}var Jp={};function Zp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Pp(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&fp(e[0])&&(e=e[0]),Dp(e,r).lift(new Xp(n))}var Xp=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new eg(e,this.resultSelector))},e}(),eg=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return op(t,e),t.prototype._next=function(e){this.values.push(Jp),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Qp(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===Jp?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Vp);function tg(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[_p]}(e))return function(e,t){return new Sp((function(n){var r=new pp;return r.add(t.schedule((function(){var i=e[_p]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Kp(e))return function(e,t){return new Sp((function(n){var r=new pp;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if($p(e))return Mp(e,t);if(function(e){return e&&"function"==typeof e[qp]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new Sp((function(n){var r,i=new pp;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[qp](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ng(e,t){return t?tg(e,t):e instanceof Sp?e:new Sp(Yp(e))}function rg(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(rg((function(n,r){return ng(e(n,r)).pipe(jp((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ig(e,n))})}var ig=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new og(e,this.project,this.concurrent))},e}(),og=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return op(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new Wp(this,void 0,void 0);this.destination.add(r),Qp(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Vp);function ag(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),rg(Bp,e)}function sg(e,t,n,r){return ap(n)&&(r=n,n=void 0),r?sg(e,t,n).pipe(jp((function(e){return fp(e)?r.apply(void 0,e):r(e)}))):new Sp((function(r){ug(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function ug(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,l=e.length;c<l;c++)ug(e[c],t,n,r,i)}r.add(o)}function cg(e){return!fp(e)&&e-parseFloat(e)+1>=0}function lg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return Pp(i)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof Sp?e[0]:ag(n)(Dp(e,r))}var fg=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new dg(e,this.predicate,this.thisArg))},e}(),dg=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return op(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(vp);function hg(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var pg=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new gg(e,this.dueTime,this.scheduler))},e}(),gg=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return op(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mg,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(vp);function mg(e){e.debouncedNext()}var vg=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new yg(e,this.callback))},e}(),yg=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new pp(n)),r}return op(t,e),t}(vp);function _g(e,t){return"function"==typeof t?function(n){return n.pipe(_g((function(n,r){return ng(e(n,r)).pipe(jp((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new bg(e))}}var bg=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new wg(e,this.project))},e}(),wg=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return op(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Wp(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Qp(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(Vp);function Sg(e,t,n){return function(r){return r.lift(new xg(e,t,n))}}var xg=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Eg(e,this.nextOrObserver,this.error,this.complete))},e}(),Eg=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=bp,o._tapError=bp,o._tapComplete=bp,o._tapError=r||bp,o._tapComplete=i||bp,ap(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||bp,o._tapError=n.error||bp,o._tapComplete=n.complete||bp),o}return op(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(vp);var Cg,kg=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Tg(e,this.observables,this.project))},e}(),Tg=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(Qp(i,s,s,a))}return i}return op(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Vp);function Ig(e){var t=0;if(null==e||0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}!function(e){e.ricScheduler=function(t){return"requestIdleCallback"in window?function(e){var n=window;return Sp.create((function(r){var i=n.requestIdleCallback((function(t){(t.timeRemaining()>0||t.didTimeout)&&r.next(e)}),{timeout:t});return function(){return n.cancelIdleCallback(i)}}))}:e.rafScheduler},e.rafScheduler=function(e){return Sp.create((function(t){var n=requestAnimationFrame((function(){return t.next(e)}));return function(){return cancelAnimationFrame(n)}}))},e.syncScheduler=function(e){return Fp(e)},e.inRaf=function(t){return t.pipe(_g(e.rafScheduler))},e.inRic=function(t,n){return t.pipe(_g(e.ricScheduler(n)))}}(Cg||(Cg={}));var Og,Ng,Ag,Rg;!function(e){e.EMPTY=pp.EMPTY;var t=function(){function e(){this._subs=[]}return e.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._subs).push.apply(e,t)},e.prototype.dispose=function(){this._subs.forEach((function(e){"unsubscribe"in e?e.unsubscribe():e.dispose()})),this._subs=[]},e}();e.Keeper=t}(Og||(Og={})),function(e){var t=bo();e.ord=tn;e.MIN=t.wrap(0),e.MAX=t.wrap(1);var n=t.wrap(.01),r=t.wrap(.99);e.is=function(n){return"number"==typeof n&&!Number.isNaN(n)&&un(e.ord)(e.MIN,e.MAX)(t.wrap(n))},e.prism=wo(e.is),e.isMin=rr(e.ord.equals)(e.MIN),e.isMax=rr(e.ord.equals)(e.MAX),e.closeToMin=Io(e.ord)(e.MIN,n),e.closeToMax=Io(e.ord)(r,e.MAX),e.groupSum=qi,e.monoidProduct=zi,e.monoidMax={concat:Math.max,empty:0},e.monoidMin={concat:Math.min,empty:1},e.fromNumber=function(n){return e.is(n)?Rt(t.wrap(n)):"number"!=typeof n||Number.isNaN(n)?At("can not create Ratio from not a number: "+JSON.stringify(n)):At(n<0||n>1?"can not convert number: "+n+" to ratio":"unknown parse error")},e.unsafeFromNumber=function(t){return Ii(e.fromNumber(t))},e.unwrap=function(e){return t.unwrap(e)},e.create=function(t,n){return e.prism.getOption(n/t)}}(Ng||(Ng={})),function(e){var t=bo();e.ord=tn,e.MIN=t.wrap(0),e.MAX=t.wrap(100),e.is=function(n){return Number.isInteger(n)&&un(e.ord)(e.MIN,e.MAX)(t.wrap(n))},e.prism=wo(e.is),e.isMin=rr(e.ord.equals)(e.MIN),e.isMax=rr(e.ord.equals)(e.MAX),e.groupSum=qi,e.fromNumber=function(n){return mr(e.is(n),"can not create percent from: "+n),t.wrap(n)},e.fromRatio=function(n){var r=Ng.prism.reverseGet(n),i=Ng.closeToMin(n)?1:Ng.closeToMax(n)?99:Math.round(100*r);return mr(e.is(i),"incorrect percent value: "+i+" was derived from ratio: "+n),t.wrap(i)}}(Ag||(Ag={})),function(e){e.down="down",e.left="left",e.right="right",e.up="up"}(Rg||(Rg={}));var Pg,Lg=new Map([[Rg.down,"0 3"],[Rg.left,"8 0"],[Rg.up,"10 8"],[Rg.right,"2 10"]]),Mg=new Map([[Rg.down,"0"],[Rg.left,"90"],[Rg.up,"180"],[Rg.right,"270"]]),Dg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.render=function(){return d(np.i,Qn({},Xh(im.icon,this.props.className),{"data-disabled":this.context.disabled,"data-hovered":this.context.hovered,"data-active":this.context.active,role:"icon"}),d("svg",{width:this.props.width,viewBox:this.props.viewBox,className:this.props.dontScale?"":im.holder,fill:this.props.fill},this.props.children))},t.contextType=tp.Context,t}(r),Fg=function(e){var t=b(tp.Context);return d(np.i,Qn({},Xh(im.icon,e.className,e.dontScale?"":im.holder),{"data-disabled":t.disabled,"data-hovered":t.hovered,"data-active":t.active,role:"icon"}),e.children)},zg=function(e){var t=e.className,n=e.children,r=b(tp.Context);return d(np.i,Qn({},Xh(im.iconSimple,t),{"data-disabled":r.disabled,"data-hovered":r.hovered,"data-active":r.active,role:"icon"}),n)},Bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.render=function(){return d("path",Qn({d:"M11.18 10.273c-.593 0-1.068.53-.952 1.14.08.46.522.784.997.784h1.496l.87-.115c-1.39 2.016-3.79 2.95-6.423 2.546-2.144-.334-3.988-1.774-4.765-3.79-1.762-4.575 1.6-8.942 5.97-8.942 2.285 0 4.28 1.325 5.427 2.927v.034c.3.438.903.565 1.344.254.417-.287.533-.83.278-1.266h.01C13.846 1.39 11.006-.19 7.793.018 3.633.318.247 3.705.015 7.853c-.278 4.828 3.57 8.768 8.37 8.768 2.516 0 4.766-1.093 6.307-2.856l-.184 1.014v.91c0 .472.325.91.788.99.615.116 1.148-.356 1.148-.944V10.26H11.18v.013z",fill:"#FFF",stroke:"none",fillRule:"evenodd"},this.props))},t.size=16.5,t}(a);!function(e){e.Library=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?24:n,viewBox:"0 0 24 16"},d("path",{d:"M22.16 8.5L18.44 2c-.36-.62-1.02-1-1.74-1H7.28c-.7 0-1.37.38-1.73 1L1.72 8.5h5.96c.27 0 .5.22.5.5 0 1.74 1.85 3.5 3.82 3.5 1.92 0 3.53-1.7 3.53-3.5 0-.28.22-.5.5-.5h6.13zm.34 1h-6c-.27 2.15-2.2 4-4.5 4-2.33 0-4.5-1.9-4.8-4H1.5V13c0 1.1.9 2 2 2h17c1.1 0 2-.9 2-2V9.5zM7.28 0h9.42c1.08 0 2.07.58 2.6 1.5l4.13 7.2c.05.1.07.17.07.26V13c0 1.66-1.34 3-3 3h-17c-1.66 0-3-1.34-3-3V8.74c0-.08.02-.17.07-.25L4.7 1.47C5.22.56 6.2 0 7.27 0z",stroke:"none"}))},e.Plagiarism=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?19:n,viewBox:"0 0 20 16"},d("path",{d:"M11.1 7.38c-.27 0-.48-.2-.48-.48V.48c0-.27.2-.48.47-.48h6.57c.27 0 .48.2.48.48V6.9c0 4.5-1.65 7.37-5.57 9.06-.23.1-.5 0-.6-.2l-1.4-2.6c-.15-.23-.04-.54.2-.65 2.35-1.05 3.1-2.3 3.17-5.12H11.1zm6.1-.48V.96h-5.63v5.46h2.87c.26 0 .47.22.47.48 0 3.32-.78 5-3.25 6.26l.94 1.74c3.26-1.54 4.6-4 4.6-8zm-13.75.48H.6c-.28 0-.5-.2-.5-.48V.48C.1.2.33 0 .6 0h6.56c.27 0 .48.2.48.48V6.9c0 4.5-1.65 7.37-5.57 9.06-.23.1-.5 0-.6-.2l-1.4-2.6c-.14-.23-.04-.54.2-.65 2.35-1.05 3.1-2.3 3.18-5.12zM6.7 6.9V.96H1.05v5.46h2.87c.26 0 .48.22.48.48 0 3.32-.8 5-3.26 6.26l.95 1.74c3.25-1.54 4.6-4 4.6-8z",stroke:"none"}))},e.PlagiarismOutcomes=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?22:n,viewBox:"0 0 22 18"},d("path",{d:"M17.41 9.75l-.67 1.17a14.42 14.42 0 0 1-3.4 3.84l.96 1.43a16.38 16.38 0 0 0 4.96-4.58A10.62 10.62 0 0 0 21 5.55a4 4 0 1 0-4.9 3.9l1.31.3zm-3.94 7l-.96-1.43c-.29-.43-.2-1.02.2-1.35 1.12-.93 1.96-1.8 2.59-2.66.21-.3.4-.6.57-.89A4.96 4.96 0 0 1 12 5.55a5 5 0 1 1 10 0c0 5.2-2.68 8.6-7.19 11.5a.98.98 0 0 1-1.34-.3zm-12 0l-.96-1.43c-.29-.43-.2-1.02.2-1.35 1.12-.93 1.96-1.8 2.59-2.66.21-.3.4-.6.57-.89A4.96 4.96 0 0 1 0 5.55a5 5 0 1 1 10 0c0 5.2-2.68 8.6-7.19 11.5a.98.98 0 0 1-1.34-.3zm3.94-7l-.67 1.17a14.42 14.42 0 0 1-3.4 3.84l.96 1.43a16.38 16.38 0 0 0 4.96-4.58A10.62 10.62 0 0 0 9 5.55a4 4 0 1 0-4.9 3.9l1.31.3z",stroke:"none"}))},e.PlagiarismPublication=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 16"},d("path",{d:"M16 5.528V16H2c-1.105 0-2-.895-2-2V3.5l.05.048C.017 3.37 0 3.188 0 3c0-1.657 1.343-3 3-3h12.5c.412 0 .647.47.4.8-.563.75-.838 1.482-.838 2.2 0 .718.275 1.45.838 2.2.076.102.107.217.1.328zM14.588 1H3c-1.105 0-2 .895-2 2s.895 2 2 2h11.588c-.348-.658-.525-1.326-.525-2 0-.674.177-1.342.525-2z",fillRule:"nonzero",fill:"#A6ADC9",stroke:"none"}))},e.Proofread=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?24:n,viewBox:"0 0 24 21"},d("path",{d:"M13.97 15.08c2.5 0 4.56-2.03 4.56-4.55 0-2.5-2.06-4.53-4.56-4.53-2.5 0-4.55 2.03-4.55 4.55 0 2.5 2.06 4.53 4.55 4.53zm-.62 7.9L14.3 24H7.58C6.17 24 5 22.84 5 21.43v-.7c0-2.82 2.2-5.2 5-5.4.14 0 .3.06.4.16.98.9 2.24 1.43 3.57 1.43 1.34 0 2.63-.52 3.58-1.44.1-.1.23-.17.38-.17 2.05.15 3.78 1.45 4.56 3.24l-.8.83c-.5-1.6-1.9-2.8-3.6-3-1.14 1-2.58 1.56-4.13 1.56-1.54 0-2.98-.54-4.1-1.57-2.17.27-3.84 2.12-3.84 4.33v.7c0 .85.7 1.54 1.54 1.54h5.78zm.62-15.95c1.93 0 3.53 1.57 3.53 3.52 0 1.93-1.57 3.52-3.53 3.52-1.92 0-3.52-1.56-3.52-3.52 0-1.95 1.6-3.52 3.52-3.52zm3.4 14.66l3.45 3.78 6.8-7.5c.2-.2.5-.2.72-.02.2.18.22.5.03.7l-7.18 7.9c-.2.22-.55.22-.75 0l-3.82-4.2c-.2-.2-.17-.52.03-.7.2-.2.52-.18.7.03z",transform:"translate(-5 -6)",stroke:"none"}))},e.ProofreadOutcomes=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?23:n,viewBox:"0 0 23 23"},d("path",{transform:"translate(-6 -5)",stroke:"none",d:"M15.5 6A3.5 3.5 0 0 0 12 9.5v2a3.5 3.5 0 0 0 7 0v-2A3.5 3.5 0 0 0 15.5 6zm1.5 9.744c-.47.166-.974.256-1.5.256s-1.03-.09-1.5-.256v1.02A2.5 2.5 0 0 1 12.618 19l-4.236 2.118A2.5 2.5 0 0 0 7 23.354V24h5a.5.5 0 1 1 0 1H6.5a.5.5 0 0 1-.5-.5v-1.146a3.5 3.5 0 0 1 1.935-3.13l4.236-2.118A1.5 1.5 0 0 0 13 16.764v-1.522a4.496 4.496 0 0 1-2-3.742v-2a4.5 4.5 0 1 1 9 0v2c0 1.56-.794 2.935-2 3.742V16.7c0 .593.349 1.13.89 1.371l3.313 1.472a.5.5 0 0 1-.406.914l-3.312-1.472A2.5 2.5 0 0 1 17 16.7v-.956zm11.146 2.402a.5.5 0 0 1 .708.708l-9 9a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708l3.646 3.647 8.646-8.647z"}))},e.NewBadge=function(e){var t=e.className;return d("div",Qn({},Xh(im.newIcon,t)),d("div",{className:im.newIconCaption},"NEW"))},e.NewBadgeWrapper=function(t){var n=t.children;return d("div",null,d(e.NewBadge,null),n)},e.Exit=function(e){var t=e.className,n=e.width,r=void 0===n?14:n;return d(Dg,Qn({},Xh(im.exitIcon,t),{width:r,viewBox:"0 0 14 10"}),d("path",{d:"M8.08 0l4.96 4.96L8 10M1.08 0l4.96 4.96L1 10"}))},e.Arrow=function(e){var t=e.className,n=e.width,r=void 0===n?10:n,i=e.direction,o=void 0===i?Rg.down:i;return d(Dg,{className:t,width:r,viewBox:"0 0 10 10"},d("path",{d:"M5 4.3L.85.14c-.2-.2-.5-.2-.7 0-.2.2-.2.5 0 .7L5 5.7 9.85.87c.2-.2.2-.5 0-.7-.2-.2-.5-.2-.7 0L5 4.28z",stroke:"none",transform:"translate("+Lg.get(o)+") rotate("+Mg.get(o)+")"}))},e.Download=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 18"},d("path",{d:"M7.5 11.06V1c0-.27.22-.5.5-.5s.5.23.5.5v10.04l3.15-3.14c.2-.2.5-.2.7 0 .2.2.2.5 0 .7L8 12.97 3.64 8.62c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l3.15 3.14zm-7 2c0-.26.22-.5.5-.5s.5.24.5.5v2.95c0 .28.22.5.5.5h12c.28 0 .5-.22.5-.5v-3c0-.28.22-.5.5-.5s.5.22.5.5v3c0 .84-.67 1.5-1.5 1.5H2C1.2 17.5.5 16.84.5 16v-2.93z",stroke:"none"}))},e.Print=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("path",{d:"M2.5 3.5V1c0-.28.22-.5.5-.5h12c.28 0 .5.22.5.5v2.5H17c.28 0 .5.22.5.5v8c0 .28-.22.5-.5.5h-1.5V17c0 .28-.22.5-.5.5H3c-.28 0-.5-.22-.5-.5v-4.5H1c-.28 0-.5-.22-.5-.5V4c0-.28.22-.5.5-.5h1.5zm0 8V8c0-.28.22-.5.5-.5h12c.28 0 .5.22.5.5v3.5h1v-7h-15v7h1zm1-3v8h11v-8h-11zm0-7v2h11v-2h-11zm2.5 10c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h6c.28 0 .5.22.5.5s-.22.5-.5.5H6zm0 3c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4c.28 0 .5.22.5.5s-.22.5-.5.5H6z",stroke:"none"}))},e.Copy=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("path",{d:"M13.5 7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h2.38c.9 0 1.62.73 1.62 1.62v7.76c0 .9-.73 1.62-1.62 1.62H8.12c-.9 0-1.62-.73-1.62-1.62V13.5c0-.28.22-.5.5-.5s.5.22.5.5v2.38c0 .34.28.62.62.62h7.76c.34 0 .62-.28.62-.62V8.12c0-.34-.28-.62-.62-.62H13.5zM.5 2C.5 1.17 1.18.5 2 .5h8c.83 0 1.5.68 1.5 1.5v8c0 .83-.68 1.5-1.5 1.5H2c-.83 0-1.5-.68-1.5-1.5V2zm1 0v8c0 .27.23.5.5.5h8c.27 0 .5-.23.5-.5V2c0-.27-.23-.5-.5-.5H2c-.27 0-.5.23-.5.5z",stroke:"none"}))},e.Share=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("path",{d:"M15.7 5.45h-1.77c-4.33 0-7.85 3.5-7.85 7.83 0 .28-.22.5-.5.5-.27 0-.5-.22-.5-.5 0-4.88 3.97-8.83 8.85-8.83h1.84L12.6 1.28c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l4.35 4.34-4.36 4.36c-.2.2-.52.2-.7 0-.2-.2-.2-.5 0-.7l3.1-3.13zM.5 13.08c0-.28.22-.5.5-.5s.5.22.5.5v2.94c0 .27.22.5.5.5h12c.28 0 .5-.23.5-.5v-3c0-.3.22-.5.5-.5s.5.2.5.5v3c0 .82-.67 1.5-1.5 1.5H2C1.2 17.5.5 16.83.5 16v-2.94z",stroke:"none"}))},e.Stats=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 16"},d("path",{d:"M2.5 12h-1V5h1v7zm-1 0V5c0-.67 1-.67 1 0v7c0 .67-1 .67-1 0zm4 0V6c0-.67 1-.67 1 0v6c0 .67-1 .67-1 0zm4 0V4c0-.67 1-.67 1 0v8c0 .67-1 .67-1 0zm4 0V1.14c0-.67 1-.67 1 0V12c0 .67-1 .67-1 0zm-13 3.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h15c.28 0 .5.22.5.5s-.22.5-.5.5H.5z",stroke:"none"}))},e.Star=function(e){var t=e.className,n=e.width,r=void 0===n?16:n;return d(Dg,Qn({},Xh(t,im.starIcon),{width:r,viewBox:"0 0 16 16"}),d("path",{d:"M6.65 10.8l-4.02 2.72L4.03 9c.08-.24 0-.5-.2-.65L-.03 5.5l4.86-.1c.24 0 .45-.16.53-.38l1.6-4.5 1.62 4.5c.08.22.3.38.54.38l4.85.1-3.85 2.85c-.2.15-.28.4-.2.64l1.4 4.52-4.02-2.7c-.2-.14-.46-.14-.65 0z",transform:"translate(1 1)",strokeLinejoin:"round"}))},e.New=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("path",{d:"M9.5 8.5H14c.28 0 .5.22.5.5s-.22.5-.5.5H9.5V14c0 .28-.22.5-.5.5s-.5-.22-.5-.5V9.5H4c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5V4c0-.28.22-.5.5-.5s.5.22.5.5v4.5zm-.5 9C4.3 17.5.5 13.7.5 9S4.3.5 9 .5s8.5 3.8 8.5 8.5-3.8 8.5-8.5 8.5zm0-1c4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5-4.14 0-7.5 3.36-7.5 7.5 0 4.14 3.36 7.5 7.5 7.5z",stroke:"none"}))},e.Dict=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?17:n,viewBox:"0 0 17 21"},d("path",{d:"M1.5 15.26c.53-.47 1.23-.76 2-.76h9V10c0-.28.22-.5.5-.5s.5.22.5.5v5c0 .28-.22.5-.5.5H3.5c-1.1 0-2 .9-2 2s.9 2 2 2H13c.28 0 .5.22.5.5s-.22.5-.5.5H3.5c-1.66 0-3-1.34-3-3V5.14c0-.9.66-1.64 1.5-1.64h5c.28 0 .5.22.5.5s-.22.5-.5.5H2c-.26 0-.5.27-.5.64v10.12zm11-11.76V1c0-.28.22-.5.5-.5s.5.22.5.5v2.5H16c.28 0 .5.22.5.5s-.22.5-.5.5h-2.5V7c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.5H10c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h2.5zM3.5 18c-.28 0-.5-.22-.5-.5s.22-.5.5-.5H12c.28 0 .5.22.5.5s-.22.5-.5.5H3.5z",stroke:"none"}))},e.Ignore=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 19"},d("path",{d:"M5 3.5v-1c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v1h4c.28 0 .5.22.5.5s-.22.5-.5.5h-1.53l-.8 11.2c-.12 1.58-1.42 2.8-3 2.8H6.33c-1.58 0-2.88-1.22-3-2.8l-.8-11.2H1C.72 4.5.5 4.28.5 4s.22-.5.5-.5h4zm-1.46 1l.8 11.14c.07 1.05.94 1.86 2 1.86h5.33c1.05 0 1.92-.8 2-1.86l.8-11.14H3.53zM6 2.5v1h6v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1zM6.75 7c0-.28.22-.5.5-.5s.5.22.5.5v7.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V7zm3.5 0c0-.28.22-.5.5-.5s.5.22.5.5v7.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V7z",stroke:"none"}))};var t,n,i,o,a,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.width,i=void 0===r?16:r;return this._idSuffix=this._idSuffix||"megaphone_"+t._nextIdSuffix++,d(Dg,{className:n,width:i,viewBox:"0 0 20 20"},d("g",{stroke:"none"},d("path",{d:"M11.7797 14.3022C11.8035 15.2747 11.3069 16.2275 10.4041 16.74C9.50098 17.2518 8.42879 17.1893 7.60723 16.6709L6.49817 17.2993C7.31036 18.4503 9.43348 18.5122 10.9275 17.6637C12.4238 16.8153 13.4597 14.9609 12.8879 13.6731L11.7797 14.3022Z",fill:"url(#paint0_linear_"+this._idSuffix+")"}),d("path",{d:"M1.05347 16.3869C1.05347 16.3869 -0.102468 17.1307 1.38347 18.6169C2.87034 20.1032 3.61253 18.9457 3.61253 18.9457L1.05347 16.3869Z",fill:"url(#paint1_linear_"+this._idSuffix+")"}),d("path",{d:"M8.47503 1.60596L1.0569 16.335V16.336C0.530966 17.1469 2.85378 19.4728 3.66472 18.9431L18.3828 11.5322L8.47503 1.60596Z",fill:"url(#paint2_linear_"+this._idSuffix+")"}),d("path",{d:"M19.0434 10.9432L18.6446 11.3416C17.6243 12.3616 14.5634 10.9513 11.8065 8.19379C9.04868 5.43567 7.63837 2.37442 8.65712 1.35535L9.0565 0.956604L19.0434 10.9432Z",fill:"url(#paint3_linear_"+this._idSuffix+")"}),d("path",{d:"M15.8947 4.10531C18.6522 6.86281 20.0628 9.92437 19.0434 10.9431C18.024 11.9616 14.9625 10.5516 12.205 7.795C9.44716 5.03718 8.03716 1.975 9.05654 0.956558C10.0759 -0.062817 13.1359 1.34718 15.8947 4.10531Z",fill:"url(#paint4_radial_"+this._idSuffix+")"}),d("path",{d:"M12.2012 7.78905C14.1547 9.74311 16.2622 11.0203 17.6856 11.2356C17.4628 9.81124 16.1897 7.71374 14.2422 5.76655C12.2872 3.81155 10.1812 2.53593 8.75623 2.32062C8.98029 3.74437 10.2534 5.84218 12.2012 7.78905Z",fill:"url(#paint5_radial_"+this._idSuffix+")"}),d("defs",null,d("linearGradient",{id:"paint0_linear_"+this._idSuffix,x1:"10.9449",y1:"17.6538",x2:"9.67964",y2:"15.4623",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#FF2121"}),d("stop",{offset:"0.3304",stopColor:"#FC1F1F"}),d("stop",{offset:"0.5957",stopColor:"#F2181B"}),d("stop",{offset:"0.8377",stopColor:"#E10B13"}),d("stop",{offset:"1",stopColor:"#D1000B"})),d("linearGradient",{id:"paint1_linear_"+this._idSuffix,x1:"1.04497",y1:"16.3921",x2:"2.83903",y2:"19.4995",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#D9E0E4"}),d("stop",{offset:"0.2316",stopColor:"#D6DDE1"}),d("stop",{offset:"0.8311",stopColor:"#C2CACD"})),d("linearGradient",{id:"paint2_linear_"+this._idSuffix,x1:"3.91606",y1:"4.23768",x2:"10.6913",y2:"15.9728",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#FF2121"}),d("stop",{offset:"0.3304",stopColor:"#FC1F1F"}),d("stop",{offset:"0.5957",stopColor:"#F2181B"}),d("stop",{offset:"0.8377",stopColor:"#E10B13"}),d("stop",{offset:"1",stopColor:"#D1000B"})),d("linearGradient",{id:"paint3_linear_"+this._idSuffix,x1:"8.32606",y1:"6.31504",x2:"19.0435",y2:"6.31504",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#D9E0E4"}),d("stop",{offset:"0.2316",stopColor:"#D6DDE1"}),d("stop",{offset:"0.8311",stopColor:"#C2CACD"})),d("radialGradient",{id:"paint4_radial_"+this._idSuffix,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(14.05 5.94975) scale(5.31209 10.6762)"},d("stop",{stopColor:"#D9E0E4"}),d("stop",{offset:"0.3011",stopColor:"#D6DDE1"}),d("stop",{offset:"0.5285",stopColor:"#C2CACD"}),d("stop",{offset:"0.7526",stopColor:"#A2AAAD"}),d("stop",{offset:"1",stopColor:"#A2AAAD"})),d("radialGradient",{id:"paint5_radial_"+this._idSuffix,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.2208 6.77573) scale(4.45006 3.13017)"},d("stop",{stopColor:"#545061"}),d("stop",{offset:"0.2793",stopColor:"#464253"}),d("stop",{offset:"0.6105",stopColor:"#312D3D"}),d("stop",{offset:"0.7961",stopColor:"#211D2D"}),d("stop",{offset:"0.9556",stopColor:"#1A1626"})))))},t._nextIdSuffix=0,t}(r);e.Megaphone=s,e.TextShort=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 13"},d("path",{d:"M1 3.5H8M1 0.5H15",strokeLinecap:"round"}))},e.TextMedium=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 13"},d("path",{d:"M1 6.5H8M1 3.5H15M1 0.5H15",strokeLinecap:"round"}))},e.TextLong=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 13"},d("path",{d:"M1 6.5H15M1 3.5H15M1 12.5H8M1 0.5H15M1 9.5H15",strokeLinecap:"round"}))},e.Mute=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 16 16"},d("path",{d:"M13.0202 3.68689C13.2155 3.49162 13.2155 3.17504 13.0202 2.97978C12.825 2.78452 12.5084 2.78452 12.3131 2.97978L13.0202 3.68689ZM2.97978 12.3131C2.78452 12.5084 2.78452 12.825 2.97978 13.0202C3.17504 13.2155 3.49162 13.2155 3.68689 13.0202L2.97978 12.3131ZM12.3131 2.97978L2.97978 12.3131L3.68689 13.0202L13.0202 3.68689L12.3131 2.97978ZM8 15.5C12.1421 15.5 15.5 12.1421 15.5 8H14.5C14.5 11.5899 11.5899 14.5 8 14.5V15.5ZM15.5 8C15.5 3.85786 12.1421 0.5 8 0.5V1.5C11.5899 1.5 14.5 4.41015 14.5 8H15.5ZM8 0.5C3.85786 0.5 0.5 3.85786 0.5 8H1.5C1.5 4.41015 4.41015 1.5 8 1.5V0.5ZM0.5 8C0.5 12.1421 3.85786 15.5 8 15.5V14.5C4.41015 14.5 1.5 11.5899 1.5 8H0.5Z",stroke:"none"}))},e.Report=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?15:n,viewBox:"0 0 15 17"},d("path",{d:"M1.03 2.57V9.8h12.19l-2.96-3c-.2-.2-.2-.5-.02-.7l3.08-3.53H1.06h-.03zm0-1.04h13.43c.43 0 .67.53.38.86l-3.5 4 3.48 3.56c.32.33.1.88-.37.88H1.05h-.02v5.65c0 .27-.23.5-.5.5-.3 0-.53-.23-.53-.5V.5C0 .24.23 0 .52 0c.28 0 .5.23.5.5v1.03z",stroke:"none"}))},e.Expand=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 5"},d("path",{d:"M2.5 4.5c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0-1c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm6.5 1c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0-1c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm6.5 1c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm0-1c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z",stroke:"none"}))},e.Reference=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?13:n,viewBox:"0 0 13 19"},d("path",{d:"M3 2v1h7V2h1.5c.83 0 1.5.67 1.5 1.5v14c0 .83-.68 1.5-1.5 1.5h-10C.67 19 0 18.33 0 17.5v-14C0 2.67.68 2 1.5 2H3zm8.5 1h-10c-.27 0-.5.23-.5.5v14c0 .28.22.5.5.5h10c.27 0 .5-.23.5-.5v-14c0-.28-.22-.5-.5-.5zm-7.65 7.6l1.68 1.7 3.62-3.65c.2-.2.5-.2.7 0 .2.2.2.5 0 .7L5.53 13.7l-2.38-2.4c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0zM9 3.5v-1c0-.56-.45-1-1-1H5c-.56 0-1 .44-1 1v1h5zm-6-1c0-1.1.9-2 2-2h3c1.1 0 2 .9 2 2V4c0 .28-.23.5-.5.5h-6c-.27 0-.5-.22-.5-.5V2.5z",transform:"translate(0 -.5)",stroke:"none"}))},e.Yes=function(e){var t=e.className,n=e.width,r=void 0===n?12:n;return d(Dg,Qn({},Xh(t,im.yesIcon),{width:r,viewBox:"0 0 12 10"}),d("path",{d:"M.54 4.35l2.98 3.12L9.46.53",fill:"none",fillRule:"evenodd",strokeLinecap:"round",transform:"translate(1 1)"}))},e.YesCircle=function(e){var t=e.className,n=e.width,r=void 0===n?18:n;return d(Dg,Qn({},Xh(t,im.yesCircleIcon),{width:r,viewBox:"0 0 18 18"}),d("circle",{cx:"9",cy:"9",r:"8"}),d("polyline",{points:"5.5,10 8,12.5 13.5,7"}))},e.NoCircle=function(e){var t=e.className,n=e.width,r=void 0===n?18:n;return d(Dg,Qn({},Xh(t,im.noCircleIcon),{width:r,viewBox:"0 0 18 18"}),d("circle",{cx:"9",cy:"9",r:"8"}),d("polyline",{points:"5.5,9 12.5,9"}))},e.ValidationOk=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("circle",{cx:"9",cy:"9",r:"8",fill:"#15C39A",stroke:"#15C39A",strokeWidth:"1"}),d("polyline",{points:"5.5,10 8,12.5 13.5,7",fill:"none",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}))},e.ValidationWarning=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 18"},d("circle",{cx:"9",cy:"9",r:"8",fill:"none",stroke:"#C6CBDE",strokeWidth:"2"}))},e.Controls=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?20:n,viewBox:"0 0 20 17"},d("path",{d:"M10 2a.5.5 0 000 1V2zm9 1a.5.5 0 000-1v1zM1 2a.5.5 0 000 1V2zm0 6a.5.5 0 000 1V8zm9 1a.5.5 0 000-1v1zm9 0a.5.5 0 000-1v1zm-7 5a.5.5 0 000 1v-1zm7 1a.5.5 0 000-1v1zM1 14a.5.5 0 000 1v-1zm9-11h9V2h-9v1zM1 3h4V2H1v1zm0 6h9V8H1v1zm14 0h4V8h-4v1zm-3 6h7v-1h-7v1zM1 15h6v-1H1v1zM7.5 2.5a1 1 0 01-1 1v1a2 2 0 002-2h-1zm-1 1a1 1 0 01-1-1h-1a2 2 0 002 2v-1zm-1-1a1 1 0 011-1v-1a2 2 0 00-2 2h1zm1-1a1 1 0 011 1h1a2 2 0 00-2-2v1zm8 7a1 1 0 01-1 1v1a2 2 0 002-2h-1zm-1 1a1 1 0 01-1-1h-1a2 2 0 002 2v-1zm-1-1a1 1 0 011-1v-1a2 2 0 00-2 2h1zm1-1a1 1 0 011 1h1a2 2 0 00-2-2v1zm-4 7a1 1 0 01-1 1v1a2 2 0 002-2h-1zm-1 1a1 1 0 01-1-1h-1a2 2 0 002 2v-1zm-1-1a1 1 0 011-1v-1a2 2 0 00-2 2h1zm1-1a1 1 0 011 1h1a2 2 0 00-2-2v1z",stroke:"none"}))},e.Checkmark=function(e){var t=e.className,n=e.width;return d(Dg,{width:void 0===n?32:n,className:t,viewBox:"0 0 33 32"},d("defs",null,d("polyline",{id:"path",points:"7.35 14.35 11.9839764 19.5363636 27.65 3.5"})),d("g",{fill:"none",fillRule:"evenodd",transform:"translate(2, 2)"},d("circle",{id:"Oval",stroke:"#F1F2FA",strokeWidth:"3",cx:"14",cy:"14",r:"14"}),d("use",{stroke:"#15C39A",strokeWidth:"3",strokeLinecap:"round",xlinkHref:"#path"})))},e.CheckmarkAnimated=function(e){var t=e.className,n=e.width;return d(Dg,{width:void 0===n?32:n,className:t,viewBox:"0 0 33 32"},d("defs",null,d("polyline",{id:"path",points:"7.35 14.35 11.9839764 19.5363636 27.65 3.5"})),d("g",{fill:"none",fillRule:"evenodd",transform:"translate(2, 2)"},d("circle",{className:im.circle,stroke:"#A6ADC9",strokeWidth:"1.5",cx:"14",cy:"14",r:"15",transform:"rotate(-240, 14, 14) scale(-1,1) translate(-28, 0)"}),d("use",{stroke:"#15C39A",className:im.checkmark,strokeWidth:"3",strokeLinecap:"round",xlinkHref:"#path"})))},e.CheckmarkOutcomes=function(e){var t=e.className,n=e.width;return d(Dg,{viewBox:"0 0 16 16",width:void 0===n?16:n,className:t},d("path",{stroke:"none",d:"M14.33083 3.1085L7.5 9.93935 5.03033 7.46967c-.2929-.2929-.76777-.2929-1.06066 0-.2929.2929-.2929.76777 0 1.06066L7.5 12.06066l7.65102-7.65102C15.69418 5.48934 16 6.70895 16 8c0 4.41828-3.58172 8-8 8s-8-3.58172-8-8 3.58172-8 8-8c2.576 0 4.86763 1.21752 6.33083 3.1085z"}))},e.Helpfull=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?12:n,viewBox:"0 0 10 12"},d("path",{d:"M1.54 5.346L4.522 8.47l5.938-6.938",strokeWidth:"1.5",stroke:"#4C7AF1",fill:"none",fillRule:"evenodd",strokeLinecap:"round"}))},e.Close=function(e){var t=e.className,n=e.width,r=void 0===n?11:n;return d(Dg,Qn({},Xh(t,im.closeIcon),{width:r,viewBox:"0 0 11 10"}),d("path",{d:"M1.1.5l7.06 7.07M8.16.5L1.1 7.57",fill:"none",fillRule:"evenodd",strokeLinecap:"round",transform:"translate(1 1)"}))},e.QuestionMark=function(e){var t=e.className,n=e.width,r=void 0===n?16:n;return d(Dg,Qn({},Xh(t),{width:r,viewBox:"0 0 16 16"}),d("circle",{cx:"8",cy:"8",r:"7",fill:"none"}),d("path",{d:"M7.402 10.175H8.51v-.056c.018-1.145.314-1.643 1.126-2.151.813-.494 1.293-1.205 1.293-2.225 0-1.44-1.053-2.493-2.678-2.493-1.495 0-2.682.923-2.751 2.493h1.163c.07-1.09.831-1.533 1.588-1.533.868 0 1.57.573 1.57 1.478 0 .734-.42 1.26-.96 1.588-.905.549-1.445 1.084-1.459 2.843v.056zm.59 2.733a.833.833 0 00.832-.831.833.833 0 00-.831-.831.833.833 0 00-.831.83c0 .458.374.832.83.832z",stroke:"none"}))},e.More=function(e){var t=e.className,n=e.width,r=void 0===n?4:n;return d(Dg,Qn({},Xh(t),{width:r,viewBox:"0 0 4 16"}),d("path",{d:"M2 12.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm0-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm0-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"none"}))},e.VoteYes=function(){var e,t,n,r=b(tp.Context),i=null!==(e=r.disabled)&&void 0!==e?e:Fp(!1),o=null!==(t=r.hovered)&&void 0!==t?t:Fp(!1),a=null!==(n=r.active)&&void 0!==n?n:Fp(!1);return d(zg,{className:im.voteYes},d(np.Fragment,null,Zp([a,i,o]).pipe(jp((function(e){var t=e[0],n=e[1],r=e[2];return d("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 24C20.4183 24 24 20.4183 24 16C24 11.5817 20.4183 8 16 8C11.5817 8 8 11.5817 8 16C8 20.4183 11.5817 24 16 24Z",stroke:"#9FA6BF"}),d("path",{d:t||!n&&r?"M13.0303 16.4697C12.7374 16.1768 12.2626 16.1768 11.9697 16.4697C11.6768 16.7626 11.6768 17.2374 11.9697 17.5303L13.0303 16.4697ZM15 19.5L14.4697 20.0303L15 20.5607L15.5303 20.0303L15 19.5ZM21.0303 14.5303C21.3232 14.2374 21.3232 13.7626 21.0303 13.4697C20.7374 13.1768 20.2626 13.1768 19.9697 13.4697L21.0303 14.5303ZM11.9697 17.5303L14.4697 20.0303L15.5303 18.9697L13.0303 16.4697L11.9697 17.5303ZM15.5303 20.0303L21.0303 14.5303L19.9697 13.4697L14.4697 18.9697L15.5303 20.0303Z":"M12.8536 16.6464C12.6583 16.4512 12.3417 16.4512 12.1464 16.6464C11.9512 16.8417 11.9512 17.1583 12.1464 17.3536L12.8536 16.6464ZM15 19.5L14.6464 19.8536L15 20.2071L15.3536 19.8536L15 19.5ZM20.8536 14.3536C21.0488 14.1583 21.0488 13.8417 20.8536 13.6464C20.6583 13.4512 20.3417 13.4512 20.1464 13.6464L20.8536 14.3536ZM12.1464 17.3536L14.6464 19.8536L15.3536 19.1464L12.8536 16.6464L12.1464 17.3536ZM15.3536 19.8536L20.8536 14.3536L20.1464 13.6464L14.6464 19.1464L15.3536 19.8536Z",fill:"#9FA6BF"}))})))))},e.VoteNo=function(){var e,t,n,r=b(tp.Context),i=null!==(e=r.disabled)&&void 0!==e?e:Fp(!1),o=null!==(t=r.hovered)&&void 0!==t?t:Fp(!1),a=null!==(n=r.active)&&void 0!==n?n:Fp(!1);return d(zg,{className:im.voteNo},d(np.Fragment,null,Zp([a,i,o]).pipe(jp((function(e){var t=e[0],n=e[1],r=e[2];return d("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 24C20.4183 24 24 20.4183 24 16C24 11.5817 20.4183 8 16 8C11.5817 8 8 11.5817 8 16C8 20.4183 11.5817 24 16 24Z",stroke:"#9FA6BF"}),d("path",{d:"M12.5 16H19.5",stroke:"#9FA6BF",strokeLinecap:"round",strokeWidth:t||!n&&r?"1.5":void 0}))})))))},(t=e.SmartPhrases||(e.SmartPhrases={})).ShowMore=function(e){var t=e.className;return d(Dg,Qn({},Xh(t),{width:"16",viewBox:"0 0 16 16"}),d("path",{d:"M6 2.89286C3.93249 3.68362 2.5 5.65449 2.5 8C2.5 10.3455 3.96821 12.3481 6.03571 13.1389M9.96429 2.89286C12.0318 3.68362 13.5 5.65449 13.5 8C13.5 10.3455 12.062 12.3481 9.99453 13.1389M3 2.5H6V5.5M13 13.5H10V10.5",fill:"none"}))},t.HeaderCirclePlus=function(e){var t=e.className;return d(zg,{className:t},d("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",fill:"#11A683"}),d("path",{d:"M4.5 8H11.5M8 4.5V11.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})))},t.HeaderCheckmark=function(e){var t=e.className;return d(zg,{className:t},d("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:"#15C39A"}),d("path",{d:"M5.03033 8.46967C4.73744 8.17678 4.26256 8.17678 3.96967 8.46967C3.67678 8.76256 3.67678 9.23744 3.96967 9.53033L5.03033 8.46967ZM7 11.5L6.46967 12.0303L7 12.5607L7.53033 12.0303L7 11.5ZM13.0303 6.53033C13.3232 6.23744 13.3232 5.76256 13.0303 5.46967C12.7374 5.17678 12.2626 5.17678 11.9697 5.46967L13.0303 6.53033ZM3.96967 9.53033L6.46967 12.0303L7.53033 10.9697L5.03033 8.46967L3.96967 9.53033ZM7.53033 12.0303L13.0303 6.53033L11.9697 5.46967L6.46967 10.9697L7.53033 12.0303Z",fill:"white"})))},t.AddPhraseCirclePlus=function(){return d(zg,{className:im.smartPhrasesAddPhrasesCirclePlus},d("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{d:"M10 7.5V12.5M12.5 10H7.5M15 10C15 12.7614 12.7614 15 10 15C7.23858 15 5 12.7614 5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10Z",stroke:"#11A683",strokeLinecap:"round",strokeLinejoin:"round"})))},t.OpenFeedbackFormArrow=function(){return d(zg,{className:im.smartPhrasesOpenFeedbackFormArrow},d("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{d:"M13.5 10.5L19 16L13.5 21.5",stroke:"#6D758D",strokeLinecap:"round"})))},e.Gear=function(e){var t=e.className,n=e.width,r=void 0===n?24:n;return d(Dg,Qn({},Xh(t),{width:r,viewBox:"0 0 24 24"}),d("path",{d:"M23 14.325h-1.997c-1.436 0-1.99 1.409-.998 2.401l1.413 1.413a.5.5 0 0 1 0 .707l-2.577 2.576a.5.5 0 0 1-.707 0l-1.414-1.414c-1.003-1.002-2.401-.382-2.401.994V23a.5.5 0 0 1-.5.5h-3.645a.5.5 0 0 1-.5-.5v-2c0-1.23-1.544-1.851-2.397-.998L5.86 21.418a.5.5 0 0 1-.707 0L2.578 18.84a.5.5 0 0 1 0-.707l1.417-1.417c1.067-1.067.477-2.398-.993-2.398H1a.5.5 0 0 1-.5-.5v-3.645a.5.5 0 0 1 .5-.5h2.003c1.29 0 1.908-1.484.996-2.397L2.582 5.861a.5.5 0 0 1 0-.707L5.16 2.577a.5.5 0 0 1 .707 0l1.416 1.416c.824.821 2.4.152 2.4-.994V1a.5.5 0 0 1 .5-.5h3.643a.5.5 0 0 1 .5.5v2c0 1.228 1.512 1.884 2.4.995l1.414-1.413a.5.5 0 0 1 .707 0l2.576 2.577a.5.5 0 0 1 0 .707l-1.413 1.413c-.94.94-.343 2.402.995 2.402H23a.5.5 0 0 1 .5.5v3.644a.5.5 0 0 1-.5.5zm-.5-3.644h-1.496c-2.232 0-3.27-2.542-1.702-4.109l1.06-1.06-1.87-1.869-1.06 1.06c-1.526 1.526-4.107.405-4.107-1.703V1.5h-2.644V3c0 2.03-2.647 3.154-4.106 1.701L5.512 3.638l-1.869 1.87L4.706 6.57c1.543 1.544.476 4.104-1.703 4.104H1.5v2.645h1.502c2.345 0 3.408 2.396 1.7 4.105l-1.064 1.064 1.87 1.869 1.062-1.062c1.479-1.48 4.104-.422 4.104 1.705v1.5h2.645v-1.498c0-2.251 2.464-3.345 4.108-1.7l1.06 1.06 1.87-1.87-1.06-1.058c-1.614-1.615-.632-4.109 1.706-4.109H22.5v-2.644zM12 16.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z",stroke:"none"}))},e.Info=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?13:n,viewBox:"0 0 13 13"},d("path",{d:"M6.5 12.5c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-1c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm0-7c-.4 0-.75-.34-.75-.75 0-.4.34-.75.75-.75.4 0 .75.34.75.75 0 .4-.34.75-.75.75zM6 6c0-.28.22-.5.5-.5s.5.22.5.5v3.5c0 .28-.22.5-.5.5S6 9.78 6 9.5V6z",stroke:"none"}))},e.All=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?25:n,viewBox:"0 0 25 13"},d("path",{d:"M1.35 6.37l4.82 4.82L16.44.92c.2-.2.5-.2.7 0 .2.2.2.5 0 .7L6.54 12.25c-.2.2-.52.2-.72 0L.65 7.08c-.2-.2-.2-.52 0-.7.2-.2.5-.2.7 0zM20 4.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5c.28 0 .5.22.5.5s-.22.5-.5.5H20zm-3 3c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5c.28 0 .5.22.5.5s-.22.5-.5.5H17zm-3 3c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4.5c.28 0 .5.22.5.5s-.22.5-.5.5H14z",fillRule:"nonzero"}))},e.SynonymLoader=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?14:n,viewBox:"0 0 14 14"},d("circle",{cx:"7",cy:"7",r:"6",stroke:"#A6ADC9",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeDasharray:"25,300",strokeLinejoin:"round"}))},e.Undo=function(e){var t=e.className,n=e.width,r=void 0===n?18:n,i=e.color;return d(Dg,{className:t,width:r,viewBox:"0 0 18 12"},d("g",{fill:"none",stroke:void 0===i?"#E4E6F2":i,strokeLinecap:"round"},d("path",{d:"M4.85498.551514l-3.5 3.49659 3.49435 3.50341"}),d("path",{d:"M2.00033 4h11.07438c2.03911 0 3.692136 1.534823 3.692136 3.41954 0 1.888558-1.65961 3.419538-3.692137 3.419538h-2.921497"})))},e.OuterLink=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?12:n,viewBox:"0 0 12 11",fill:"none"},d("path",{d:"M4.5 0.5H3C1.89543 0.5 1 1.39543 1 2.5V8.5C1 9.60457 1.89543 10.5 3 10.5H9C10.1046 10.5 11 9.60457 11 8.5V7M6 5.5L11 0.5M11 0.5H7M11 0.5V4.5",strokeLinecap:"round"}))},e.NotificationError=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?26:n,viewBox:"0 0 26 26"},d("g",{stroke:"none"},d("path",{fill:"#FF6C83",d:"M18.943355.651473l6.405172 6.405173c.375073.375072.585786.88378.585786 1.414213v9.05828c0 .530432-.210713 1.03914-.585786 1.414213l-6.405172 6.405172c-.375073.375073-.88378.585786-1.414214.585786H8.47086c-.530434 0-1.039142-.210712-1.414215-.585785l-6.405172-6.40517C.2764 18.56828.065687 18.059575.065687 17.52914V8.47086c0-.530434.210713-1.039142.585786-1.414215L7.056646.651473C7.431718.2764 7.940426.065687 8.47086.065687h9.05828c.530434 0 1.039142.210713 1.414215.585786z"}),d("g",{fill:"#FFF",transform:"translate(12 7)"},d("rect",{width:"2",height:"7",rx:"1"}),d("circle",{cx:"1",cy:"10.5",r:"1"}))))},e.NotificationWarning=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?28:n,viewBox:"0 0 28 25"},d("g",{stroke:"none"},d("path",{fill:"#F6BC41",d:"M15.738773 1.693563l11.3456 19.98132c.5454.96053.20887 2.181324-.75166 2.726722-.301054.170942-.641327.26081-.98753.26081h-22.6912c-1.10457 0-2-.89543-2-2 0-.346203.089867-.686476.26081-.98753l11.3456-19.981323c.545397-.96053 1.766192-1.29706 2.72672-.75166.31377.17816.5735.43789.75166.75166z"}),d("g",{fill:"#FFF",transform:"translate(13 8)"},d("rect",{width:"2",height:"7",rx:"1"}),d("circle",{cx:"1",cy:"10.5",r:"1"}))))},e.NotificationInfo=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("g",{fill:"none",fillRule:"evenodd",stroke:"none"},d("circle",{cx:"12",cy:"12",r:"11.5",fill:"#00CDA3"}),d("path",{stroke:"#FFF",strokeWidth:"2",d:"M7.54 12.81l3.343 3.5 6.657-7.78",strokeLinecap:"round"})))},e.GreenOk=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?32:n,viewBox:"0 0 32 32"},d("path",{fillRule:"evenodd",clipRule:"evenodd",stroke:"none",d:"M32 16c0 8.8366-7.1634 16-16 16-8.83656 0-16-7.1634-16-16C0 7.16344 7.16344 0 16 0c5.152 0 9.7353 2.43504 12.6617 6.21701L15 19.8787l-4.9393-4.9394c-.58583-.5857-1.53557-.5857-2.12136 0-.58579.5858-.58579 1.5356 0 2.1214L15 24.1213 30.302 8.81927C31.3884 10.9787 32 13.4179 32 16z",fill:"#15C39A"}))},e.OnboardingTriangle=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?12:n,viewBox:"0 0 12 14"},d("path",{d:"M6 4l10 12H-4",fill:"#5A5F76",fillRule:"evenodd",fillOpacity:".97",stroke:"none"}))},e.Grammarly=function(e){var t=e.className,n=e.width,r=void 0===n?"100%":n,i=e.color,o=void 0===i?"#15C39A":i;return d(Dg,Qn({},Xh(t,im.gIcon),{width:r,viewBox:"0 0 24 24",dontScale:!0}),d("circle",{stroke:"none",fill:o,cx:"12",cy:"12",r:"11"}),d(Bg,{transform:"scale(.8) translate(6.75 6.5)"}))},e.GrammarlyInverse=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?"100%":n,viewBox:"0 0 64 64",dontScale:!0},d("path",{d:"M32 64a32 32 0 1 1 0-64 32 32 0 0 1 0 64zm6.3-27.66c-1.33 0-2.4 1.2-2.14 2.58.18 1.04 1.17 1.77 2.24 1.77h3.36l1.95-.26c-3.12 4.55-8.51 6.66-14.42 5.75-4.8-.76-8.95-4-10.69-8.56-3.95-10.33 3.6-20.19 13.4-20.19 5.13 0 9.6 3 12.18 6.6v.09a2.15 2.15 0 0 0 3.64-2.3h.02A18.84 18.84 0 0 0 30.7 13.2a18.95 18.95 0 0 0-17.46 17.7 18.7 18.7 0 0 0 18.79 19.79c5.64 0 10.69-2.47 14.15-6.45l-.42 2.29v2.05c0 1.07.73 2.06 1.77 2.24 1.38.26 2.58-.8 2.58-2.13V36.32H38.3v.02z",fill:"#FFF",stroke:"none"}))},e.Rank=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?29:n,viewBox:"0 0 29 28"},d("g",{transform:"translate(1 -1)",fill:"none",fillRule:"evenodd"},d("path",{stroke:"#B0B9DB",strokeLinecap:"round",strokeLinejoin:"round",d:"M1.73 21.53l8.02-9.18 7.65 4.6 8.02-8.42"}),d("path",{d:"M24.73 13.35c0-.2.17-.38.38-.38.22 0 .4.17.4.38v14.42c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38V13.35zm-8 8c0-.2.17-.38.38-.38.22 0 .4.17.4.38v7.1c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38v-7.1zm-7-4c0-.2.17-.38.38-.38.22 0 .4.17.4.38v10.92c0 .22-.18.4-.4.4-.2 0-.37-.18-.37-.4V17.35zm-8 7.85c0-.2.17-.38.38-.38.22 0 .4.17.4.38v2.9c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38v-2.9zm0-23.85c0-.2.17-.38.38-.38.22 0 .4.17.4.38v14.42c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38V1.35zm8 0c0-.2.17-.38.38-.38.22 0 .4.17.4.38v7.1c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38v-7.1zm7 0c0-.2.17-.38.38-.38.22 0 .4.17.4.38v10.92c0 .22-.18.4-.4.4-.2 0-.37-.18-.37-.4V1.35zm8 0c0-.2.17-.38.38-.38.22 0 .4.17.4.38v2.9c0 .2-.18.38-.4.38-.2 0-.37-.17-.37-.38v-2.9z",fill:"#E4E6F2",fillRule:"nonzero"}),d("circle",{stroke:"#BAC1DD",fill:"#FFF",cx:"2.11",cy:"21.14",r:"1.91"}),d("circle",{stroke:"#BAC1DD",fill:"#FFF",cx:"9.75",cy:"12.73",r:"1.91"}),d("circle",{stroke:"#BAC1DD",fill:"#FFF",cx:"17.4",cy:"16.56",r:"1.91"}),d("circle",{stroke:"#BAC1DD",fill:"#FFF",cx:"24.85",cy:"8.91",r:"1.91"})))},e.Paid=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?22:n,viewBox:"0 0 22 17"},d("path",{d:"M10.28 8h-.05c-.12 0-.23.07-.3.16l-4.8 5.28c-.18.18-.17.5 0 .66l10.1 10.1c.17.16.5.16.67 0L26 14.1c.16-.17.17-.48 0-.66l-4.8-5.28c-.1-.1-.22-.16-.36-.16H10.28zm.2.96H13l-2.05 4.32H6.55l3.94-4.32zm3.57 0h3.02l2.06 4.32H12l2.05-4.32zm4.08 0h2.5l3.94 4.32H20.2l-2.07-4.32zm-11.5 5.28h4.3l3.2 7.5-7.5-7.5zm5.33 0h7.2l-3.6 8.38-3.6-8.38zm8.24 0h4.3l-7.5 7.5 3.2-7.5z",transform:"translate(-5 -8)",fillRule:"nonzero",stroke:"none"}))},e.PaidSmall=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?15:n,viewBox:"0 0 14 11"},d("path",{d:"M1 4.10345L3.52632 1H6.05263M1 4.10345L7 10M1 4.10345H4.47368M13 4.10345L10.4737 1H7.94737M13 4.10345L7 10M13 4.10345H9.21053M7 10L4.47368 4.10345M7 10L9.21053 4.10345M4.47368 4.10345H9.21053M4.47368 4.10345L6.05263 1M9.21053 4.10345L7.94737 1M7.94737 1H6.05263",strokeLinecap:"round",fill:"none",strokeLinejoin:"round"}))},e.PaidLink=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.diamondIcon),{width:r,viewBox:"0 0 20 16"}),d("path",{d:"M4.92.88h-.04a.45.45 0 0 0-.28.14L.18 5.88a.46.46 0 0 0 .02.6l9.27 9.27c.16.17.46.17.62 0l9.27-9.27a.46.46 0 0 0 .02-.6l-4.42-4.86a.45.45 0 0 0-.32-.14H4.92zm.2.88h2.3l-1.9 3.97H1.5l3.62-3.97zm3.27 0h2.78l1.89 3.97H6.5l1.9-3.97zm3.76 0h2.3l3.6 3.97h-4.01l-1.9-3.97zM1.58 6.6h3.94l2.95 6.9-6.9-6.9zm4.9 0h6.6l-3.3 7.7-3.3-7.7zm7.56 0h3.94l-6.89 6.9 2.95-6.9z"}))},(n=e.UpgradeHookPanel||(e.UpgradeHookPanel={})).TitleDiamond=function(e){var t=e.className;return d(zg,{className:t},d("svg",{width:"16",height:"24",viewBox:"0 0 16 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{d:"M2 11.1034L4.52632 8H7.05263M2 11.1034L8 17M2 11.1034H5.47368M14 11.1034L11.4737 8H8.94737M14 11.1034L8 17M14 11.1034H10.2105M8 17L5.47368 11.1034M8 17L10.2105 11.1034M5.47368 11.1034H10.2105M5.47368 11.1034L7.05263 8M10.2105 11.1034L8.94737 8M8.94737 8H7.05263",stroke:"#0E101A",strokeLinecap:"round",strokeLinejoin:"round"})))},n.ButtonDiamond=function(){return d(zg,null,d("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d("path",{d:"M7 14.5L10.7895 9.5H14.5789M7 14.5L16 24M7 14.5H12.2105M25 14.5L21.2105 9.5H17.4211M25 14.5L16 24M25 14.5H19.3158M16 24L12.2105 14.5M16 24L19.3158 14.5M12.2105 14.5H19.3158M12.2105 14.5L14.5789 9.5M19.3158 14.5L17.4211 9.5M17.4211 9.5H14.5789",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))},e.CitationStyle=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?8:n,viewBox:"0 0 8 3"},d("path",{d:"M1 0l3 3 3-3",fill:"none",fillRule:"evenodd",strokeLinecap:"round"}))},e.Performance=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?32:n,viewBox:"0 0 32 32"},d("g",{stroke:"#A6ADC9",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},d("path",{d:"M7 22l5-8.5 7 5.5 6-11"}),d("circle",{fill:"#FFF",cx:"7",cy:"22",r:"2"}),d("circle",{fill:"#FFF",cx:"12",cy:"13.5",r:"2"}),d("circle",{fill:"#FFF",cx:"19",cy:"19",r:"2"}),d("circle",{fill:"#FFF",cx:"25",cy:"8",r:"2"})))},e.GoalsEmpty=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?32:n,viewBox:"0 0 32 32"},d("g",{stroke:"#A6ADC9",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},d("circle",{cx:"16",cy:"16",r:"8"}),d("path",{d:"M9 27l2-4m12 4l-2-4m-5-7l9-9V4m0 3h3"}),d("circle",{cx:"16",cy:"16",r:"4"})))},e.GoalsPartial=function(e){var t=e.className,n=e.width,r=void 0===n?32:n,i=e.percentage,o=void 0===i?0:i;return d(Dg,{className:t,width:r,viewBox:"0 0 32 32"},d("circle",{stroke:"#F1F2FA",fill:"none",strokeWidth:"4",cx:"16",cy:"16",r:"7"}),d("circle",{stroke:"#A6ADC9",fill:"none",transform:"rotate(-90 16 16)",strokeDashoffset:2*Math.PI*7*(100-o)/100,strokeDasharray:"43.98 43.98",strokeWidth:"4",cx:"16",cy:"16",r:"7"}))},e.GoalsComplete=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?32:n,viewBox:"0 0 32 32"},d("g",{fill:"none",fillRule:"evenodd"},d("circle",{stroke:"#F1F2FA",strokeWidth:"4",cx:"16",cy:"16",r:"7"}),d("circle",{stroke:"#A6ADC9",strokeWidth:"4",transform:"matrix(1 0 0 -1 0 32)",cx:"16",cy:"16",r:"7"}),d("path",{d:"M9 27l2-4m12 4l-2-4m-5-7l9-9V4m0 3h3",stroke:"#A6ADC9",strokeLinecap:"round",strokeLinejoin:"round"})))},e.Align=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?11:n,viewBox:"0 0 11 15"},d("path",{transform:"translate(-11.000000, -9.000000)",strokeWidth:"1",stroke:"none",fillRule:"nonzero",d:"M16,13.7426407 L13.3535534,16.3890873 C13.1582912,16.5843494 12.8417088,16.5843494 12.6464466,16.3890873 C12.4511845,16.1938252 12.4511845,15.8772427 12.6464466,15.6819805 L16.0533009,12.2751263 C16.1356181,12.1119288 16.3047379,12 16.5,12 C16.5059664,12 16.5119084,12.0001045 16.5178242,12.0003118 C16.6516221,11.9955992 16.7869515,12.0443108 16.8890873,12.1464466 L20.4802536,15.7376129 C20.6755158,15.9328751 20.6755158,16.2494576 20.4802536,16.4447197 C20.2849915,16.6399819 19.968409,16.6399819 19.7731468,16.4447197 L17,13.6715729 L17,23.5 C17,23.7761424 16.7761424,24 16.5,24 C16.2238576,24 16,23.7761424 16,23.5 L16,13.7426407 Z M11.5,10 C11.2238576,10 11,9.77614237 11,9.5 C11,9.22385763 11.2238576,9 11.5,9 L21.5,9 C21.7761424,9 22,9.22385763 22,9.5 C22,9.77614237 21.7761424,10 21.5,10 L11.5,10 Z"}))},e.ToolbarCreate=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.toolbarIcon),{width:r,viewBox:"0 0 20 20"}),d("g",{transform:"translate(1 1)",strokeWidth:"1"},d("circle",{cx:"9",cy:"9",r:"9"}),d("path",{d:"M9 3.375v11.25M3.375 9h11.25"})))},e.ToolbarDownload=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.toolbarIcon),{width:r,viewBox:"0 0 20 19"}),d("path",{strokeWidth:"1",d:"M10 .4886514v12.02026821M5 8.06180972l4.99384055 4.98770004 5.00615945-5M1 14.0773926v1.9329052c0 1.1045695.8954305 2 2 2h14c1.1045695 0 2-.8954305 2-2V14.006229"}))},e.SearchQuestion=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 17"},d("g",{transform:"translate(1 1)",stroke:"#A6ADC9",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},d("path",{d:"M10.9 10.9l4.972 4.972"}),d("circle",{cx:"6",cy:"6",r:"6"})))},e.TriangleArrow=function(e){var t=e.className,n=e.width;return d(Dg,{viewBox:"0 0 50 50",className:t,width:void 0===n?10:n},d("polygon",{points:"6,40 23,14 40,40"}))},e.HideAssistantStatic=function(e){var t=e.className,n=e.width;return d(Dg,{viewBox:"0 0 42 26",className:t,width:void 0===n?20:n},d("path",{d:"M0 1h22M0 7h22M0 13h22M0 19h22M0 25h12",stroke:"#A5ACC8",strokeWidth:"2"}),d("path",{d:"M41.02 2v22a1 1 0 0 1-1 1h-10a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z",stroke:"#A5ACC8",fill:"none",strokeWidth:"2"}))},e.WordCounter=function(e){var t=e.className,n=e.width;return d(Dg,{viewBox:"0 0 19 17",className:t,width:void 0===n?20:n},d("path",{d:"M7 16h2v-2.1308594c0-.2763672.2236328-.5.5-.5.2763672 0 .5.2236328.5.5V16h2v-2.9404297c0-.2763672.2236328-.5.5-.5.2763672 0 .5.2236328.5.5V16h2v-2.1308593c0-.2763672.2236328-.5.5-.5.2763672 0 .5.2236328.5.5V16h2v-6H1v6h2v-2.1308594c0-.2763672.2236328-.5.5-.5.2763672 0 .5.2236328.5.5V16h2v-2.9404297c0-.2763672.2236328-.5.5-.5.2763672 0 .5.2236328.5.5V16zm-7 .4914443V9.5085557C0 9.2274595.2236328 9 .5 9h18c.2763672 0 .5.2274595.5.5085557v6.9828886C19 16.7725405 18.7763672 17 18.5 17H.5c-.2763672 0-.5-.2274595-.5-.5085557zM9.5 0L13 5H6l3.5-5z",fill:"#9FA6BF",fillRule:"evenodd",stroke:"none"}))},(i=e.Emote||(e.Emote={})).VerySatisfied=function(e){var t=e.width,n=void 0===t?24:t;return d(Dg,{className:im.emote,viewBox:"0 0 24 24",width:n},d("path",{d:"M7.75 9.84c-1.52 0-1.75 1.53-1.75.4 0-.96.47-2.8 1.75-2.8s1.75 1.84 1.75 2.8c0 1.13-.23-.4-1.75-.4zm8.5 0c-1.52 0-1.75 1.53-1.75.4 0-.96.47-2.8 1.75-2.8S18 9.28 18 10.24c0 1.13-.23-.4-1.75-.4zM12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm0 2a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-6.29-8.42a1 1 0 1 1 1.63-1.16A5.71 5.71 0 0 0 12 16.88c1.86 0 3.57-.92 4.66-2.46a1 1 0 0 1 1.63 1.16 7.7 7.7 0 0 1-6.29 3.3 7.7 7.7 0 0 1-6.29-3.3z"}))},i.Satisfied=function(e){var t=e.width,n=void 0===t?24:t;return d(Dg,{className:im.emote,viewBox:"0 0 24 24",width:n},d("path",{d:"M7.75 12a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zm8.5 0a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zM12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm0 2a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm4.72-7.3A6.33 6.33 0 0 1 12 18.52c-1.93 0-3.53-.6-4.72-1.82a1 1 0 1 1 1.44-1.4c.79.81 1.86 1.22 3.28 1.22 1.42 0 2.5-.4 3.28-1.22a1 1 0 0 1 1.44 1.4z"}))},i.Neutral=function(e){var t=e.width,n=void 0===t?24:t;return d(Dg,{className:im.emote,viewBox:"0 0 24 24",width:n},d("path",{d:"M7.75 12a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zm8.5 0a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zM12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm0 2a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-3.5-7a1 1 0 1 1 0-2h7a1 1 0 1 1 0 2h-7z"}))},i.Unsatisfied=function(e){var t=e.width,n=void 0===t?24:t;return d(Dg,{className:im.emote,viewBox:"0 0 24 24",width:n},d("path",{d:"M7.75 12a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zm8.5 0a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zM12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm0 2a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm4.47-8.14a1 1 0 1 1-.94 1.77A7.7 7.7 0 0 0 12 16.7c-1.21 0-2.44.35-3.54.93a1 1 0 0 1-.92-1.77A9.68 9.68 0 0 1 12 14.7c1.57 0 3.11.44 4.47 1.16z"}))},i.VeryUnsatisfied=function(e){var t=e.width,n=void 0===t?24:t;return d(Dg,{className:im.emote,viewBox:"0 0 24 24",width:n},d("path",{d:"M17.44 16.56a1 1 0 1 1-1.76.94C14.8 15.85 13.45 15 12 15c-1.46 0-2.84.86-3.7 2.5a1 1 0 1 1-1.77-.92C7.73 14.28 9.78 13 12 13c2.2 0 4.22 1.27 5.44 3.56zM7.75 12a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zm8.5 0a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zM12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm0 2a12 12 0 1 1 0-24 12 12 0 0 1 0 24z"}))},(o=e.Formatting||(e.Formatting={})).Head=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?17:n,viewBox:"0 0 17 16"},d("path",{d:"M15.406 9l-2.737 15H11.5l2.737-15H8V8h14v1h-6.594zm4.54 15h-1.17l1.46-8H17v-1h8v1h-3.594l-1.46 8z",transform:"translate(-8 -8)",stroke:"none"}))},o.Bold=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M17 14.5c0 1.9329966-1.5670034 3.5-3.5 3.5H8V6h4.5C14.4329966 6 16 7.56700338 16 9.5c0 .7565678-.240051 1.4570687-.6481422 2.029492C16.3415826 12.1478064 17 13.2470124 17 14.5zM10 8v3h2.5c.8284271 0 1.5-.6715729 1.5-1.5 0-.82842712-.6715729-1.5-1.5-1.5H10zm0 5v3h3.5c.8284271 0 1.5-.6715729 1.5-1.5s-.6715729-1.5-1.5-1.5H10z",stroke:"none"}))},o.Italic=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M10.5827118 17l1.8181818-10H10V6h6v1h-2.5827118l-1.8181818 10H14v1H8v-1h2.5827118z",stroke:"none"}))},o.Underline=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M7.5 6h1v6.5c0 1.9329966 1.5670034 3.5 3.5 3.5s3.5-1.5670034 3.5-3.5V6h1v6.5c0 2.4852814-2.0147186 4.5-4.5 4.5-2.48528137 0-4.5-2.0147186-4.5-4.5V6zM6 20v-1h12v1H6z",stroke:"none"}))},o.Header1=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M6 11h5V6h1v12h-1v-6H6v6H5V6h1v5zm11.6477238-1.7272644V18h-1.0056809v-7.193175h-.0681817c-.1235794.2386362-.8394879.6477267-1.8409074.6477267v-.8863628c1.3465897 0 1.9730095-1.20596475 2.0284072-1.2954533h.8863628z",stroke:"none"}))},o.Header2=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M6 11h5V6h1v12h-1v-6H6v6H5V6h1v5zm7.9034082 7v-.7670447l2.8806791-3.1534061c1.0099422-1.1036921 1.4829531-1.7002825 1.4829531-2.5056794 0-.9204523-.7244311-1.4999986-1.6704529-1.4999986-1.0099422 0-1.6534075.6605107-1.6534075 1.6534075h-1.0056809c0-1.5340894 1.1633512-2.57386117 2.6931793-2.57386117 1.5340894 0 2.6249975 1.07386257 2.6249975 2.42045227 0 .9673286-.4431814 1.7173279-1.94318 3.3238604l-1.9602254 2.0965889v.0681818h4.0568143V18h-5.5056766z",stroke:"none"}))},o.Link=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M10.79289322 15.5355339c.19526214-.19526214.51184462-.19526216.70710678 0 .19526216.19526217.19526214.51184464 0 .70710679l-1.06066017 1.06066017c-1.17157288 1.17157287-3.07106785 1.17157284-4.24264069 0s-1.17157287-3.07106781 0-4.24264069l2.47487374-2.47487373c.97631074-.97631075 2.55922315-.97631075 3.5355339 0 .19526216.19526216.19526216.51184462 0 .70710678-.19526216.19526216-.51184462.19526216-.70710678 0-.58578642-.58578642-1.53553392-.58578642-2.12132034 0l-2.47487374 2.47487373c-.78104858.78104859-.78104858 2.04737854 0 2.82842713.78104859.78104858 2.04737854.78104858 2.82842713 0l1.06066017-1.06066017zm1.41421356-7.0710678c-.19526216.19526216-.51184464.19526214-.70710678 0-.19526214-.19526215-.19526216-.51184462 0-.70710679l1.06066017-1.06066017c1.17157284-1.17157284 3.07106785-1.17157284 4.24264069 0s1.17157284 3.07106785 0 4.24264069l-2.47487374 2.47487373c-.97631074.97631075-2.55922315.97631075-3.5355339 0-.19526216-.19526216-.19526216-.51184462 0-.70710678.19526216-.19526216.51184462-.19526216.70710678 0 .58578642.58578642 1.53553392.58578642 2.12132034 0l2.47487374-2.47487373c.78104858-.78104859.78104858-2.04737854 0-2.82842713-.78104859-.78104858-2.04737854-.78104858-2.82842713 0L12.20710678 8.4644661z",stroke:"none"}))},o.OrderedList=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M7.28569043 17H9v1H6v-.7643054c0-.2985079.13335599-.5814079.36361705-.7713733l1.45457443-1.2000239C7.933322 15.1693147 8 15.0278648 8 14.8786108V14.425c0-.234721-.19027898-.425-.425-.425H7.5c-.27614237 0-.5.2238576-.5.5v.5H6v-.5c0-.8284271.67157288-1.5 1.5-1.5h.075C8.36200577 13 9 13.6379942 9 14.425v.4536108c0 .4477619-.20003399.8721118-.54542557 1.1570599L7.28569043 17zM9 10v1H6v-1h1V7H6V6h2v4h1zm2.5-2c-.2761424 0-.5-.22385763-.5-.5 0-.27614237.2238576-.5.5-.5h7c.2761424 0 .5.22385763.5.5 0 .27614237-.2238576.5-.5.5h-7zm0 10c-.2761424 0-.5-.2238576-.5-.5s.2238576-.5.5-.5h7c.2761424 0 .5.2238576.5.5s-.2238576.5-.5.5h-7zm0-5c-.2761424 0-.5-.2238576-.5-.5s.2238576-.5.5-.5h7c.2761424 0 .5.2238576.5.5s-.2238576.5-.5.5h-7z",stroke:"none"}))},o.BulletList=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("path",{d:"M10.5 8c-.2761424 0-.5-.22385763-.5-.5 0-.27614237.2238576-.5.5-.5h7c.2761424 0 .5.22385763.5.5 0 .27614237-.2238576.5-.5.5h-7zm-4 5.5c-.55228475 0-1-.4477153-1-1s.44771525-1 1-1 1 .4477153 1 1-.44771525 1-1 1zm0 5c-.55228475 0-1-.4477153-1-1s.44771525-1 1-1 1 .4477153 1 1-.44771525 1-1 1zm0-10c-.55228475 0-1-.44771525-1-1s.44771525-1 1-1 1 .44771525 1 1-.44771525 1-1 1zm4 9.5c-.2761424 0-.5-.2238576-.5-.5s.2238576-.5.5-.5h7c.2761424 0 .5.2238576.5.5s-.2238576.5-.5.5h-7zm0-5c-.2761424 0-.5-.2238576-.5-.5s.2238576-.5.5-.5h7c.2761424 0 .5.2238576.5.5s-.2238576.5-.5.5h-7z",stroke:"none"}))},o.Clear=function(e){var t=e.className,n=e.width;return d(Dg,{dontScale:!0,className:t,width:void 0===n?24:n,viewBox:"0 0 24 24"},d("rect",{stroke:"none",fill:"none",width:"24",height:"24",rx:"4"}),d("path",{d:"M16.8328726 18L5.29441111 6h1.37271624L18.2055889 18h-1.3727163zm-5.7179705 0h-1.0214709l.953124-4.574995.8395651.8731477L11.1149021 18zm1.5097756-7.2469228l-.8395651-.87314768L12.3850979 7H9.01594957l-.96153846-1H18v1h-4.5934312l-.7818911 3.7530772z",stroke:"none"}))},(a=e.DocumentSettings||(e.DocumentSettings={})).ExpandMenu=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?23:n,viewBox:"0 0 23 14"},d("path",{d:"M23 6.5L20 9V4l3 2.5zM.85 1C.65 1 .5.78.5.5S.66 0 .85 0h13.3c.2 0 .35.22.35.5s-.16.5-.35.5H.85zm0 12c-.2 0-.35-.22-.35-.5s.16-.5.35-.5h13.3c.2 0 .35.22.35.5s-.16.5-.35.5H.85zm0-6C.65 7 .5 6.78.5 6.5S.66 6 .85 6h13.3c.2 0 .35.22.35.5s-.16.5-.35.5H.85z",stroke:"none"}))},a.Collapse=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?27:n,viewBox:"0 0 27 15"},d("path",{d:"M26 1a.5.5 0 0 0 0-1H7a.5.5 0 1 0 0 1h19zM0 7.5L3 10V5L0 7.5zM26 15a.5.5 0 1 0 0-1H7a.5.5 0 1 0 0 1h19zm0-7a.5.5 0 1 0 0-1H7a.5.5 0 1 0 0 1h19z",stroke:"none"}))},a.NewDocument=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?21:n,viewBox:"0 0 21 21"},d("path",{d:"M11 10h4c.14 0 .26.05.36.14.1.1.14.21.14.36s-.05.27-.14.36c-.1.1-.22.14-.36.14h-4v4c0 .15-.05.27-.14.36-.1.1-.21.15-.36.15a.49.49 0 0 1-.36-.15.49.49 0 0 1-.14-.35V11H6a.49.49 0 0 1-.36-.14.49.49 0 0 1-.14-.36c0-.15.05-.27.14-.36.1-.1.21-.14.36-.14h4V6c0-.15.05-.27.14-.36.1-.1.21-.14.36-.14s.27.04.36.14c.1.1.14.21.14.36v4zm-.5 11c-1.45 0-2.8-.28-4.08-.83a10.66 10.66 0 0 1-5.6-5.59A10.16 10.16 0 0 1 0 10.5c0-1.45.28-2.8.83-4.08A10.66 10.66 0 0 1 6.42.82C7.69.29 9.05 0 10.5 0c1.45 0 2.8.28 4.08.83a10.66 10.66 0 0 1 5.6 5.59c.54 1.27.82 2.63.82 4.08 0 1.45-.28 2.8-.83 4.08a10.66 10.66 0 0 1-5.59 5.6c-1.27.54-2.63.82-4.08.82zm0-1a9.35 9.35 0 0 0 6.72-2.78A9.35 9.35 0 0 0 20 10.5a9.35 9.35 0 0 0-2.78-6.72A9.35 9.35 0 0 0 10.5 1a9.35 9.35 0 0 0-6.72 2.78A9.35 9.35 0 0 0 1 10.5a9.35 9.35 0 0 0 2.78 6.72A9.35 9.35 0 0 0 10.5 20z",stroke:"none"}))},a.UploadFile=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?21:n,viewBox:"0 0 21 20"},d("path",{d:"M10 1.7v12.8l.1.3.4.2c.1 0 .3 0 .4-.2l.1-.3V1.7l4.2 4.1.3.2c.1 0 .3 0 .3-.2l.2-.3c0-.1 0-.3-.2-.3l-5-5a.5.5 0 0 0-.7 0l-5 5a.5.5 0 0 0 0 .6l.4.2c.1 0 .3 0 .3-.2L10 1.7zM0 15.6l.1-.4.4-.1.4.1.1.4v1.9c0 .4.1.8.4 1 .3.4.7.5 1.1.5h16c.4 0 .8-.1 1-.4.4-.3.5-.7.5-1.1v-2l.1-.4.4-.1.4.1.1.4v2c0 .7-.2 1.3-.7 1.8-.5.5-1.1.7-1.8.7h-16c-.7 0-1.3-.2-1.8-.7-.5-.5-.7-1.1-.7-1.8v-2z",stroke:"none"}))},a.UndoGrey=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 12"},d("path",{d:"M5 0v1L2 4h11a4 4 0 0 1 0 8h-2a1 1 0 0 1 0-1h2a3 3 0 1 0 0-6H2l3 3v1L0 5l5-5z",stroke:"none"}))},a.Redo=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 12"},d("path",{d:"M5 0v1L2 4h11a4 4 0 0 1 0 8h-2a1 1 0 0 1 0-1h2a3 3 0 1 0 0-6H2l3 3v1L0 5l5-5z",transform:"matrix(-1 0 0 1 17 0)",stroke:"none"}))},a.Cut=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?19:n,viewBox:"0 0 19 18"},d("path",{d:"M8.95 8.126L5.55.717a.5.5 0 0 1 .9-.434L9.5 6.927 12.55.283a.5.5 0 1 1 .9.434l-6.728 14.66a.507.507 0 0 1-.018.034 3.5 3.5 0 1 1 .092-2.592L8.95 8.126zM3.5 16.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm6.439-6.22l.55-1.199 1.715 3.738A3.501 3.501 0 0 1 19 14a3.5 3.5 0 0 1-6.704 1.411.507.507 0 0 1-.018-.034l-2.34-5.098zM15.5 16.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z",stroke:"none"}))},a.Paste=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 24"},d("path",{d:"M4.05 2A2.5 2.5 0 0 1 6.5 0h2c1.2 0 2.22.86 2.45 2h2.55c.83 0 1.5.67 1.5 1.5v2.55a.5.5 0 1 1-1 0V3.5a.5.5 0 0 0-.5-.5H11v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V3H1.5c-.28 0-.5.2-.5.45v16.1c0 .24.22.45.5.45H3a.5.5 0 1 1 0 1H1.5C.68 21 0 20.36 0 19.55V3.45C0 2.65.68 2 1.5 2h2.55zm5.95.57a.5.5 0 0 1 0-.13A1.5 1.5 0 0 0 8.5 1h-2C5.67 1 5 1.67 5 2.5V4h5V2.57zM6 9.5v13c0 .28.22.5.5.5h10a.5.5 0 0 0 .5-.5v-13a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5zM16.5 8c.83 0 1.5.67 1.5 1.5v13c0 .83-.67 1.5-1.5 1.5h-10A1.5 1.5 0 0 1 5 22.5v-13C5 8.67 5.67 8 6.5 8h10zm-8 4a.5.5 0 1 1 0-1h6a.5.5 0 1 1 0 1h-6zm0 3a.5.5 0 1 1 0-1h6a.5.5 0 1 1 0 1h-6zm0 3a.5.5 0 1 1 0-1h6a.5.5 0 1 1 0 1h-6zm0 3a.5.5 0 1 1 0-1h3a.5.5 0 1 1 0 1h-3z",stroke:"none"}))},a.PrintFile=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?20:n,viewBox:"0 0 20 19"},d("path",{d:"M4 .5c0-.28.22-.5.5-.5h11c.28 0 .5.22.5.5V5h3.5c.28 0 .5.22.5.5v9a.5.5 0 0 1-.5.5H16v3.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V15H.5a.5.5 0 0 1-.5-.5v-9c0-.28.22-.5.5-.5H4V.5zM5 5h10V1H5v4zm-1 9V9.5c0-.28.22-.5.5-.5h11c.28 0 .5.22.5.5V14h3V6H1v8h3zm11-4H5v8h10v-8zm-8.5 2.5c0-.28.22-.5.5-.5h6a.5.5 0 0 1 0 1H7a.5.5 0 0 1-.5-.5zm0 3c0-.28.22-.5.5-.5h4a.5.5 0 0 1 0 1H7a.5.5 0 0 1-.5-.5z",stroke:"none"}))},a.FreeLabel=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?32:n,viewBox:"0 0 32 13"},d("rect",{fill:"#4A6EE0",width:"32",height:"13",rx:"2",stroke:"none"}),d("text",{fontFamily:"Helvetica",fontSize:"10",fontWeight:"bold",letterSpacing:"0.4761905",fill:"#FFFFFF",fontStyle:"normal",stroke:"none"},d("tspan",{x:"2.21265806",y:"10"},"FREE")))},a.PremiumLabel=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?54:n,viewBox:"0 0 54 13"},d("rect",{fill:"#FAB712",width:"54",height:"13",rx:"2",stroke:"none"}),d("text",{fontFamily:"Helvetica",fontSize:"10",fontWeight:"bold",letterSpacing:"0.4761905",fill:"#FFFFFF",fontStyle:"normal",stroke:"none"},d("tspan",{x:"2.21265806",y:"10"},"PREMIUM")))},a.BusinessLabel=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?59:n,viewBox:"0 0 59 13"},d("rect",{fill:"#15C39A",width:"59",height:"13",rx:"2",stroke:"none"}),d("text",{fontFamily:"Helvetica",fontSize:"10",fontWeight:"bold",letterSpacing:"0.4761905",fill:"#FFFFFF",fontStyle:"normal",stroke:"none"},d("tspan",{x:"2.21265806",y:"10"},"BUSINESS")))},a.AustralianFlag=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?28:n,viewBox:"0 0 32 32"},d("g",{stroke:"none"},d("path",{d:"M24 16a8 8 0 0 1-16 0l8-8a8 8 0 0 1 8 8z",fill:"#006"}),d("path",{d:"M16 12.17V8a8 8 0 0 0-8 8h4.17v-2.35L14.52 16h1.46l.02-.02v-1.46l-2.35-2.35H16z",fill:"#F0F2FC"}),d("path",{d:"M12.02 9H16v2.1h-4.9V16H9v-3.98A8.09 8.09 0 0 1 12.02 9zM16 15.01V16l-3.85-3.85h.99L16 15.01z",fill:"#CE1331"}),d("path",{d:"M13 17.25l.5.99 1.1-.25-.5.99.9.68-1.11.24V21l-.89-.69-.89.69v-1.1L11 19.66l.9-.68-.5-.99 1.1.25.5-.99zM20 19l.25.49.55-.12-.25.48.45.34-.56.12v.54l-.44-.34-.45.34v-.54l-.55-.12.45-.34-.25-.48.55.12L20 19zm-2-4l.25.49.55-.12-.25.48.45.34-.56.12v.54l-.44-.34-.45.34v-.54l-.55-.12.45-.34-.25-.48.55.12L18 15zm2-3l.25.49.55-.12-.25.48.45.34-.56.12v.54l-.44-.34-.45.34v-.54l-.55-.12.45-.34-.25-.48.55.12L20 12zm2 2l.25.49.55-.12-.25.48.45.34-.56.12v.54l-.44-.34-.45.34v-.54l-.55-.12.45-.34-.25-.48.55.12L22 14zm-1.24 2.33l.18.51h.58l-.47.32.18.5-.47-.3-.47.3.18-.5-.47-.32h.58l.18-.5z",fill:"#F0F2FC"})))},a.CanadianFlag=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 16"},d("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:"#D8D8D8",stroke:"none"}),d("mask",{id:"canadian_flag_mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",stroke:"none"},d("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:"white"})),d("g",{mask:"url(#canadian_flag_mask0)"},d("path",{d:"M1.0061 -2H15.0061V18H1.0061V-2Z",fill:"#F0F2FC"}),d("path",{d:"M-5 -2H1.99903V18H-5V-2ZM14.001 -2H21V18H14.0048L14.001 -2ZM12.915 8.98304L10.5186 10.7764C10.4162 10.8513 10.372 10.9755 10.4063 11.0921L10.596 11.7198C10.187 11.6765 9.80774 11.6232 9.4317 11.5704C9.02819 11.5138 8.6284 11.4576 8.19955 11.4149C8.12987 11.4077 8.01759 11.5261 8.01759 11.605L8.07954 13.94H7.69239L7.80079 11.5978C7.80079 11.5225 7.6769 11.4149 7.60722 11.4149C7.15012 11.4594 6.73016 11.5184 6.31032 11.5775C5.95142 11.628 5.59261 11.6784 5.21078 11.7198L5.42371 11.0562C5.45299 10.943 5.40928 10.8243 5.31144 10.7513L2.915 8.95793L3.41055 8.74273C3.60803 8.67738 3.57745 8.57633 3.50898 8.35011C3.50228 8.32797 3.49522 8.30464 3.48798 8.28003L3.12406 7.04617L4.51779 7.31877C4.62573 7.33811 4.73222 7.27954 4.76556 7.18247L4.94365 6.60141L6.04702 7.7456C6.21349 7.92852 6.53095 7.92852 6.43416 7.50528L5.96184 5.20255L6.59289 5.50743C6.77098 5.5971 6.94907 5.61145 7.04973 5.45004L7.92081 3.94L8.78027 5.4608C8.88093 5.62221 9.05902 5.60786 9.23711 5.51819L9.86815 5.21331L9.39584 7.53039C9.31066 7.95363 9.62812 7.95363 9.78298 7.7707L10.8864 6.62651L11.0644 7.20757C11.0978 7.30464 11.2043 7.36322 11.3122 7.34387L12.7059 7.07128L12.342 8.30514C12.3348 8.32975 12.3277 8.35308 12.321 8.37521C12.2526 8.60144 12.222 8.70249 12.4195 8.76783L12.915 8.98304Z",fill:"#FF0000",stroke:"none"})))},a.GBFlag=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 16"},d("g",{stroke:"none"},d("circle",{fill:"#006",cx:"8",cy:"8",r:"8"}),d("path",{d:"M15.75 6a8.01 8.01 0 0 1 0 4h-4.13l2.79 2.79c-.6.8-1.36 1.5-2.22 2.02L10 12.62v3.13a8.01 8.01 0 0 1-4 0v-3.13l-2.2 2.2a8.04 8.04 0 0 1-2.2-2.03L4.37 10H.25a8.01 8.01 0 0 1 0-4h3.13l-2.2-2.2a8.04 8.04 0 0 1 2.03-2.2L6 4.37V.25a8.01 8.01 0 0 1 4 0v4.13l2.79-2.79c.8.6 1.5 1.36 2.02 2.22L12.62 6h3.13z",fill:"#F0F2FC"}),d("path",{d:"M14.1 13.17c-.32.38-.68.73-1.07 1.05L9 10.18v5.76a8.08 8.08 0 0 1-2 0v-5.01l-3.61 3.6c-.41-.28-.8-.61-1.14-.97L6.8 9H.06a8.08 8.08 0 0 1 0-2H5.1L1.47 3.38c.29-.41.62-.8.98-1.14L7 6.79V.06a8.08 8.08 0 0 1 2 0V6.1l4.19-4.19c.38.33.73.69 1.05 1.08L10.22 7h5.72a8.08 8.08 0 0 1 0 2h-6l4.17 4.17z",fill:"#CE1331"}),d("path",{d:"M15.94 7H9V.06c.34.04.67.1 1 .2V6h5.75c.08.33.15.66.19 1zM7 .06V7H.06c.04-.34.1-.67.2-1H6V.25c.33-.08.66-.15 1-.19zM15.94 9c-.04.34-.1.67-.2 1H10v5.75c-.33.08-.66.15-1 .19V9h6.94zM.06 9H7v6.94c-.34-.04-.67-.1-1-.2V10H.25a7.96 7.96 0 0 1-.19-1z",fill:"#F0F2FC"})))},a.USFlag=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 16"},d("g",{stroke:"none"},d("path",{d:"M2.7 2h10.6c.64.57 1.2 1.25 1.63 2H1.07c.44-.75.99-1.43 1.64-2zM.26 6h15.5c.16.64.25 1.3.25 2H0c0-.7.09-1.36.25-2zm0 4h15.5a7.95 7.95 0 0 1-.82 2H1.07a7.95 7.95 0 0 1-.82-2zm2.46 4h10.58a7.97 7.97 0 0 1-10.58 0z",fill:"#CE1331"}),d("path",{d:"M13.3 2H2.7a7.97 7.97 0 0 1 10.6 0zM1.06 4h13.86c.36.62.64 1.29.82 2H.25c.18-.71.46-1.38.82-2zM0 8h16c0 .7-.09 1.36-.25 2H.25A8.01 8.01 0 0 1 0 8zm1.07 4h13.86a8.04 8.04 0 0 1-1.64 2H2.71a8.04 8.04 0 0 1-1.64-2z",fill:"#F0F2FC"}),d("path",{d:"M8 0v8H0a8 8 0 0 1 8-8z",fill:"#006"}),d("path",{d:"M6.05 1.05l.22.7H7l-.59.42.23.68-.59-.42-.59.42.23-.69-.59-.42h.73l.22-.69zM4 2.8l.22.69h.73l-.59.42.22.7L4 4.18l-.59.42.22-.69-.58-.42h.72l.23-.7zM1.94 4.54l.23.7h.72l-.58.42.22.69-.59-.43-.58.43.22-.7L1 5.23h.72l.22-.69zm4.11 0l.22.7H7l-.59.42.23.69-.59-.43-.59.43.23-.7-.59-.42h.73l.22-.69z",fill:"#F0F2FC"})))},a.Home=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?18:n,viewBox:"0 0 18 19"},d("path",{d:"M1 7.97V18.5a.5.5 0 1 1-1 0V7.74a.5.5 0 0 1 .18-.38L8.68.12a.5.5 0 0 1 .64 0l8.5 7.24c.12.1.18.23.18.38V18.5a.5.5 0 1 1-1 0V7.97L9 1.16l-8 6.8zM7 18.5a.5.5 0 1 1-1 0V13a3 3 0 0 1 6 0v5.5a.5.5 0 1 1-1 0V13a2 2 0 1 0-4 0v5.5z",stroke:"none"}))},a.Selected=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?14:n,viewBox:"0 0 14 12"},d("path",{d:"M4.47 9.72l8.6-9.56a.4.4 0 0 1 .32-.16c.14 0 .26.04.36.13.1.1.16.22.17.35a.5.5 0 0 1-.1.36L4.5 11.16.16 6.66A.5.5 0 0 1 0 6.3a.4.4 0 0 1 .16-.33.5.5 0 0 1 .71 0l3.6 3.75z",stroke:"none",fill:"#4A6EE0"}))},e.VotedUp=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?14:n,viewBox:"0 0 14 12"},d("path",{d:"M18.38,7 L19.17,7.79 C19.37,8 19.5,8.28 19.5,8.59 L19.5,8.59 L19.48,8.82 L18.82,12 L23,12 C23.55,12 24,12.45 24,13 L24,13 L24,14.25 C24,14.44 23.96,14.63 23.89,14.8 L23.89,14.8 L21.63,19.09 C21.4,19.62 20.87,20 20.25,20 L20.25,20 L14.5,20 C13.67,20 13,19.33 13,18.5 L13,18.5 L13,13 C13,12.59 13.17,12.21 13.44,11.94 L13.44,11.94 L18.38,7 Z M11,12 C11.5522847,12 12,12.4477153 12,13 L12,19 C12,19.5522847 11.5522847,20 11,20 L10,20 C9.44771525,20 9,19.5522847 9,19 L9,13 C9,12.4477153 9.44771525,12 10,12 L11,12 Z",stroke:"none",transform:"translate(-9, -7)"}))},e.VotedDown=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?16:n,viewBox:"0 0 16 13"},d("path",{d:"M18.38,7 L19.17,7.79 C19.37,8 19.5,8.28 19.5,8.59 L19.5,8.59 L19.48,8.82 L18.82,12 L23,12 C23.55,12 24,12.45 24,13 L24,13 L24,14.25 C24,14.44 23.96,14.63 23.89,14.8 L23.89,14.8 L21.63,19.09 C21.4,19.62 20.87,20 20.25,20 L20.25,20 L14.5,20 C13.67,20 13,19.33 13,18.5 L13,18.5 L13,13 C13,12.59 13.17,12.21 13.44,11.94 L13.44,11.94 L18.38,7 Z M11,12 C11.5522847,12 12,12.4477153 12,13 L12,19 C12,19.5522847 11.5522847,20 11,20 L10,20 C9.44771525,20 9,19.5522847 9,19 L9,13 C9,12.4477153 9.44771525,12 10,12 L11,12 Z",stroke:"none",transform:"translate(23, 20) scale(-1, -1)"}))},e.NoTone=function(e){var t=e.className,n=e.width;return d(Dg,{className:t,width:void 0===n?19:n,viewBox:"0 0 19 18"},d("g",{transform:"translate(2 2)",stroke:"#9FA6BF",fill:"none"},d("circle",{cx:"7.5",cy:"7.5",r:"7.5"}),d("circle",{fill:"#D8D8D8",cx:"4.5",cy:"5.5",r:"1"}),d("circle",{fill:"#D8D8D8",cx:"10.5",cy:"5.5",r:"1"}),d("path",{d:"M3.5 10.5l.571-.5A2.603 2.603 0 0 1 7.5 10a2.603 2.603 0 0 0 3.429 0l.571-.5"})))},e.ClarityOutcome=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.noStrokeIcon),{width:r,viewBox:"0 0 20 20",dontScale:!0}),d("path",{fill:"#B3D1FF",fillRule:"evenodd",d:"M10.1 15.9c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z",clipRule:"evenodd",opacity:"0.6"}),d("path",{fill:"#548AFF",d:"M16.1 9.9c0 3.3-2.7 6-6 6s-6-2.7-6-6c0-.6.1-1.2.3-1.8 1.7-.8 3.9-.5 5.2 1l.1.1c1.5 1.8 4.2 2 6 .5l.4-.4v.6z"}))},e.PlagiarismOutcome=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.noStrokeIcon),{width:r,viewBox:"0 0 20 20",dontScale:!0}),d("path",{fill:"#5CDAE6",d:"M7.8 9.1c0-.8.7-1.5 1.5-1.5h5.2c.8 0 1.5.7 1.5 1.5v5.2c0 .8-.7 1.5-1.5 1.5H9.3c-.8 0-1.5-.7-1.5-1.5V9.1z"}),d("path",{fill:"#99F7FF",d:"M4.1 5.4c0-.8.7-1.5 1.5-1.5h5.2c.8 0 1.5.7 1.5 1.5v5.2c0 .8-.7 1.5-1.5 1.5H5.6c-.8 0-1.5-.7-1.5-1.5V5.4z"}),d("path",{fill:"#79E8F2",fillRule:"evenodd",d:"M12.3 7.6v3c0 .8-.7 1.5-1.5 1.5h-3v-3c0-.8.7-1.5 1.5-1.5h3z",clipRule:"evenodd"}))},e.DeliveryOutcome=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.noStrokeIcon),{width:r,viewBox:"0 0 20 20",dontScale:!0}),d("path",{fill:"#E8C7FF",fillRule:"evenodd",d:"M10.1 15.9c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z",clipRule:"evenodd"}),d("path",{fill:"#D29CFA",fillRule:"evenodd",d:"M10.1 15.9c2.5 0 4.5-2 4.5-4.5s-2-4.5-4.5-4.5-4.5 2-4.5 4.5 2 4.5 4.5 4.5z",clipRule:"evenodd"}),d("path",{fill:"#BC78ED",fillRule:"evenodd",d:"M10.1 15.9c1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3 1.3 3 3 3z",clipRule:"evenodd"}))},e.EngagementOutcome=function(e){var t=e.className,n=e.width,r=void 0===n?20:n;return d(Dg,Qn({},Xh(t,im.noStrokeIcon),{width:r,viewBox:"0 0 20 20",dontScale:!0}),d("path",{fill:"#B9F9EA",fillRule:"evenodd",d:"M10.1 15.9c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z",clipRule:"evenodd"}),d("path",{fill:"#0FDCAC",fillRule:"evenodd",d:"M10.1 11.4c2.1 0 3.8-1.7 3.8-3.7s-1.7-3.8-3.8-3.8-3.7 1.7-3.7 3.7 1.6 3.8 3.7 3.8zm0 4.5c2.1 0 3.8-1.7 3.8-3.8s-1.7-3.8-3.8-3.8-3.8 1.7-3.8 3.8 1.7 3.8 3.8 3.8z",clipRule:"evenodd"}),d("path",{fill:"#C0F9EC",fillRule:"evenodd",d:"M13.1 9.9c-.7.9-1.8 1.5-3 1.5s-2.3-.6-3-1.5c.7-.9 1.8-1.5 3-1.5s2.3.6 3 1.5z",clipRule:"evenodd"}))},e.Sparkles=function(e){var t=e.className,n=e.width,r=void 0===n?32:n;return d(Dg,Qn({},Xh(t,im.noStrokeIcon),{width:r,viewBox:"0 0 32 32"}),d("path",{fill:"url(#sparkles_paint0_linear)",d:"M11.5 2C10.6 12.11 8.75 13.93 1 15c7.75 1.07 9.6 2.89 10.5 13 .9-10.11 2.75-11.93 10.5-13-7.75-1.07-9.6-2.89-10.5-13z"}),d("path",{fill:"url(#sparkles_paint1_linear)",d:"M25 1c-.52 5.06-1.57 5.97-6 6.5 4.43.53 5.48 1.44 6 6.5.52-5.06 1.57-5.97 6-6.5-4.43-.53-5.48-1.44-6-6.5z"}),d("path",{fill:"url(#sparkles_paint2_linear)",d:"M22 18c-.52 5.06-1.57 5.97-6 6.5 4.43.53 5.48 1.44 6 6.5.52-5.06 1.57-5.97 6-6.5-4.43-.53-5.48-1.44-6-6.5z"}),d("defs",null,d("linearGradient",{id:"sparkles_paint0_linear",x1:"11.5",x2:"11.5",y1:"27.99",y2:"1.99",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#F90"}),d("stop",{offset:".02",stopColor:"#FF9C03"}),d("stop",{offset:".27",stopColor:"#FFB91D"}),d("stop",{offset:".52",stopColor:"#FFCE31"}),d("stop",{offset:".77",stopColor:"#FFDB3C"}),d("stop",{offset:"1",stopColor:"#FFDF40"})),d("linearGradient",{id:"sparkles_paint1_linear",x1:"25",x2:"25",y1:"14",y2:"1",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#6FAD00"}),d("stop",{offset:".04",stopColor:"#73B202"}),d("stop",{offset:".26",stopColor:"#87CC0F"}),d("stop",{offset:".49",stopColor:"#96DE17"}),d("stop",{offset:".73",stopColor:"#9EE91C"}),d("stop",{offset:"1",stopColor:"#A1ED1E"})),d("linearGradient",{id:"sparkles_paint2_linear",x1:"22",x2:"22",y1:"31",y2:"18",gradientUnits:"userSpaceOnUse"},d("stop",{stopColor:"#7D0C7A"}),d("stop",{offset:".09",stopColor:"#930C90"}),d("stop",{offset:".25",stopColor:"#B30DAE"}),d("stop",{offset:".42",stopColor:"#CC0DC6"}),d("stop",{offset:".59",stopColor:"#DD0ED8"}),d("stop",{offset:".78",stopColor:"#E80EE2"}),d("stop",{offset:"1",stopColor:"#EB0EE5"}))))}}(Pg||(Pg={})),tr(Gl,Ss((function(e){return function(t){var n=t.className;return d(Fg,{className:n},d(e,null))}})));var jg=Ff.keyframes({to:{strokeDashoffset:13}}),Hg=Ff.keyframes({to:{strokeDashoffset:0}}),Ug={display:"inline-flex",minWidth:Ff.rem(2),minHeight:Ff.rem(2),verticalAlign:"middle",transition:"fill .2s, stroke .2s",justifyContent:"center",alignItems:"center",stroke:Bl.CoreNeutral50,fill:Bl.CoreNeutral50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:Bl.CoreBlue50,fill:Bl.CoreBlue50},"&[data-disabled='true']":{stroke:rp,fill:rp}}},Vg={minWidth:Ff.rem(1.5),minHeight:Ff.rem(1.5)},Wg={minWidth:Ff.rem(1.5),minHeight:Ff.rem(1.5),stroke:"none",fill:Bl.CoreYellow50,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:"none",fill:Bl.CoreYellow50}}},Gg={stroke:Bl.CoreNeutral50,fill:"none",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",fillRule:"evenodd",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:"none"}}},qg={fill:"none",stroke:"#97a0bf",strokeLinecap:"round",strokeLinejoin:"round",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:"none",stroke:Bl.CoreBlue50}}},$g={animation:jg+" .5s linear forwards",strokeDasharray:94,strokeDashoffset:94},Kg={animation:Hg+" 1.5s linear forwards",strokeDasharray:100,strokeDashoffset:100},Yg={fill:Bl.CoreNeutral30,stroke:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:"none"}}},Qg={position:"absolute",top:Ff.rem(1.74),left:Ff.rem(7.35),zIndex:1,width:Ff.rem(1.5),height:Ff.rem(1),borderRadius:Ff.rem(.125),background:Bl.CoreGreen10,color:Bl.CoreGreen70,textAlign:"center",fontWeight:"bold",fontSize:Ff.rem(.5),lineHeight:Ff.rem(1)},Jg={position:"relative",top:Ff.percent(50),letterSpacing:Ff.px(.8),transform:"translateY(-50%)"},Zg={stroke:Bl.CoreNeutral50,fill:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:Bl.CoreBlue50,fill:"none"},"&[data-disabled='true']":{stroke:rp,fill:"none"}}},Xg={$nest:{"&:not([data-disabled='true'])[data-active='true']":{stroke:Bl.CoreGreen50,fill:Bl.CoreGreen50,strokeWidth:Ff.px(2)}}},em={$nest:{"&:not([data-disabled='true'])[data-active='true']":{stroke:Bl.CoreRed50,fill:Bl.CoreRed50,strokeWidth:Ff.px(2)}}},tm={$nest:{"&:not([data-disabled='true'])[data-hovered='true'] > svg > path:first-child, &[data-active='true'] > svg > path:first-child":{stroke:"none",fill:Bl.CoreGreen50},"&:not([data-disabled='true'])[data-hovered='true'] > svg > path:last-child, &[data-active='true'] > svg > path:last-child":{fill:"white"}}},nm={$nest:{"&:not([data-disabled='true'])[data-hovered='true'] > svg > path:first-child, &[data-active='true'] > svg > path:first-child":{stroke:"none",fill:Bl.CoreRed50},"&:not([data-disabled='true'])[data-hovered='true'] > svg > path:last-child, &[data-active='true'] > svg > path:last-child":{stroke:"white"}}},rm={$nest:{"&:not([data-disabled='true'])[data-hovered='true'] > svg > path":{stroke:Bl.CoreBlue50}}},im=Ff.stylesheet({icon:[Ug],iconSimple:[{display:"inline-flex"}],gIcon:[Vg],holder:[{transform:"scale(calc(var(--rem)/16))"}],starIcon:[{fillOpacity:0,$nest:{"&:not([data-disabled='true'])[data-active='true']":{fillOpacity:1}}}],diamondIcon:[Wg],toolbarIcon:[Gg],exitIcon:[qg],circle:[$g],checkmark:[Kg],emote:[Yg],newIcon:[Qg],newIconCaption:[Jg],noStrokeIcon:[{stroke:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:"none"},"&[data-disabled='true']":{stroke:"none"}}}],yesCircleIcon:[Zg],noCircleIcon:[Zg],yesIcon:[Xg],closeIcon:[em],voteYes:[tm],voteNo:[nm],smartPhrasesAddPhrasesCirclePlus:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true'] > svg > path":{stroke:"white"}}}],smartPhrasesOpenFeedbackFormArrow:[rm]}),om=Ff.style({margin:0,color:Vl.H1Color,letterSpacing:Vl.H1LetterSpacing,fontWeight:Vl.H1Weight,fontSize:Ff.rem(Vl.H1Size),lineHeight:Ff.rem(Vl.H1LineHeight)}),am=Ff.style({margin:0,color:Vl.H2Color,textTransform:"capitalize",letterSpacing:Vl.H2LetterSpacing,fontWeight:Vl.H2Weight,fontSize:Ff.rem(Vl.H2Size),lineHeight:Ff.rem(Vl.H2LineHeight)}),sm=Ff.style({margin:0,color:Vl.H3Color,letterSpacing:Ff.rem(Vl.H3LetterSpacing),fontWeight:Vl.H3Weight,fontSize:Ff.rem(Vl.H3Size),lineHeight:Ff.rem(Vl.H3LineHeight)}),um=Ff.style({margin:0,color:Bl.CoreNeutral50,textTransform:"uppercase",letterSpacing:Ff.rem(.04625),fontWeight:700,fontSize:Ff.rem(.6875),lineHeight:Ff.rem(1.5)}),cm=Ff.style({margin:0,color:Vl.ButtonColor,letterSpacing:Ff.rem(Vl.ButtonLetterSpacing),fontWeight:Vl.ButtonWeight,fontSize:Ff.rem(Vl.ButtonSize),lineHeight:Ff.rem(Vl.ButtonLineHeight)}),lm=Ff.style({margin:0,color:Vl.H4Color,letterSpacing:Ff.rem(Vl.H4LetterSpacing),fontWeight:Vl.H4Weight,fontSize:Ff.rem(Vl.H4Size),lineHeight:Ff.rem(Vl.H4LineHeight)}),fm=Ff.style({color:Vl.PaperColor,letterSpacing:Ff.rem(Vl.PaperLetterSpacing),fontWeight:Vl.PaperWeight,fontSize:Ff.rem(Vl.PaperSize),lineHeight:Ff.rem(Vl.PaperLineHeight)}),dm=Ff.style({color:Vl.BodyColor,letterSpacing:Ff.rem(Vl.BodyLetterSpacing),fontWeight:Vl.BodyWeight,fontSize:Ff.rem(Vl.BodySize),lineHeight:Ff.rem(Vl.BodyLineHeight)}),hm=Ff.style({color:Vl.SmallColor,letterSpacing:Ff.rem(Vl.SmallLetterSpacing),fontWeight:Vl.SmallWeight,fontSize:Ff.rem(Vl.SmallSize),lineHeight:Ff.rem(Vl.SmallLineHeight)}),pm=Ff.style({color:Vl.SmallLightColor,letterSpacing:Ff.rem(Vl.SmallLightLetterSpacing),fontWeight:Vl.SmallLightWeight,fontSize:Ff.rem(Vl.SmallLightSize),lineHeight:Ff.rem(Vl.SmallLightLineHeight)}),gm=Ff.style({color:Vl.ScoreColor,letterSpacing:Ff.rem(Vl.ScoreLetterSpacing),fontWeight:Vl.ScoreWeight,fontSize:Ff.rem(Vl.ScoreSize),lineHeight:Ff.rem(Vl.ScoreLineHeight)}),mm=Ff.style({color:Bl.CoreNeutral70,letterSpacing:".1px",fontWeight:400,fontSize:Ff.rem(.6875),lineHeight:Ff.rem(1)}),vm=Ff.style({color:Bl.CoreNeutral90,textTransform:"uppercase",letterSpacing:".8px",fontWeight:700,fontSize:Ff.rem(.75),lineHeight:Ff.rem(2)}),ym=Ff.style({color:Bl.CoreNeutral90,letterSpacing:0,fontSize:Ff.rem(.9375),lineHeight:Ff.rem(1.5)}),_m=Ff.style({margin:0,color:Bl.CoreNeutral50,textTransform:"uppercase",letterSpacing:Ff.rem(.04625),fontWeight:400,fontSize:Ff.rem(.5625),lineHeight:Ff.rem(1)}),bm=Object.freeze({__proto__:null,header1:om,header2:am,header3:sm,header3legacy:um,button:cm,header4:lm,paper:fm,base:dm,small:hm,smallLight:pm,score:gm,lawyer:mm,title:vm,p1:ym,header5:_m});function wm(e){var t=e.nodeType,n=e.styleType,r=e.className,i=e.mount,o=Jn(e,["nodeType","styleType","className","mount"]),a=np[t];return d(a,Qn({},Xh(bm[n],r),o,{mount:i}))}!function(e){!function(e){e.H1="header1",e.H2="header2",e.H3="header3",e.H3Legacy="header3legacy",e.H4="header4",e.H5="header5",e.Paper="paper",e.Base="base",e.Small="small",e.SmallLight="smallLight",e.Lawyer="lawyer",e.Title="title",e.Button="button",e.Score="score",e.P1="p1"}(e.Type||(e.Type={}))}(wm||(wm={}));var Sm=function(e){return d(wm,Qn({styleType:wm.Type.Base,nodeType:"div"},e))},xm=function(e){return d(wm,Qn({styleType:wm.Type.Small,nodeType:"small"},e))},Em=ma((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case u:return e;default:return t}}case m:case g:case i:return t}}}function w(e){return b(e)===f}t.typeOf=b,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===_)},t.isAsyncMode=function(e){return w(e)||b(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===h}}));ma((function(e,t){}));var Cm,km=ma((function(e){e.exports=Em}));!function(e){e.genUuid=function(){return ps(12)},e.defaultState={visible:!1,content:re},e.Context=f(void 0);var t=function(){function t(t){var n=this;void 0===t&&(t=Ah.create(e.defaultState)),this._state=t,this.visible=this._state.lens("visible"),this.content=this._state.lens("content"),this.hasContent=this._state.view((function(e){return te(e.content)})),this.state=this._state.view((function(e){return tr(e.content,Ye((function(){return e.visible})))})),this.show=function(){n.visible.set(!0)},this.hide=function(){n._state.set(e.defaultState)}}return t.prototype.getTooltipObservable=function(t,n,r,i){var o,a,s=this,u=e.genUuid(),c=function(){return s._state.modify((function(t){return tr(t.content,St((function(e){return e.uuid===u})))?e.defaultState:t}))};return sg(t,"mouseenter").pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new kg(r,n))}}((a=n,a instanceof Sp?a:Fp(a)).pipe(function(e,t){return function(n){return n.lift(new fg(e,t))}}(Boolean)),(function(e,t){return t})),Sg((function(e){return s.content.set(ie({target:t,content:e,alignment:r,uuid:u}))})),_g((function(){return tr(i,le((function(){return Rp}),(function(e){return function(e,t,n){void 0===e&&(e=0);var r=-1;return cg(t)?r=Number(t)<1?1:Number(t):Pp(t)&&(n=t),Pp(n)||(n=zp),new Sp((function(t){var i=cg(e)?e:+e-n.now();return n.schedule(hg,i,{index:0,period:r,subscriber:t})}))}(e)}))).pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(lg.apply(void 0,[t].concat(e)))}}(sg(t,"mouseleave")),Sg(c))})),(o=c,function(e){return e.lift(new vg(o))}))},t}();e.Impl=t,e.DefaultProvider=function(n){var r=n.children;return d(e.Context.Provider,{value:new t},r)}}(Cm||(Cm={}));var Tm,Im,Om=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=new Og.Keeper,t._attachEvents=function(e){t._subs.push(t.context.getTooltipObservable(P(t),e.title,e.align||"auto",oe(e.duration)).subscribe())},t}return Yn(t,e),t.prototype.componentDidMount=function(){this._attachEvents(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._subs.dispose(),this._attachEvents(e)},t.prototype.componentWillUnmount=function(){this._subs.dispose()},t.prototype.render=function(){return n.only(this.props.children)},t.contextType=Cm.Context,t}(r),Nm=function(e){return Qn(Qn({},e.default),{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":Qn({},e.hovered),"&[data-disabled='true']":Qn({},e.disabled),"&:not([data-disabled='true']):active":Qn({},e.clicked),"&[data-active='true']":Qn({},e.toggled),"&:focus":{boxShadow:"0 0 0 2px "+Bl.CoreBlue40},"&:focus:not(:focus-visible)":{boxShadow:"none"},"&:focus-visible":{boxShadow:"0 0 0 2px "+Bl.CoreBlue40}}})},Am=function(e,t){return{$nest:{"&[data-textpos='left']":{padding:"0 "+t+" 0 "+e},"&[data-textpos='right']":{padding:"0 "+e+" 0 "+t},"&[data-textpos='everywhere']":{padding:"0 "+e+" 0 "+e}}}},Rm={borderRadius:Ff.rem(Uf)},Pm=Nm({default:{position:"relative",display:"inline-block",overflow:"hidden",padding:0,outline:"none",border:0,backgroundColor:"transparent",verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none"},hovered:{cursor:"pointer"},disabled:{backgroundColor:"initial"},clicked:{},toggled:{}}),Lm=Ff.style(Pm),Mm=Ff.style(Pm,Rm,Nm({default:{padding:"0 "+Ff.rem(.5),backgroundColor:"transparent",color:Bl.CoreBlue50,lineHeight:Ff.rem(2),transition:"background-color .2s"},hovered:{backgroundColor:Bl.CoreNeutral1},disabled:{color:Bl.CoreNeutral30,fontWeight:"normal"},clicked:{transition:"none",transform:"scale(1)"},toggled:{}})),Dm=Ff.style({display:"inline-flex"}),Fm=Ff.style(Pm,Rm,Am(Ff.rem(jl.ButtonPrimaryX),0),Nm({default:{backgroundColor:Bl.BackgroundButtonPrimaryNormal,color:Bl.CoreNeutral0,lineHeight:Ff.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:Bl.BackgroundButtonPrimaryHover,$nest:{"& > i":{fill:Bl.CoreNeutral0,stroke:Bl.CoreNeutral0}}},disabled:{backgroundColor:Bl.BackgroundButtonPrimaryDisabled,color:Bl.TextButtonPrimaryDisabled},clicked:{},toggled:{}}),{$nest:{"& > i":{fill:Bl.CoreNeutral0,stroke:Bl.CoreNeutral0}}}),zm=Ff.style(Pm,{$nest:(Tm={},Tm["."+Dm+" &"]={padding:"0 "+Ff.rem(.5),borderRight:"2px solid "+Bl.CoreNeutral0,borderRadius:0,$nest:{"&:first-child":{borderRadius:Ff.rem(Uf)+" 0 0 "+Ff.rem(Uf)},"&:last-child":{borderRight:"none",borderRadius:"0 "+Ff.rem(Uf)+" "+Ff.rem(Uf)+" 0"}}},Tm["."+Dm+" &:not([data-active='true'])"]={backgroundColor:Bl.CoreNeutral10},Tm)},Nm({default:{padding:"0 "+Ff.rem(.5),borderRadius:Ff.rem(Uf),backgroundColor:Bl.CoreNeutral10,color:Bl.CoreBlue50,textTransform:"capitalize",letterSpacing:0,fontSize:Ff.rem(.875),lineHeight:Ff.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:Bl.CoreNeutral20},toggled:{backgroundColor:Bl.CoreBlue50,color:Bl.CoreNeutral0,$nest:{"&:hover":{backgroundColor:Bl.CoreBlue40,color:Bl.CoreNeutral0}}},disabled:{backgroundColor:Bl.CoreNeutral10,color:Bl.CoreNeutral50},clicked:{}})),Bm=Ff.style(Pm,Rm,Am(Ff.rem(jl.ButtonPrimaryX),0),Nm({default:{display:"inline-flex",color:Bl.CoreBlue50,lineHeight:Ff.rem(2),transitionDuration:".2s",transitionProperty:"border, background, color",flexWrap:"wrap",alignItems:"center"},hovered:{borderColor:Bl.BackgroundButtonGhostHover,background:Bl.BackgroundButtonGhostHover},disabled:{borderColor:Bl.TextButtonGhostDisabled,color:Bl.TextButtonGhostDisabled},clicked:{},toggled:{}}),{$nest:{"&[data-textpos] i[role='icon']":{margin:Ff.rem(-.1)+" "+Ff.rem(.25)+" 0 0"}}}),jm=Ff.style(Pm,Rm,Am(Ff.rem(.5),0),Nm({default:{display:"inline-flex",color:Bl.CoreNeutral50,lineHeight:Ff.rem(2),transitionDuration:".2s",transitionProperty:"border, background, color",flexWrap:"wrap",alignItems:"center"},hovered:{background:Bl.CoreNeutral1,color:Bl.CoreBlue50},disabled:{color:Bl.CoreNeutral30},clicked:{},toggled:{}})),Hm=Ff.style(Pm,Am(Ff.rem(1),Ff.rem(.5)),Nm({default:{display:"inline-flex",color:Bl.CoreNeutral90,textAlign:"left",fontWeight:"normal",fontSize:Ff.rem(.875),lineHeight:Ff.rem(2),transitionDuration:".2s",alignItems:"center"},hovered:{backgroundColor:Bl.CoreNeutral10,color:Bl.CoreBlue50},disabled:{color:Bl.CoreNeutral40},clicked:{},toggled:{}}),{$nest:{"&[data-textpos] i[role='icon']":{margin:Ff.rem(-.1)+" "+Ff.rem(.25)+" 0 0"}}}),Um=Ff.style(Pm,Rm,{display:"flex",margin:"0 "+Ff.rem(.5)+" "+Ff.rem(.5),padding:"0 "+Ff.rem(.3)+" 0 "+Ff.rem(.5),minHeight:Ff.rem(2),color:Bl.CoreNeutral70,textAlign:"left",whiteSpace:"normal",fontWeight:"normal",lineHeight:Ff.rem(1.2),transition:"background .2s",alignItems:"center",$nest:{"&[data-hovered='true']":{background:Bl.CoreNeutral10},"&[data-active='true']":{background:Bl.CoreNeutral20}}}),Vm=Ff.style({textDecoration:"none"}),Wm=Ff.style({display:"inline-flex",justifyContent:"space-around",$nest:{"& > *:not(:first-child)":{marginLeft:Ff.rem(.5)}}}),Gm=Ff.style({display:"inline-flex",flexDirection:"column",$nest:{"& > *":{borderRadius:0}}});Ff.style({whiteSpace:"pre-line"}),function(e){e.None="none",e.FromClickPoint="fromClickPoint",e.FromCenter="fromCenter"}(Im||(Im={}));var qm,$m=function(e){function t(t,n){var r=e.call(this,t)||this;return r._ripples=Ah.create(Array()),r._disabled=Ah.create(!1).view(),r._disabled=void 0===n.disabled?r._disabled:n.disabled,r}return Yn(t,e),t.prototype.componentDidMount=function(){var e,t,n=this;this._el&&(this._subscription=this.props.mouseDownEvents.pipe(Sg((function(e){if(!n._disabled.get()&&n._el){var t=n._getAnimationStyle(n._el,e);n._ripples.modify((function(e){return er(e,[t])}))}})),(e=1e3,void 0===t&&(t=zp),function(n){return n.lift(new pg(e,t))}),Sg((function(){return n._ripples.modify((function(){return[]}))}))).subscribe())},t.prototype.componentWillUnmount=function(){this._subscription&&this._subscription.unsubscribe()},t.prototype._getAnimationStyle=function(e,t){var n=e.getBoundingClientRect(),r=n.width;switch(this.props.animationMode){case Im.None:throw new pr("unsupported mode, do not mount component if you do not need ripple animation");case Im.FromCenter:return{className:Zm.rippleFromCenter,top:(n.height-r)/2,left:0,width:r,height:r};default:return{className:Zm.ripple,top:t.pageY-n.top-r/2,left:t.pageX-n.left-r/2,width:r,height:r}}},t.prototype.render=function(){var e=this;return d("span",{className:Zm.rippleContainer,ref:function(t){return e._el=t}},d(np.span,null,this._ripples.pipe(jp((function(e){return e.map((function(e,t){return d("span",{className:e.className,key:t,style:e})}))})))))},t.contextType=tp.Context,t}(r),Km=Ff.keyframes({to:{opacity:0,transform:"scale(1)"}}),Ym=Ff.keyframes({to:{opacity:0,transform:"scale(2)"}}),Qm={position:"absolute",borderRadius:Ff.percent(100),backgroundColor:Bl.CoreNeutral90,opacity:.15,transform:"scale(0)",animation:Ym+" .4s"},Jm={animationName:Km},Zm=Ff.stylesheet({rippleContainer:[{position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",pointerEvents:"none"}],ripple:[Qm],rippleFromCenter:[Qm,Jm]}),Xm=function(e){return e?-1:0};!function(e){e[e.button=0]="button",e[e.div=1]="div",e[e.link=2]="link"}(qm||(qm={}));var ev,tv=function(e){function t(t,n){var r=e.call(this,t)||this;return r._hovered=Ah.create(!1),r.mouseDownEvents=new Tp,r._setInternals(t),r._isHovered=void 0!==n.hovered?Ah.combine(n.hovered,r._hovered,ni):r._hovered,r}return Yn(t,e),Object.defineProperty(t,"_log",{get:function(){return void 0===this.__buttonLogger&&(this.__buttonLogger=Kr.Logging.getLogger("Button")),this.__buttonLogger},enumerable:!1,configurable:!0}),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._setInternals(e)},t.prototype.render=function(){var e={hovered:this._isHovered,disabled:"boolean"==typeof this._isDisabled?Ah.create(this._isDisabled):this._isDisabled,active:"boolean"==typeof this._isActive?Ah.create(this._isActive):this._isActive},t=this._getElement(this.props.tag,this.props.href);return d(tp.Context.Provider,{value:e},this.props.title?d(Om,{title:this.props.title,align:this.props.titleAlign||"auto"},t):t)},t.prototype._getElement=function(e,t){return void 0===t||e!==qm.link&&e?e===qm.button?this._genButtonEl():this._genDivEl():this._genLinkEl()},Object.defineProperty(t.prototype,"_name",{get:function(){var e=this.props.name,t="string"==typeof e?e:e.get();return void 0!==this.context.name?this.context.name+"/"+t:t},enumerable:!1,configurable:!0}),t.prototype._setInternals=function(e){var n=this,r=e.onClick?this._getGenericButtonInternals(e.onClick,e.disabled):{onClick:void 0,isDisabled:void 0!==e.disabled&&e.disabled},i=r.onClick,o=r.isDisabled;this._onClick=function(e){return t._log.info("Button clicked: "+n._name),i&&i(e).catch((function(e){return t._log.error("Button click failed: "+n._name,e)}))},this._isDisabled=o,this._isActive=void 0!==e.active&&e.active},t.prototype._genLinkEl=function(){return this.props.styleType?d(wm,Qn({styleType:this.props.styleType,nodeType:"a"},this._getLinkRenderProps())):d(np.a,Qn({},this._getLinkRenderProps()))},t.prototype._genDivEl=function(){return this.props.styleType?d(wm,Qn({styleType:this.props.styleType,nodeType:"div"},this._getDivRenderProps())):d(np.div,Qn({},this._getDivRenderProps()))},t.prototype._genButtonEl=function(){return this.props.styleType?d(wm,Qn({styleType:this.props.styleType,nodeType:"button"},this._getButtonRenderProps(this.props.role))):d(np.button,Qn({},this._getButtonRenderProps(this.props.role)))},t.prototype._getLinkRenderProps=function(){return this._getBaseRenderProps(Qn({href:this.props.href,target:this.props.target,rel:this.props.rel,role:"button"},Xh(Vm,this.props.className)))},t.prototype._getDivRenderProps=function(){return this._getBaseRenderProps({role:"button",className:this.props.className})},t.prototype._getButtonRenderProps=function(e){return void 0===e&&(e="button"),this._getBaseRenderProps({type:e,className:this.props.className})},t.prototype._getBaseRenderProps=function(e){var t=this,n=tr(oe(this.props.textPosition),le((function(){return ev.parseFromNodes(t.props.children)}),ie),Re((function(e){return{"data-textpos":e}})),pe((function(){return{}})));return Qn(Qn({onClick:this._onClick,onMouseOver:function(){return t._hovered.set(!0)},onMouseLeave:function(){return t._hovered.set(!1)},onMouseDown:function(e){var n=e.pageX,r=e.pageY;return t.mouseDownEvents.next({pageX:n,pageY:r})},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},"data-name":this._name,"data-disabled":this._isDisabled,"aria-disabled":this._isDisabled,"data-active":this._isActive,"data-hovered":this._isHovered,style:this.props.style,children:this._renderChildren(),tabIndex:"boolean"==typeof this._isDisabled?Xm(this._isDisabled):tr(this._isDisabled,jp(Xm))},n),e)},t.prototype._renderChildren=function(){return this.props.animationMode&&this.props.animationMode!==Im.None?this._renderChildrenAsArray().concat(this._renderRippleAnimation()):this.props.children},t.prototype._renderChildrenAsArray=function(){return Array.isArray(this.props.children)?[].concat.apply([],this.props.children):[this.props.children]},t.prototype._renderRippleAnimation=function(){return d($m,{key:"ripple",animationMode:this.props.animationMode||Im.FromClickPoint,mouseDownEvents:this.mouseDownEvents})},t.prototype._getGenericButtonInternals=function(e,t){void 0===t&&(t=!1);var n=Ah.create(!1),r="boolean"==typeof t?n.view((function(e){return t||e})):Ah.combine(t,n,ni);return{onClick:this._decorateOnClickWithStateManager(e,(function(e){return n.set(e)}),(function(){return r.get()})),isDisabled:r}},t.prototype._decorateOnClickWithStateManager=function(e,t,n){var r=this;return function(i){return Zn(r,void 0,void 0,(function(){return Xn(this,(function(r){switch(r.label){case 0:if(i.stopPropagation(),n())return[2];t(!0),r.label=1;case 1:return r.trys.push([1,,3,4]),this._hovered.set(!1),[4,e(i)];case 2:return[2,r.sent()];case 3:return t(!1),[7];case 4:return[2]}}))}))}},t.displayName="BaseButton",t.contextType=tp.Context,t.__buttonLogger=void 0,t}(r);function nv(e){return d(tv,Qn({},rv(e,Lm)))}function rv(e,t){var n=Xh(e.className,t).className;return Qn(Qn({},e),{className:n})}!function(e){var t=new Map([["+","everywhere"],["++","everywhere"],["+-","left"],["-+","right"],["+++","everywhere"],["+-+","everywhere"],["++-","left"],["-++","right"],["-+-","surrounded"]]);e.parseFromNodes=function(e){var n=km.isFragment(e)?e.props.children:e,r=(Array.isArray(n)?n:[n]).map((function(e){return"string"==typeof e?"+":"-"})).join("");return oe(t.get(r))}}(ev||(ev={})),function(e){e.Animated=function(e){return d(tv,Qn({},Qn(Qn({},e),{animationMode:e.animationMode||Im.FromClickPoint})))},e.Primary=function(t){return d(e.Animated,Qn({styleType:wm.Type.Button},rv(t,Fm)))},e.Ghost=function(t){return d(e.Animated,Qn({styleType:wm.Type.Button},rv(t,Bm)))},e.Tertiary=function(t){return d(e.Animated,Qn({styleType:wm.Type.Base},rv(t,jm)))},e.Flat=function(t){return d(e.Animated,Qn({},rv(t,Hm)))},e.White=function(t){return d(e.Animated,Qn({},rv(t,zm)))},e.SidebarFlat=function(e){return d(tv,Qn({styleType:wm.Type.H3Legacy},rv(e,Um)))},e.Caps=function(e){return d(tv,Qn({styleType:wm.Type.H3Legacy},rv(e,Mm)))},e.Group=function(e){var t=e.children,n=e.className,r=e.align,i=void 0===r?"horizontal":r,o=e.sticky;return d(np.div,Qn({},Xh(n,"horizontal"===i?o?Dm:Wm:Gm)),t)}}(nv||(nv={}));var iv,ov,av,sv,uv,cv,lv,fv,dv,hv={primary:function(e){return d(nv.Primary,{name:e.name,onClick:e.onClick,active:e.selected,key:e.id,"data-id":e.id},e.text)},secondary:function(e){return d(nv.Tertiary,{name:e.name,onClick:e.onClick,active:e.selected,key:e.id,"data-id":e.id},e.text)},toggle:function(e){return d(nv.Animated,{name:e.name,onClick:e.onClick,active:e.selected,styleType:wm.Type.Button,className:Ff.joinClasses([Lm,pv]),key:e.id,"data-id":e.id},e.text)}},pv=Ff.style(Nm({default:{padding:"0 "+Ff.rem(.5),borderRadius:Ff.rem(Uf),whiteSpace:"normal",backgroundColor:Bl.CoreNeutral0,color:Bl.CoreBlue50,border:"1px solid "+Bl.CoreNeutral20,transitionDuration:".2s",transitionProperty:"border-color, background-color",lineHeight:"calc(2px * var(--rem) - 2px)"},hovered:{backgroundColor:Bl.CoreBlue1},disabled:{color:Bl.CoreNeutral40,borderColor:Bl.CoreNeutral10},clicked:{backgroundColor:Bl.CoreBlue10},toggled:{backgroundColor:Bl.CoreNeutral1,borderColor:Bl.CoreBlue50}})),gv={close:function(e){var t=e.id;return d(Pg.Close,{key:t,"data-id":t})},"arrow-right":function(e){var t=e.id;return d(Pg.Arrow,{direction:Rg.right,key:t,"data-id":t})},"arrow-left":function(e){var t=e.id;return d(Pg.Arrow,{direction:Rg.left,key:t,"data-id":t})}},mv={$nest:{"& > i":{minWidth:Ff.rem(1),minHeight:Ff.rem(1)}}},vv=Ff.stylesheet({main:[mv]}),yv={width:Ff.rem(.85),height:Ff.rem(.85),objectFit:"contain",alignSelf:"center"},_v=Ff.stylesheet({main:[yv]});!function(e){e.text="text",e.button="button",e.transform="transform",e.iconButton="iconButton",e.listAlternativeChoice="listAlternativeChoice",e.orAlternativeChoice="orAlternativeChoice",e.icon="icon"}(iv||(iv={})),function(e){var t,n,r;e.Kind=iv.text,(t=e.Size||(e.Size={})).small="small",t.regular="regular",n=e.Part||(e.Part={}),(r=n.Style||(n.Style={})).normal="normal",r.bold="bold",r.italic="italic",n.create=function(e,t){return{text:e,style:t}},e.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return{kind:e.Kind,size:t,parts:n,id:ps(4)}}}(ov||(ov={})),function(e){e.Kind=iv.transform,function(e){var t;!function(e){e.substitution="substitution",e.removeWeak="removeWeak",e.removeStrong="removeStrong",e.insertWeak="insertWeak",e.insertStrong="insertStrong",e.insertText="insertText",e.text="text"}(t=e.Type||(e.Type={})),e.substitution=function(e){return{text:e,type:t.substitution}},e.removeWeak=function(e){return{text:e,type:t.removeWeak}},e.removeStrong=function(e){return{text:e,type:t.removeStrong}},e.insertWeak=function(e){return{text:e,type:t.insertWeak}},e.insertText=function(e){return{text:e,type:t.insertText}},e.insertStrong=function(e){return{text:e,type:t.insertStrong}},e.text=function(e){return{text:e,type:t.text}}}(e.Part||(e.Part={})),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{kind:e.Kind,parts:t,id:ps(4)}}}(av||(av={})),function(e){e.create=function(e){return{alternatives:e,id:ps(4),kind:iv.listAlternativeChoice}}}(sv||(sv={})),function(e){e.create=function(e,t,n){return{alternativeLeft:e,conjunction:t,alternativeRight:n,id:ps(4),kind:iv.orAlternativeChoice}}}(uv||(uv={})),function(e){e.Kind=iv.button,function(e){e.accept="accept",e.dismiss="dismiss",e.incorrect="incorrect",e.offensive="offensive",e.close="close",e.next="next",e.prev="prev"}(e.Action||(e.Action={})),e.create=function(t,n,r){return{kind:e.Kind,text:t,type:r,action:n,id:ps(4)}}}(cv||(cv={})),function(e){e.Kind=iv.iconButton,e.create=function(t,n){return{kind:e.Kind,source:t,action:n,id:ps(4)}}}(lv||(lv={})),function(e){var t;e.Kind=iv.icon,(t=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",type:e}},t.createUrl=function(e,t){return{kind:"url",url:e,name:t}},e.create=function(t){return{kind:e.Kind,source:t,id:ps(4)}}}(fv||(fv={}));var bv={color:Bl.CoreNeutral50},wv={lineHeight:Ff.rem(1.3125)},Sv=Ff.stylesheet(((dv={})[ov.Size.regular]=[bv,wv],dv[ov.Size.small]=[bv],dv)),xv=function(e){return d(Ev[e.style],{children:e.text})},Ev={normal:"span",bold:"b",italic:"i"},Cv={lineHeight:Ff.rem(1.3125),color:Bl.CoreNeutral90},kv={fontWeight:"bolder",lineHeight:Ff.rem(1.3125),color:Bl.CoreGreen70},Tv={fontWeight:"bolder",lineHeight:Ff.rem(1.3125),color:Bl.CoreRed50},Iv={textDecoration:"line-through"};function Ov(e){return{padding:Ff.rem(.125)+" 0",backgroundColor:e}}var Nv=Ov(Bl.CoreRed10),Av=Ov(Bl.CoreRed20),Rv=Ov(Bl.CoreGreen20),Pv=Ov(Bl.CoreGreen30),Lv=Ff.stylesheet({holder:[{wordBreak:"break-word",width:"100%"}],insertText:[kv],removeText:[Tv],substitutionText:[Tv,Iv]}),Mv=Ff.stylesheet({substitution:[Tv,Iv],removeWeak:[Tv,Nv],removeStrong:[Tv,Av],insertWeak:[kv,Rv],insertStrong:[kv,Pv],insertText:[kv],text:[Cv]}),Dv={button:hv,iconButton:function(e){var t=e.icon,n=e.name,r=e.onClick,i=e.id;return d(nv.Ghost,{name:n,onClick:r,className:vv.main,key:i,"data-id":i},t)},listAlternativeChoice:function(e){var t=e.designSystem,n=e.alternatives,r=e.activeIndex,o=e.notify,a=e.id;return 0===n.length||yn(r,n)?null:d(i,{key:a},t.transform(n[r].preview),n.map((function(e,n){return t.button.toggle({id:"select-alt-"+n,name:"select-alt-"+n,text:e.label,selected:n===r,onClick:function(){return o({kind:"changeActive",index:n})}})})))},orAlternativeChoice:function(e){var t=e.designSystem,n=e.alternativeLeft,r=e.conjunction,o=e.alternativeRight,a=e.activeIndex,s=e.notify,u=e.id;return a<0||a>1?null:d(i,{key:u},t.transform([n,o][a].preview),t.button.toggle({id:"select-alt-left",name:"select-alt-left",text:n.label,selected:0===a,onClick:function(){return s({kind:"changeActive",index:0})}}),t.text(r),t.button.toggle({id:"select-alt-right",name:"select-alt-right",text:o.label,selected:1===a,onClick:function(){return s({kind:"changeActive",index:1})}}))},text:function(e){var t=e.size,n=e.parts,r=e.id,i=n.map((function(e,t){return d(xv,Qn({},e,{key:t}))}));switch(t){case ov.Size.small:return d(xm,{className:Sv.small,children:i,key:r,"data-id":r});default:return d(Sm,{className:Sv.regular,children:i,key:r,"data-id":r})}},transform:function(e){var t=e.parts,n=e.id;return d("div",{role:"transform-block",className:Lv.holder,key:n,"data-id":n},t.map((function(e,t){return d(wm,{key:t,nodeType:"span",styleType:wm.Type.Base,className:Mv[e.type]},e.text)})))},image:function(e){var t=e.name,n=e.src,r=e.id;return d("img",{src:n,className:_v.main,alt:t,key:r,"data-id":r})},icon:gv};function Fv(e){return d("div",{className:Qv.holder},e.children)}!function(e){e.Row=function(e){var t=e.left,n=e.right,r=Array.isArray(t)&&0===t.length,i=Array.isArray(n)&&0===n.length;return r&&i?d("div",{role:"layout-space",className:Qv.spacer}):d("div",{className:Qv.row},r?null:d("div",{className:Qv.rowLeft},t),i?null:d("div",{className:Qv.rowRight},n))}}(Fv||(Fv={}));var zv,Bv,jv,Hv,Uv,Vv,Wv,Gv,qv={display:"flex",flexDirection:"column",padding:Ff.rem(.75)+" "+Ff.rem(.25)+" 0 "+Ff.rem(.75)},$v={display:"flex",flexWrap:"wrap",alignItems:"baseline",maxWidth:"100%",$nest:{"& > *":{margin:"0 "+Ff.rem(.5)+" "+Ff.rem(.5)+" 0"}}},Kv=Qn(Qn({},$v),{marginLeft:"auto"}),Yv={marginBottom:Ff.rem(.5)},Qv=Ff.stylesheet({holder:[qv],spacer:[Yv],row:[{display:"flex",flexDirection:"row"}],rowLeft:[$v],rowRight:[Kv]}),Jv=function(e){var t=e.content,n=e.designSystem,r=e.notify,i=I(0),o=i[0],a=i[1],s=function(e){return a(e.index)},u=function(e,t){return"known"===t.kind?n.icon[t.type]({id:e}):n.image({id:e,src:t.url,name:t.name})},c=function(e){return function(){return r(e.action===cv.Action.accept?{kind:cv.Action.accept,alternative:o}:{kind:e.action})}},l=function(e){switch(e.kind){case iv.text:return n.text(e);case iv.transform:return n.transform(e);case iv.button:return n.button[e.type]({id:e.id,text:e.text,name:e.action,selected:!1,onClick:c(e)});case iv.iconButton:return n.iconButton({id:e.id,icon:u("iconFor"+e.id,e.source),name:e.action,onClick:c(e)});case iv.listAlternativeChoice:return n.listAlternativeChoice(Qn(Qn({},e),{designSystem:n,activeIndex:o,notify:s}));case iv.orAlternativeChoice:return n.orAlternativeChoice(Qn(Qn({},e),{designSystem:n,activeIndex:o,notify:s}));case iv.icon:return u(e.id,e.source);default:return d("div",null,"unknown element")}};return d(Fv,null,t.map((function(e,t){return d(Fv.Row,{key:t,left:e.left.map(l),right:e.right.map(l)})})))},Zv={equals:tn.equals,compare:tn.compare,top:1/0,bottom:-1/0};!function(e){e.monoid=Ui({start:Vi(Zv),end:Wi(Zv),meta:Ui({})}),e.create=function(e,t,n){return void 0===n&&(n={}),{start:e,end:t,meta:n}},e.empty=e.create(0,0),e.map=function(e,t){return Qn(Qn({},e),{meta:t(e.meta)})},e.extend=function(e,t){return Qn(Qn({},e),{meta:t(e)})},e.copy=function(t){return e.map(t,U)},e.compose=function(t){return function(n){return e.map(n,(function(e){return Qn(Qn({},e),t)}))}},e.alterLeft=function(t,n){return tr(t,Mt((function(e){return e.start-n<=t.end}),JSON.stringify),zt((function(t){var r=e.map(t,or("increasedLeft")(xo((function(e){return e+n}),n)));return r.start-=n,r})))},e.alterRight=function(t,n){return tr(t,Mt((function(e){return e.start<=t.end+n}),JSON.stringify),zt((function(t){var r=e.map(t,or("increasedRight")(xo((function(e){return e+n}),n)));return r.end+=n,r})))},e.size=function(e){return e.end-e.start},e.isEmpty=function(t){return 0===e.size(t)},e.isOverlap=function(e,t){return e.start<=t.end&&t.start<=e.end},e.contains=function(e,t){return e.start>=t.start&&e.end<=t.end},e.distanceFrom=function(t,n){return e.isOverlap(t,n)?0:t.start<n.start?n.start-t.end:t.start-n.end},e.join=function(t,n){return e.create(Math.min(t.start,n.start),Math.max(t.end,n.end))},e.intersection=function(t,n){return e.isOverlap(t,n)?ie(e.create(Math.max(t.start,n.start),Math.min(t.end,n.end))):re},e.ordStart=dn((function(e){return e.start}))(tn),e.ordEnd=dn((function(e){return e.end}))(tn),e.ord=ln().concat(e.ordEnd,e.ordStart)}(zv||(zv={})),function(e){e.is=function(e){var t=e.meta;return"number"==typeof t.increasedLeft||"number"==typeof t.increasedRight},e.restore=function(t){return e.is(t)?tr(t,(function(e){return e.meta.increasedLeft?zv.alterLeft(e,-e.meta.increasedLeft):Rt(e)}),Ut((function(e){return e.meta.increasedRight?zv.alterRight(e,-e.meta.increasedRight):Rt(e)}))):Rt(t)}}(Bv||(Bv={})),function(e){e.is=function(e){return zv.isEmpty(e)}}(jv||(jv={})),function(e){e.create=function(e){return zv.compose({value:e})},e.ordWord=dn((function(e){return e.meta.value}))(en),e.ord=ln().concat(e.ordWord,zv.ord)}(Hv||(Hv={})),function(e){e.create=function(e){return zv.compose({clicks:e})},e.ordClicks=dn((function(e){return e.meta.clicks}))(tn),e.ord=ln().concat(e.ordClicks,Hv.ord)}(Uv||(Uv={})),function(e){e.is=function(e){return"string"==typeof e.meta.alertId},e.create=function(e){return zv.compose({alertId:e})};e.getRangeId=function(e,t,n){return e+"|"+t.btype+"%"+n},e.fromRangeIdToAlertId=function(e){var t=e.indexOf("|");return t<0?e:e.substring(0,t)}}(Vv||(Vv={})),function(e){var t;!function(e){var t,n;(t=e.Behavior||(e.Behavior={})).REPLACE="r",t.HIGHLIGHT="h",t.HIGHLIGHT_UPDATABLE="hu",t.APPLIED="a",t.CONTEXT="ctx",(n=e.View||(e.View={})).MAIN="m",n.FOCUS="f",n.ENCLOSING="e"}(t=e.Meta||(e.Meta={})),e.isAbstract=function(e){var n=e.meta.btype;return n===t.Behavior.REPLACE||n===t.Behavior.CONTEXT},e.isApplied=function(e){return e.meta.btype===t.Behavior.APPLIED},e.isVisible=function(t){var n=t;return"string"==typeof n.meta.btype&&!e.isAbstract(n)&&"string"==typeof n.meta.vtype},e.create=function(e,t){return zv.compose({btype:e,vtype:t})},e.hasBehavior=function(e){return function(t){return t.meta.btype===e}};var n=function(t){return function(n){return e.isVisible(n)&&n.meta.vtype===t}};e.isMainView=n(t.View.MAIN),e.isFocusView=n(t.View.FOCUS),e.isEnclosingView=n(t.View.ENCLOSING)}(Wv||(Wv={})),function(e){e.empty={cost:0,critical:0,advanced:0,free:0,paid:0,unread:0,textLength:0,muted:0,priority:0,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0},e.toUnmutedOnly=function(t){return 0===t.muted?t:Qn(Qn({},e.empty),{muted:t.muted})}}(Gv||(Gv={}));var Xv=Q(At,fa),ey=Q(Rt,fa),ty=Q(Dt,da),ny=function(e){return function(t){return Z(t,da(Dt(e,fa)))}};ey({});var ry,iy={show:function(e){return JSON.stringify(e)}};!function(e){var t;(t=e.Id||(e.Id={})).ord=en,t.show=iy,e.ordId=dn((function(e){return e.id}))(en),e.ordHRange=dn((function(e){return e.alert.getHighlightRanges()[0]}))(zv.ord),e.ordVersion=dn((function(e){return e.version}))(tn),e.ord=Tn(ln())(e.ordHRange,[e.ordId,e.ordVersion]),e.show={show:function(e){return"Alert #("+e.id+", version:"+e.version+", state:"+e.state.type+", mute:"+e.mute+")"}},e.ordShow=Qn(Qn({},e.ord),e.show),e.create=function(e){return{alert:e,id:e.id,state:e.state,counters:e.counters,version:e.version,mute:e.mute}},e.isRegistered=function(e){return"REGISTERED"===e.state.type}}(ry||(ry={}));var oy,ay,sy,uy,cy,ly,fy,dy,hy,py,gy,my,vy,yy,_y,by=function(){function e(e,t,n,r){this._alternativesManager=e,this._alertId=t,this.rev=n,this._alternativesMap=new Map,this._disposed=!1,this.registerAlternatives(r)}return e.register=function(t,n,r,i){return new e(t,n,r,i)},e.prototype.registerAlternatives=function(e){var t=this;mr(!this._disposed,"Cannot call registerAlternatives method on disposed AlertAlternativeManager"),this.alternatives=tr(e,Gn((function(e){var n=t._alternativesManager.registerAlternative(e,t._alertId);return t._alternativesMap.set(n.alternativeId,n),n})))},e.prototype.deregisterAlternatives=function(){var e=this;return mr(!this._disposed,"Cannot call deregisterAlternatives method on disposed AlertAlternativeManager"),this._alternativesMap.forEach((function(t){e._alternativesMap.delete(t.alternativeId)&&e._alternativesManager.deregisterAlternative(t.alternativeId)})),this},e.prototype.registerReversedAlternative=function(e){var t=this;return tr(this._disposed,Mt((function(e){return!e}),(function(){return new Error("Cannot call registerReversedAlternative method on disposed AlertAlternativeManager")})),zt((function(){var n=t._alternativesManager.registerAlternative(e,t._alertId);return function(){return tr(n.alternativeId,t._alternativesManager.getAlternative,zt((function(e){return e.alternative})))}})))},e.prototype.dispose=function(){mr(!this._disposed,"Cannot dispose already disposed AlertAlternativeManager"),this.deregisterAlternatives(),this._disposed=!0},e}(),wy=function(){function e(e,t,n,r,i){var o=this;this._positionManager=e,this._alertId=t,this._log=Kr.Logging.getLogger("AlertRangeManager",lr.DEBUG),this._normalizeIfApplicable=function(e){return Wv.isFocusView(e)?e:o._normalize(e)},this._rangeCreator=Vv.create(this._alertId),this._rangesMap=new Map,this._ranges={highlight:new Set,replace:new Set,applied:new Set,context:new Set},this._pendingRanges=[],this._deregisterByRangeId=function(e){return!o._ranges.highlight.has(e)&&o._deregisterRange(e)},this._rangesIndex=0,this._log.trace("register ranges for alert",t);var a=new Map;this._registerRanges(r.map(this._normalizeIfApplicable),(function(e){return o._ranges.highlight.add(e)}),a,this._alertId),this._registerRanges(i,(function(e){return o._ranges.context.add(e)}),a,this._alertId),this._registerRanges(n,(function(e){return o._ranges.replace.add(e)}),a),this.highlightRanges=this._getRanges("highlight"),this.replaceRange=this._getFirstRange("replace"),this.contextRanges=this._getRanges("context")}return e.register=function(t,n,r,i,o){return new e(t,n,r,i,o)},e.prototype._normalize=function(e){return 1===zv.size(e)?this._positionManager.widen(e):e},e.prototype._getFirstRange=function(e){return this._rangesMap.get(this._ranges[e].values().next().value)},e.prototype._getRanges=function(e){var t=this;return Array.from(this._ranges[e]).map((function(e){var n=t._rangesMap.get(e);return n||t._log.warn("Got undefined range",{markId:e}),n})).filter(Boolean)},e.prototype.enqueueRanges=function(e,t,n){var r=this;this._cleanupPendingRanges();var i=new Map;this._registerRanges(t.map(this._normalizeIfApplicable),(function(e){return r._pendingRanges.push(["highlight",e])}),i,this._alertId),this._registerRanges(e,(function(e){return r._pendingRanges.push(["replace",e])}),i),this._registerRanges(n,(function(e){return r._pendingRanges.push(["context",e])}),i,this._alertId)},Object.defineProperty(e.prototype,"pending",{get:function(){return this._pendingRanges.length>0},enumerable:!1,configurable:!0}),e.prototype._getPendingRanges=function(e){var t=this;return this._pendingRanges.filter((function(t){return t[0]===e})).map((function(e){var n=e[1];return t._rangesMap.get(n)}))},e.prototype.hasMatchingPendingRanges=function(e,t,n){return this._getPendingRanges(t).some((function(t){return e.some((function(e){return n(e,t)}))}))},e.prototype._deregisterRange=function(e){this._rangesMap.delete(e)&&this._positionManager.deregisterRange(e)},e.prototype._cleanupPendingRanges=function(){var e=this;this._pendingRanges.forEach((function(t){t[0];var n=t[1];return e._deregisterRange(n)})),this._pendingRanges=[]},e.prototype.applyPendingRangesUpdate=function(){var e=this;if(!this.pending)return re;var t=this._getRanges("highlight");this._ranges.replace.forEach(this._deregisterByRangeId),this._ranges.context.forEach(this._deregisterByRangeId),this._ranges.replace.clear(),this._ranges.context.clear(),this._ranges.highlight.clear();var n=this._getPendingRanges("highlight");return this._pendingRanges.forEach((function(t){var n=t[0],r=t[1];return e._ranges[n].add(r)})),this._pendingRanges=[],this.highlightRanges=this._getRanges("highlight"),this.contextRanges=this._getRanges("context"),this.replaceRange=this._getFirstRange("replace"),ie({addedHighlightedRanges:n,removedHighlightedRanges:[t,function(){t.forEach((function(t){return e._deregisterRange(t.meta.id)}))}]})},e.prototype._registerRanges=function(e,t,n,r){var i=this;e.forEach((function(e){var o,a=e.start+","+e.end;n&&n.has(a)?o=n.get(a):(o=Vv.getRangeId(i._alertId,e.meta,i._rangesIndex++),i._rangesMap.set(o,i._positionManager.registerRange(o,r?i._rangeCreator(e):e)),n&&n.set(a,o)),t(o)}))},e.prototype.registerJoinedAppliedRanges=function(){var e=this;tr(Hn(er(Array.from(this._ranges.highlight),Array.from(this._ranges.replace))),Re(Gn((function(t){return e._rangesMap.get(t)}))),Re(Hi(zv.monoid)),Re((function(t){return e._registerRanges(tr(t,Wv.create(Wv.Meta.Behavior.APPLIED,Wv.Meta.View.MAIN),e._positionManager.widen,vi),(function(t){return e._ranges.applied.add(t)}))})))},e.prototype.registerHighlightRangesAsApplied=function(){var e=this,t=Array.from(this._ranges.highlight).map((function(t){return e._rangesMap.get(t)})).map(Wv.create(Wv.Meta.Behavior.APPLIED,Wv.Meta.View.MAIN)).map(this._positionManager.widen);this._registerRanges(t,(function(t){return e._ranges.applied.add(t)}))},Object.defineProperty(e.prototype,"appliedRanges",{get:function(){var e=this;return tr(this._getRanges("applied"),yi((function(t){return function(){return tr(e._positionManager.narrow(t),pe((function(){return zv.create(t.start,t.start,t.meta)})))}})))},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){var e=this;this._rangesMap.forEach((function(t,n){return e._positionManager.deregisterRange(n)})),this._rangesMap.clear()},e}();!function(e){var t;!function(e){e[e.red=0]="red",e[e.green=1]="green",e[e.yellow=2]="yellow",e[e.grey=3]="grey"}(t=e.Color||(e.Color={}));var n=/<span.*?<\/span><br\/>/g,r=/^<span.*?class="(.+?)".*?>/,i=/^<span.*?>(.+?): /,o=/^<span.*?>(?:.+?: )?(.+?)<\/span><br\/>/;e.parse=function(e,a){return void 0===a&&(a=!1),tr(oe(e),Re((function(e){return e.replace(/^<p>/,"").split("<p>").map((function(e){var s=e.match(n);return s&&ai(s)?s.map((function(e){var n=function(e){switch(e){case"red":return t.red;case"green":return t.green;case"yellow":return t.yellow;default:return t.grey}}((ds(e,r)||"").split(/\s+/)[0]),s=oe(ds(e,i)),u=ds(e,o);return u?{color:n,title:s,text:u,hasItalic:a}:null})).filter(Boolean):[]})).filter(ai)})),Me(ms.array))},e.colorMatch=function(e){return function(n){switch(e){case t.red:return n.red;case t.green:return n.green;case t.yellow:return n.yellow;default:return n.fallback}}}}(oy||(oy={})),function(e){var t,n,r,i;function o(t){return t===e.SpecialId.Priority}function a(t){return t===e.SpecialId.PredictionTakeaways}function s(t){return t===e.SpecialId.PredictionEmogenie}function u(t){return e.isOutcomeId(t)||e.isPremiumId(t)||e.isPlagiarismId(t)||e.isAllAlerts(t)||e.isPriority(t)||e.isPredictionTakeaways(t)||e.isPredictionEmogenie(t)||e.isRealtimeProofitId(t)}function c(e){return e===t.Correctness||e===t.Clarity||e===t.Engagement||e===t.Delivery||e===t.Vox}function l(e){return e===t.CorrectnessPriority||e===t.ClarityPriority||e===t.EngagementPriority||e===t.DeliveryPriority||e===t.VoxPriority}function f(t){return e.SpecialId.AllAlerts===t}!function(e){function t(e){return function(t){var n=t;return new g(n.info,e(n.meta),t.filter)}}e.modifyMeta=t,e.setMeta=function(e){return function(n){return t((function(){return e}))(n)}}}(e.WithAlerts||(e.WithAlerts={})),function(e){e.Plagiarism="Originality",e.DraftAI="Draft AI",e.Premium="Hidden",e.Closed="Closed",e.AllAlerts="All alerts",e.Priority="Priority",e.PredictionEmogenie="PredictionEmogenie",e.PredictionTakeaways="PredictionTakeaways",e.RealTimeProofit="RealTimeProofit",e.Clarity="ClarityOutcome",e.Correctness="CorrectnessOutcome",e.Engagement="EngagementOutcome",e.Delivery="DeliveryOutcome",e.Vox="Style guide",e.ClarityPriority="ClarityOutcomePriority",e.CorrectnessPriority="CorrectnessOutcomePriority",e.EngagementPriority="EngagementOutcomePriority",e.DeliveryPriority="DeliveryOutcomePriority",e.VoxPriority="Style guide Priority"}(t=e.SpecialId||(e.SpecialId={})),e.isClosedId=function(e){return e===t.Closed},e.isPremiumId=function(t){return t===e.SpecialId.Premium},e.isPriority=o,e.isPredictionTakeaways=a,e.isPredictionEmogenie=s,e.isPrediction=function(e){return a(e)||s(e)},e.isWithAlertsId=u,e.isWithSuccessId=function(t){return e.isAllAlerts(t)||e.isPriority(t)||e.isPrediction(t)||e.isOutcomeId(t)||e.isRealtimeProofitId(t)},(n=e.OutcomeId||(e.OutcomeId={})).toOutcomeId=function(t){switch(t){case"Correctness":return Rt(e.SpecialId.Correctness);case"Clarity":return Rt(e.SpecialId.Clarity);case"Engagement":return Rt(e.SpecialId.Engagement);case"Tone":return Rt(e.SpecialId.Delivery);case"Style guide":return Rt(e.SpecialId.Vox);default:return At("Unknown outcome id")}},n.fromOutcomeId=function(t){switch(t){case e.SpecialId.Correctness:case e.SpecialId.Clarity:case e.SpecialId.Engagement:case e.SpecialId.Delivery:return t.slice(0,-"Outcome".length);case e.SpecialId.CorrectnessPriority:case e.SpecialId.ClarityPriority:case e.SpecialId.EngagementPriority:case e.SpecialId.DeliveryPriority:return t.slice(0,-"OutcomePriority".length);case e.SpecialId.VoxPriority:return t.slice(0,-" Priority".length);default:return t}},n.toRawOutcome=function(t){switch(t){case e.SpecialId.Correctness:case e.SpecialId.Clarity:case e.SpecialId.Engagement:return t.slice(0,-"Outcome".length);case e.SpecialId.Delivery:return"Tone";case e.SpecialId.Vox:return"Style guide";default:return vr(t)}},n.toPriorityOutcomeId=function(t){switch(t){case e.SpecialId.Correctness:return e.SpecialId.CorrectnessPriority;case e.SpecialId.Clarity:return e.SpecialId.ClarityPriority;case e.SpecialId.Engagement:return e.SpecialId.EngagementPriority;case e.SpecialId.Delivery:return e.SpecialId.DeliveryPriority;case e.SpecialId.Vox:return e.SpecialId.VoxPriority;default:return vr(t)}},n.fromPriorityOutcomeId=function(t){switch(t){case e.SpecialId.CorrectnessPriority:return e.SpecialId.Correctness;case e.SpecialId.ClarityPriority:return e.SpecialId.Clarity;case e.SpecialId.EngagementPriority:return e.SpecialId.Engagement;case e.SpecialId.DeliveryPriority:return e.SpecialId.Delivery;case e.SpecialId.VoxPriority:return e.SpecialId.Vox;default:return vr(t)}},(e.CapiId||(e.CapiId={})).toCapiId=function(t){return t===e.SpecialId.Plagiarism?Rt(e.SpecialId.Plagiarism):e.OutcomeId.toOutcomeId(t)},(e.Id||(e.Id={})).ord=en,e.isPlagiarismId=function(e){return e===t.Plagiarism},e.isDraftAIId=function(e){return e===t.DraftAI},e.isOutcomeId=function(e){return c(e)||l(e)},e.isMainOutcomeId=c,e.isPriorityOutcomeId=l,e.isRealtimeProofitId=function(e){return e===t.RealTimeProofit},e.isAllAlerts=f,e.isMainLens=function(e){return f(e)||o(e)},e.isCorrectness=function(t){return t===e.SpecialId.Correctness||t===e.SpecialId.CorrectnessPriority},e.isClarity=function(t){return t===e.SpecialId.Clarity||t===e.SpecialId.ClarityPriority},e.isDelivery=function(t){return t===e.SpecialId.Delivery||t===e.SpecialId.DeliveryPriority},e.isEngagement=function(t){return t===e.SpecialId.Engagement||t===e.SpecialId.EngagementPriority},e.isVox=function(t){return t===e.SpecialId.Vox||t===e.SpecialId.VoxPriority},function(e){e.Critical="critical",e.Advanced="advanced",e.Plagiarism="plagiarism",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.Vox="vox",e.Other="other"}(e.Type||(e.Type={})),function(e){e.fromRawAlert=function(t){switch(t.cardLayout.outcome){case"Correctness":return e.Correctness;case"Clarity":return e.Clarity;case"Engagement":return e.Engagement;case"Tone":return e.Delivery;case"Style guide":return e.Vox;case"Originality":return e.Plagiarism;default:return e.Other}}}(e.Type||(e.Type={})),(r=e.Category||(e.Category={})).Accuracy="Accuracy",r.Clarity="Clarity",r.Effectiveness="Effectiveness",r.Originality="Originality",r.Hidden="Hidden",function(e){var t;e.group=(t={count:qi,mutedCount:qi,unreadCount:qi,priorityCount:qi,percentile:Ng.groupSum},Qn(Qn({},Ui(t)),{inverse:function(e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o].inverse(e[o])}return n}})),e.eq=Li({count:Pi,unreadCount:Pi,percentile:Ng.ord}),e.fromAlertCounters=function(e){var t=Gv.toUnmutedOnly(e);return{count:t.cost,priorityCount:e.priority,mutedCount:e.muted,unreadCount:t.unread,percentile:Ng.MIN}},e.fromPercentile=function(e){return{count:0,mutedCount:0,unreadCount:0,priorityCount:0,percentile:e}},e.ratioToPercentile=function(e){return function(t){return Qn(Qn({},t),{percentile:e})}},e.isEmpty=function(e){return 0===e.count&&0===e.mutedCount}}(i=e.Meta||(e.Meta={})),e.outcomeTypeMatch=function(t){return function(n){switch(t){case e.Type.Correctness:return n.correctness;case e.Type.Clarity:return n.clarity;case e.Type.Engagement:return n.engagement;case e.Type.Delivery:return n.delivery;case e.Type.Vox:return n.vox;case e.Type.Advanced:return n.premium;case e.Type.Critical:case e.Type.Plagiarism:case e.Type.Other:throw new pr("Don't use this function for "+t+" type");default:return vr(t)}}},e.outcomeFullTypeMatch=function(t){return function(n){switch(t){case e.Type.Correctness:return n.correctness;case e.Type.Clarity:return n.clarity;case e.Type.Engagement:return n.engagement;case e.Type.Delivery:return n.delivery;case e.Type.Plagiarism:return n.plagiarism;case e.Type.Vox:return n.vox;case e.Type.Advanced:return n.premium;case e.Type.Critical:case e.Type.Other:throw new pr("Don't use this function for "+t+" type");default:return vr(t)}}};var d={vox:0,critical:10,correctness:10,advanced:20,clarity:20,engagement:30,delivery:40,plagiarism:50,other:60};e.getSortOrder=function(e){return d[e]},e.ord=cn((function(e,t){return(n=d[e.type]-d[t.type]||t.priority-e.priority)<=-1?-1:n>=1?1:0;var n}));var h=function(){function e(e,t,n){this.info=e,this.meta=t,this.filter=n}return Object.defineProperty(e.prototype,"title",{get:function(){return this.info.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.info.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"category",{get:function(){return this.info.category},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.info.description},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this.info.priority},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.meta.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mutedCount",{get:function(){return this.meta.mutedCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unreadCount",{get:function(){return this.meta.unreadCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priorityCount",{get:function(){return this.meta.priorityCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percentile",{get:function(){return this.meta.percentile},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.info.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveHighlights",{get:function(){return this.info.exclusiveHighlights},enumerable:!1,configurable:!0}),e.prototype.appendMeta=function(t){return new e(this.info,i.group.concat(this.meta,t),this.filter)},e.prototype.updateMeta=function(t){return new e(this.info,t(this.meta),this.filter)},e.prototype.equals=function(e){return this.id===e.id&&this.count===e.count&&this.unreadCount===e.unreadCount&&this.percentile===e.percentile&&this.priority===e.priority},e.prototype.hashCode=function(){var e=7;return e=31*(e=31*(e=31*(e=31*(e=31*e+Ig(this.id))+this.count)+this.unreadCount)+Ng.prism.reverseGet(this.percentile))+this.priority},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{id:this.id,type:this.type,count:this.count,percentile:this.percentile,unreadCount:this.unreadCount,priority:this.priority}},e}();e.StaticLensImpl=h;var p,g=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return mr(u(t.id),"can not create WithAlerts lens for static lens id",t.id),i}return Yn(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.info.id},enumerable:!1,configurable:!0}),t.prototype.appendMeta=function(e){return new t(this.info,i.group.concat(this.meta,e),this.filter)},t.prototype.updateMeta=function(e){return new t(this.info,e(this.meta),this.filter)},t}(h);e.LensImpl=g,function(t){function n(e){return ar(t.base,e)}t.base={id:e.SpecialId.Correctness,type:e.Type.Other,category:e.Category.Hidden,title:"Base Lens",description:"",priority:0,exclusiveHighlights:!1},t.create=n,t.createOutcome=function(t){return n({id:t,title:e.OutcomeId.fromOutcomeId(t),exclusiveHighlights:!0})},t.plagiarism=n({id:e.SpecialId.Plagiarism,type:e.Type.Plagiarism,category:e.Category.Originality,title:"Plagiarism",exclusiveHighlights:!0}),t.draftAI=n({id:e.SpecialId.DraftAI,type:e.Type.Critical,title:"Draft AI"}),t.premium=n({id:e.SpecialId.Premium,type:e.Type.Advanced,title:"Premium"}),t.allAlerts=n({id:e.SpecialId.AllAlerts,type:e.Type.Critical,title:"All suggestions"}),t.priority=n({id:e.SpecialId.Priority,type:e.Type.Critical,title:"Priority"}),t.predictionTakeaways=n({id:e.SpecialId.PredictionTakeaways,type:e.Type.Critical,title:"Reader's attention"}),t.predictionEmogenie=n({id:e.SpecialId.PredictionEmogenie,type:e.Type.Critical,title:"How it sounds"}),t.realTimeProofit=n({id:e.SpecialId.RealTimeProofit,type:e.Type.Critical,title:"Proofreading"})}(p=e.Info||(e.Info={})),e.createStaticLens=function(e,t,n){var r=ar(p.base,e);return new h(r,t,n)}}(ay||(ay={})),function(e){e.isKnown=function(e){return"id"in e},e.splitById=function(t){return e.isKnown(t)?{id:t.id,local:Jn(t,["id"])}:{local:t}},e.toLocal=function(t){return e.isKnown(t)?(t.id,Jn(t,["id"])):t},function(e){e.identity=function(e){return e},e.forcePositionOverTransformJson=function(e){return function(e){return void 0!==e.extra_properties&&void 0!==e.extra_properties.progress}(e)?e:Ic.withTransformJson(e)&&Ic.hasPosition(e)&&!Ic.withSubalerts(e)?ar(e,{transformJson:void 0}):e}}(e.Transform||(e.Transform={})),e.isHighlightValid=function(e,t){return Ic.match(e,(function(e){return t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]}),(function(e){return!!Ic.hasPosition(e)&&t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]}),(function(){return!1}))}}(sy||(sy={})),function(e){e.api="api",e.sidebar="sidebar",e.text="text"}(uy||(uy={})),function(e){e.FullSentence="FullSentence",e.Simple="Simple",e.Regular="Regular",e.OneGap="OneGap",e.SmartPhrases="SmartPhrases",e.Takeaway="Takeaway",e.Synfony="Synfony",e.ShortenIt="shortenIt",e.ToneAI="ToneAI"}(cy||(cy={})),function(e){e.correctlyDetected="correctlyDetected",e.correctlyDetectedAndDone="correctlyDetectedAndDone",e.incorrectlyDetected="incorrectlyDetected"}(ly||(ly={})),function(e){e.parse=function(t){return Ic.isFullSentence(t)?e.FullSentence:"true"===t.transform_with_button?e.Simple:"true"===t.gap_transform?e.OneGap:void 0!==t.smart_phrases_intent?e.SmartPhrases:void 0!==t.takeawayScore?e.Takeaway:void 0!==t.drilldownTree?e.Synfony:"true"===t.shorten_it?e.ShortenIt:void 0!==t.tone_slider?e.ToneAI:e.Regular},e.isFullSentence=function(t){return t===e.FullSentence},e.isSimple=function(t){return t===e.Simple},e.isOneGap=function(t){return t===e.OneGap},e.isSmartPhrases=function(t){return t===e.SmartPhrases},e.isSynfony=function(t){return t===e.Synfony},e.isShortenIt=function(t){return t===e.ShortenIt},e.isToneAI=function(t){return t===e.ToneAI}}(cy||(cy={})),function(e){var t;e.parse=Q(oe,Re((t="options",function(e){return e[t]})),Re(gi(dn((function(e){return e.order}))(tn))),Re(yi((function(e){return{key:e.key,text:e.reason}}))))}(fy||(fy={})),function(e){e.fromCapiExtraProperties=function(e){var t;return{hasAddToDictionary:"true"===e.add_to_dict,didYouMean:"true"===e.did_you_mean,showTitle:"true"===e.show_title,isEnhancement:"true"===e.enhancement,priority:parseInt(e.priority||"0",10),tone:Ti(wt)({emoji:oe(e.emoji),name:oe(e.tone)}),vox:tr(oe(e.voxCompanyName),Re((function(t){return{companyName:t,logoUrl:oe(e.voxLogoUrl)}}))),fluencyMessage:oe(e.fluency_message),cardType:cy.parse(e),isInQuotes:"true"===e.in_quotes,bulkAcceptable:"true"===e.bulk_acceptable,takeaway:ce(Ry.parseExtraProps(e)),takeawayBundleId:tr(oe(e.takeaway_bundle_id),Ye(ai)),shortenIt:ce(Py.parseExtraProps(e)),toneAI:Ly.parseExtraProps(e),smartPhrases:e.smart_phrases_intent&&e.smart_phrases_emoji&&e.smart_phrases_show_phrases_title&&e.smart_phrases_phrase_added_title?ie({intent:e.smart_phrases_intent,emoji:e.smart_phrases_emoji,showPhrasesTitle:e.smart_phrases_show_phrases_title,phraseAddedTitle:e.smart_phrases_phrase_added_title,pageSize:parseInt(null!==(t=e.smart_phrases_page_size)&&void 0!==t?t:"5",10)||5,alertState:e.smart_phrases_alert_state?Qn(Qn({},e.smart_phrases_alert_state),{intentDetectedFeedback:e.smart_phrases_alert_state.intentDetectedFeedback?e.smart_phrases_alert_state.intentDetectedFeedback:null}):void 0}):re,freePremium:oe(e.free_premium),occasionalPromotion:oe(e.occasional_promotion),sentenceLevelBrandTones:("on"===e.brandToneLabel||"off"===e.brandToneLabel)&&e.brandToneDescription&&e.emotion&&e.emoji?ie({description:e.brandToneDescription,emoji:e.emoji,emotion:e.emotion,label:e.brandToneLabel,companyLogoUrl:oe(e.brandToneInstitutionLogo),feedback:tr(oe(e.brandToneFeedback),Me((function(e){return e===my.accurate?ie(my.accurate):e===my.inaccurate?ie(my.inaccurate):vr(e)})))}):re,drilldownTree:oe(e.drilldownTree)}}}(dy||(dy={})),function(e){e.isWithAlternative=function(e){return void 0!==e.reversedAlternative},e.mock={action:Ac.LOOKED,commit:Y,undo:Y}}(hy||(hy={})),function(e){e.ordId=dn((function(e){return e.id}))(en),e.ordHRange=dn((function(e){return e.getHighlightRanges()[0]}))(zv.ord),e.ord=ln().concat(e.ordHRange,e.ordId)}(py||(py={})),function(e){e.SMART_PHRASES_INTENT_DETECTED_ACCURATE="SMART_PHRASES_INTENT_DETECTED_ACCURATE",e.SMART_PHRASES_INTENT_DETECTED_INACCURATE="SMART_PHRASES_INTENT_DETECTED_INACCURATE"}(gy||(gy={})),function(e){e.accurate="accurate",e.inaccurate="inaccurate"}(my||(my={})),function(e){var t;(t=e.SummariesRequestState||(e.SummariesRequestState={})).idle="idle",t.requested="requested"}(vy||(vy={})),function(e){e.ToneSlider=au(uu({emoji_id:Js,name:Js}))}(yy||(yy={})),function(e){var t=G(ey(void 0));e.mock={_applyAlert:t,_applyTransformJson:t,_alertFeedback:t,_alertBatchFeedback:G(Y),_dismissBatch:t,_releaseRef:t,_notifyAlertUpdated:t,_changeMuteState:G(ey(Rt([]))),_changeGapValue:t,_confirmApplied:t,_applySmartPhrasesAlert:t,_changeSmartPhrasesFeedback:G(ey(void 0)),_rotateSmartPhrasesReplacements:G(ey(void 0)),_discardSmartPhrasesReplacement:G(ey(void 0)),_changeTakeawayFeedback:function(e){return Sy.isTakeaway(e)?ey(e):Xv(new Error("Not a Takeaway alert"))},_changeSentenceLevelBrandTonesFeedback:function(e){return Sy.isSentenceLevelBrandTones(e)?ey(e):Xv(new Error("Not a Sentence-Level Brand Tones alert"))},_requestShortenItReplacements:function(e){return Sy.isShortenIt(e)?ey(e):Xv(new Error("Not a ShortenIt alert"))},_changeToneAIToneAlternative:function(e){return Sy.isToneAI(e)?ey(e):Xv(new Error("Not a ToneAI alert"))}}}(_y||(_y={}));var Sy,xy=Q(Number,Ng.prism.getOption,pe((function(){return Ng.MIN}))),Ey=function(){function e(t,n,r,i,o,a,s,u,c){var l,f,d,h=this;void 0===o&&(o=Vy(t)),void 0===a&&(a=By(t)),void 0===s&&(s=Hy(t)),void 0===u&&(u=!!t.isRead),void 0===c&&(c=0),this._raw=t,this._ops=n,this._positionManager=r,this._alternativeManager=i,this._replaceEither=o,this._isRead=u,this._version=c,this._log=i_("BaseAlert.impl",lr.DEBUG),this._disposed=!1,this.id=e._createId(tr(this.rawId,pe((function(){return"local"})))),this.priority=0,this.progress=xy(this._raw.extra_properties.progress),this.extraProperties=dy.fromCapiExtraProperties(this._raw.extra_properties),this.dismissSurvey=fy.parse((null===(l=this._raw.userReasonSurveys)||void 0===l?void 0:l.find((function(e){return"dismiss"===e.action})))||this._raw.userReasons),this.acceptSurvey=fy.parse(null===(f=this._raw.userReasonSurveys)||void 0===f?void 0:f.find((function(e){return"accept"===e.action}))),this._state=Sy.State.init,this.belongsToAllAlerts=!1,this.lensType=ay.Type.fromRawAlert(this._raw),this.lensName=this._raw.cardLayout.group,this.isFree=this._raw.free,this.lensPriority=this._raw.cardLayout&&this._raw.cardLayout.rank||0,this.from=re,this.highlightTexts=this._raw.highlightText,this.replaceText=this._raw.text,this.bundleInfo=tr(oe(this._raw.cardLayout.bundle),Re((function(e){return{title:e,rank:h._raw.cardLayout.bundleRank||Number.MAX_SAFE_INTEGER}}))),this.prediction=oe(this._raw.cardLayout.prediction),this.allowUpdate=!!this._raw.updatable,this._mute=Sy.MuteStateType.fromMutedByType(this._raw.muted),this.muteCategory=Ti(wt)({id:tr(oe(this._raw.cardLayout.userMuteCategory),Re((function(e){return e}))),description:oe(this._raw.cardLayout.userMuteCategoryDescription)}),this._isValid=!1,this._sanityCheck=(d=this._raw,Ic.match(d,(function(){return function(e){mr(Ic.withPosition(e),"raw alert should be withPosition"),void 0!==e.transforms&&mr(e.transforms.length===e.replacements.length,"Every transform should have replacement, bro, tr: "+e.transforms+", rep: "+e.replacements+". AlertId: "+e.id)}}),(function(){return function(e){return mr(Ic.withTransformJson(e),"raw alert should be withTransform")}}),(function(){return function(e){mr(Ic.withSubalerts(e),"raw alert should be withSubalerts"),mr(tr(e.subalerts.alternatives,Co((function(t){return t.alternatives.length===e.labels.length}))),"SuperAlert doesnt have any labels OR transformJson alternatives length is not equal to the number of labels",(function(){return e.toString()}))}}))),this._alertAlternativeManager=re,this._pendingAlertAlternativeManager=re,this.view=this._raw.view||Ic.View.all,this.getHighlightRanges=function(){return h._alertRangeManager.highlightRanges},this.getContextRanges=function(){return h._alertRangeManager.contextRanges},this.getReplaceEither=function(){return tr(h._replaceEither,Bt((function(){return h._alertRangeManager.replaceRange}),(function(){return tr(h._alertAlternativeManager,Re((function(e){return e.alternatives})))})))},this.getAppliedRanges=function(){return h._alertRangeManager.appliedRanges},this._registerAlternatives=function(e,t){h._deregisterAllAlternatives(),h._alertAlternativeManager=ie(by.register(h._alternativeManager,h.id,e,t))},this._refNames=[],this._sanityCheck(t),this._registerAll(t.rev,tr(o,zt(Re((function(e){return e.alternatives})))),a,s)}return e._createId=function(e){return e+"_"+(this.idCounter++).toString()},Object.defineProperty(e.prototype,"rawId",{get:function(){return sy.isKnown(this._raw)?ie(this._raw.id):re},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"patternName",{get:function(){return this._raw.pname},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRead",{get:function(){return this._isRead},set:function(e){this._log.trace("isRead#"+this.version,String(e)),this.bumpVersion(),this._isRead=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mute",{get:function(){return this._mute},set:function(e){this._log.trace("mute#"+this.version,String(e)),this.bumpVersion(),this._mute=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todoAction",{get:function(){return this._raw.todo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miniCardTitle",{get:function(){return this._raw.minicardTitle},enumerable:!1,configurable:!0}),e.prototype._registerAll=function(e,t,n,r){var i=this;tr(t,Dt((function(e){return i._registerRanges(ie(e),n,r)}),(function(t){i._registerRanges(re,n,r),tr(t,le(Y,(function(t){return i._registerAlternatives(e,t)})))})))},e.prototype._deregisterAllAlternatives=function(){this._alertAlternativeManager=tr(this._alertAlternativeManager,e._disposeAltManager),this._pendingAlertAlternativeManager=tr(this._pendingAlertAlternativeManager,e._disposeAltManager)},e.prototype._deregisterRanges=function(){this._alertRangeManager.dispose()},e.prototype.bumpVersion=function(){this._version++},e.prototype.copy=function(){var e=this;mr(Sy.isNotDisposed(this),"Cannot copy disposed alert!",(function(){return e.toString()}));var t=new this.constructor(this._raw,this._ops,this._positionManager,this._alternativeManager,tr(this._replaceEither,Bt(zv.copy,Re(yc.Group.copy))),this.getHighlightRanges().map(zv.copy),tr(this.getContextRanges(),Hn,Re(Gn(zv.copy))),this.isRead,this.version+1);return this.isValid||t.invalidate(),t.from=ie(this.id),t},Object.defineProperty(e.prototype,"isValid",{get:function(){return this._isValid},enumerable:!1,configurable:!0}),e.prototype.validate=function(){var e=this;mr(te(this.rawId),"Cannot validate local alert",(function(){return e.toString()})),this._isValid=!0},e.prototype.invalidate=function(){return this._isValid=!1,this},e.prototype.clearCapiId=function(){sy.isKnown(this._raw)&&(this._raw=this.toLocalRawAlert())},e.prototype.silentPatchWithRawAlert=function(e){this._raw=e,this._mute=Sy.MuteStateType.fromMutedByType(this._raw.muted),this.progress=xy(e.extra_properties.progress),this.extraProperties=dy.fromCapiExtraProperties(e.extra_properties)},e.prototype.patchWithRawAlert=function(e){this._log.trace("patchWithRawAlert#"+this.version,e),this.bumpVersion(),this.silentPatchWithRawAlert(e)},e.prototype.updateAlertWithManagedData=function(e){mr(0===this.references,"Cannot update referenced alert, use enqueueRawAlertForUpdate instead"),this._deregisterRanges(),this._deregisterAllAlternatives(),this._registerAll(e.rev,tr(Vy(e),zt(Re((function(e){return e.alternatives})))),By(e),Hy(e)),this.patchWithRawAlert(e)},e.prototype.registerReversedAlternative=function(e){var t=this;return tr(this._alertAlternativeManager,Me(Q((function(t){return t.registerReversedAlternative(e)}),jt((function(n){return t._log.error("Could not register reversed alternative",{error:n,reversedAlternative:e}),n})),ce)))},e.prototype._registerAppliedRanges=function(){var e=this;tr(this._replaceEither,Dt((function(){e._alertRangeManager.registerJoinedAppliedRanges()}),(function(){e._alertRangeManager.registerHighlightRangesAsApplied(),tr(e._alertAlternativeManager,Re((function(e){return e.deregisterAlternatives()})))})))},e.prototype.switchToBeingAppliedState=function(e,t){var n=this;mr(!Sy.isApplied(this)&&!Sy.isBeingApplied(this),"can not apply already applied or being applied alert",(function(){return JSON.stringify({alert:n,source:e,method:t})})),Sy.isRemoved(this)&&this._log.warn("Trying to switch removed to applied state",{alert:this,source:e,method:t}),this._registerAppliedRanges();var r=this.changeState(Sy.State.Applied.createBeingApplied(e,t,ry.create(this))),i=this.getHighlightRanges().map(zv.copy),o=tr(this.getContextRanges(),Hn,Re(Gn(zv.copy)));return{beingAppliedAlert:r,undo:function(){Sy.isRemoved(n)||Sy.isBulkApplied(n)||n._registerAll(n._raw.rev,tr(n.getReplaceEither(),zt(Re(Gn((function(e){return e.alternative}))))),i,o)}}},e.prototype.apply=function(e){var t=this,n=e.alternativeIndex,r=e.feedbackSubtype,i=e.source;mr(Sy.isNotDisposed(this),"Cannot apply already disposed alert",(function(){return t.toString()})),tr(this._replaceEither,Dt((function(){return t._ops._applyAlert({alert:t,replacementText:tr(Sy.getReplacementText(t,n)(),Ii),source:i,method:Sy.State.Applied.Method.ByCard,feedbackSubtype:r})}),(function(){return Sy.isSmartPhrases(t)?t._ops._applySmartPhrasesAlert({alerts:[{alert:t,alternative:Sy.getApplicableAlternative(t,n)}],feedbackSubtype:r}):t._ops._applyTransformJson({alerts:[{alert:t,alternative:Sy.getApplicableAlternative(t,n)}],source:i,method:Sy.State.Applied.Method.ByCard,feedbackSubtype:r,drilldownSuggestionIds:e.drilldownSuggestionIds})})),ny((function(e){return function(){throw e}})))()},e.prototype.equals=function(e){return py.ordId.equals(this,e)},e.prototype.hashCode=function(){return Ig(this.id)},e.prototype.isSameType=function(e){return this.patternName===e.patternName&&this.title===e.title&&this.lensType===e.lensType&&this._raw.free===e._raw.free&&this.lensId===e.lensId},e.prototype.enqueueRawAlertForUpdate=function(e){var t=this;mr(tr(this.rawId,Co((function(t){return t===e.id}))),"Cannot update alert with different id, this: "+tr(this.rawId,fe)+", that: "+e.id);var n=Vy(e);mr(Ot(n)&&Ot(this._replaceEither)||Nt(n)&&Nt(this._replaceEither),"Cannot change replace type on the go"),this._sanityCheck(e),this.patchWithRawAlert(e),this.highlightTexts=e.highlightText,tr(n,Dt((function(n){t._alertRangeManager.enqueueRanges([n],By(e),[])}),(function(n){t._alertRangeManager.enqueueRanges([],By(e),tr(e,Hy,pe((function(){return[]})))),tr(t._pendingAlertAlternativeManager,Re((function(e){return e.dispose()}))),t._pendingAlertAlternativeManager=tr(n,Re((function(n){return by.register(t._alternativeManager,t.id,e.rev,n.alternatives)})))})))},Object.defineProperty(e.prototype,"hasNewRangesForUpdate",{get:function(){return this._alertRangeManager.pending},enumerable:!1,configurable:!0}),e.prototype.applyPendingRangesUpdate=function(){var e=ry.create(this);this._log.trace("applyPendingRangesUpdate#"+this.version),this.bumpVersion(),tr(this._alertAlternativeManager,Re((function(e){return e.dispose()}))),this._alertAlternativeManager=this._pendingAlertAlternativeManager,this._pendingAlertAlternativeManager=re;var t=this._alertRangeManager.applyPendingRangesUpdate(),n=ry.create(this);return tr(this._ops._notifyAlertUpdated(Uy.create(e,n))(),jt(this._log.handler("Could not update alert when applying pending ranges update").error)),t},e.prototype.hasMatchingHighlightsWith=function(e,t){return this.hasNewRangesForUpdate?this._alertRangeManager.hasMatchingPendingRanges(e.getHighlightRanges(),"highlight",t):this.getHighlightRanges().some((function(n){return e.getHighlightRanges().some((function(e){return t(n,e)}))}))},e.prototype.canBeMergedWith=function(e){return Sy.isRemoved(this)?this.allowUpdate&&this.isSameType(e)&&this.hasMatchingHighlightsWith(e,zv.isOverlap)&&this.state.reason===Sy.State.Removed.Reason.capiDone:this.hasMatchingHighlightsWith(e,zv.ord.equals)&&ha(this.highlightTexts,e.highlightTexts,(function(e,t){return e===t}))&&this.isSameType(e)},e.prototype.changeState=function(e){return this._log.trace("changeState#"+this.version,e),this.bumpVersion(),this._state=e,this},e.prototype.enqueueRangesRemove=function(e){var t=function(t){return!e.has(t)};return this._alertRangeManager.enqueueRanges(tr(this.getReplaceEither(),Dt((function(e){return[e]}),(function(){return[]}))),this.getHighlightRanges().filter(t),this.getContextRanges().filter(t)),this},e.prototype.toString=function(){return"Alert: "+JSON.stringify(this,void 0,0)},e.prototype.toLiteString=function(){return"aid:"+this.id+" rid:"+fe(this.rawId)},e.prototype.toJSON=function(){return Qn(Qn({id:this.id,rawId:tr(this.rawId,pe((function(){return"unknown"}))),hranges:this.getHighlightRanges()},tr(this.getReplaceEither(),Dt((function(e){return{rrange:e}}),(function(e){return{alts:tr(e,Re(yi((function(e){return e.alternative.ops.map(mc.anonymize)}))),de)}})))),{arange:tr(this.getAppliedRanges(),ae(ai),fe),lensId:this.lensId,lensType:this.lensType,category:this._raw.category,patternName:this._raw.pname,impact:this._raw.impact,isValid:this._isValid,state:this.state.type,references:this._refNames,disposed:this._disposed,view:this._raw.view})},e.prototype.toLocalRawAlert=function(){return sy.toLocal(this.toRawAlert())},e.prototype.toRawAlert=function(){var e=this,t=this.getHighlightRanges().map((function(t){return Ft((function(n){return e._log.info("Alert cannot be restored",n),zv.copy(t)}))(Bv.restore(t))})),n=ar(this._raw,Qn({isRead:this.isRead,muted:this._mute===Sy.MuteStateType.Muted?wc.MutedByType.MUTED_BY_USER:void 0},tr(this.getReplaceEither(),Dt((function(e){return{begin:e.start,end:e.end}}),(function(){return{}})))));return ar(n,Ic.match(this._raw,(function(){return{highlightBegin:t[0].start,highlightEnd:t[0].end}}),(function(n){return{transformJson:Tc.create({alternatives:tr(n.transformJson.alternatives,Me((function(){return tr(Hn(e.getContextRanges()))})),Re(Gn((function(e){return{s:e.start,e:e.end}}))),Me((function(t){return tr(e.getReplaceEither(),Ii,Re((function(e){return{context:t,alternatives:tr(e,Gn((function(e){return e.alternative})))}})))}))),highlights:t.map((function(e){return{s:e.start,e:e.end,type:e.meta.vtype===Wv.Meta.View.FOCUS?"focus":e.meta.vtype===Wv.Meta.View.ENCLOSING?"enclosing":"main"}}))})}}),(function(){return{}})))},e.prototype.toLiteAlert=function(){return{group:this._raw.group,category:this._raw.category,categoryHuman:this._raw.categoryHuman,cost:1}},e.prototype.toLensAlert=function(){return{lensName:this._raw.cardLayout.group,isFree:this._raw.free,cost:1}},e.prototype.takeReference=function(e){var t,n,r,i=this;return this._disposed?At(new pr("Can not take reference for already disposed",this.id)):-1!==this._refNames.indexOf(e)?At(new pr("can not take ref for same from twice",e)):(this._refNames.push(e),Rt({dispose:tr((function(){return t=e,n=i._refNames,r=n.indexOf(t),void n.splice(r,1);var t,n,r}),(t=this._ops._releaseRef(e,this),Q((r=function(){return function(e){return e}},function(e){return function(e,t){return function(){return t(e())}}(e,r)}),(n=t,function(e){return t=e,r=n,function(){return t()(r())};var t,r}))),ty((function(e){return function(){return i._log.error("Could not release ref",e)}}),G),Ao,Ro(0))}))},e.prototype.dispose=function(){return this._log.isEnabled(lr.TRACE)&&this._log.trace("dispose alert call",new Error("Alert("+this.toLiteString()+")").stack),mr(Sy.isNotDisposed(this),"Cannot dispose already disposed",this.id),mr(0===this.references,"Cannot dispose alert in use",this.id),this._disposed=!0,this._deregisterAllAlternatives(),this._deregisterRanges(),this},e.prototype.switchToApplied=function(e){return mr(Sy.State.Type.BEING_APPLIED===this.state.type,"Only being applied alert can be transitioned to applied"),this.changeState(Sy.State.Applied.fromBeingApplied(this.state,e))},e.prototype.onRangeChange=function(e){var t=this;mr(Sy.isNotDisposed(this),"Cannot change range on disposed alert!",(function(){return t.toString()}));return Sy.isApplied(this)&&e.some(Wv.hasBehavior(Wv.Meta.Behavior.APPLIED))||(e.some(Wv.hasBehavior(Wv.Meta.Behavior.HIGHLIGHT))||e.some(Wv.hasBehavior(Wv.Meta.Behavior.HIGHLIGHT_UPDATABLE))&&Sy.highlightsCollapsed(t))&&!Sy.isBulkApplied(t)?ie({state:Sy.Transition.State.Dispose}):Sy.isRegistered(this)&&e.some(Wv.hasBehavior(Wv.Meta.Behavior.CONTEXT))?ie({state:Sy.Transition.State.Pending,removedRanges:new Set}):re},e.prototype._registerRanges=function(e,t,n){this._alertRangeManager&&this._alertRangeManager.dispose(),this._alertRangeManager=wy.register(this._positionManager,this.id,tr(e,le((function(){return[]}),(function(e){return[e]}))),t,tr(n,pe((function(){return[]}))))},Object.defineProperty(e.prototype,"references",{get:function(){return this._refNames.length},enumerable:!1,configurable:!0}),e.castApplied=function(e){return mr(Sy.isApplied(e),"can not cast not applied alert",(function(){return e.toString()})),e},e.idCounter=0,e._disposeAltManager=Me((function(e){return e.dispose(),re})),e}(),Cy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.lensId=ay.SpecialId.Premium,t.alertType=Sy.Type.Premium,t.group=t._raw.group,t.category=t._raw.category,t.isFree=t._raw.free,t.categoryHuman=t._raw.categoryHuman,t.allowDuplicates=!0,t.hasNestedHighlights=!1,t._isRead=!0,t.labels=[],t.transform=re,t}return Yn(t,e),Object.defineProperty(t.prototype,"counters",{get:function(){return{cost:1,critical:0,advanced:1,priority:0,free:0,paid:1,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0,unread:0,muted:0,textLength:0}},enumerable:!1,configurable:!0}),t}(Ey),ky=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lensType=ay.Type.Plagiarism,t.lensId=ay.SpecialId.Plagiarism,t.allowDuplicates=!0,t.hasNestedHighlights=!1,t.counters={cost:1,priority:0,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0,critical:0,advanced:0,free:0,paid:0,unread:0,muted:Sy.isMuted(t)?1:0,textLength:t._raw.highlightText.map((function(e){return e.length})).reduce(ri,0)},t.plagiarismType=t._parsePlagiarismExtraProps(t._raw.extra_properties),t.title=t._raw.extra_properties.title||"",t.labels=[],t.cardId=JSON.stringify({title:t.title,source:t.plagiarismType.source}),t._isRead=!0,t.transform=re,t}return Yn(t,e),t.prototype._parsePlagiarismExtraProps=function(e){return"PUBLICATION"===e.source?{source:"publication",authors:oe(e.authors),citationStyle:{apa:e.reference_apa||"",chicago:e.reference_chicago||"",mla:e.reference_mla||""}}:{source:"web",url:oe(e.url)}},t}(Ey),Ty=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lensId=Ii(ay.OutcomeId.toOutcomeId(t._raw.cardLayout.outcome)),t.allowDuplicates=!1,t.hasNestedHighlights=Sy.hasNestedHighlights(t),t.isFree=t._raw.free,t.explanation=t._raw.explanation,t.examples=oy.parse(t._raw.examples,t._raw.point.includes("Italicization")),t.priority=t.extraProperties.priority,t.belongsToAllAlerts=!0,t.labels=Wy(t._raw),t}return Yn(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._raw.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return ms.string(this._raw.details)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"counters",{get:function(){if(Sy.isBulkApplied(this))return Gv.empty;var e=this._raw.impact===Ic.Impact.Critical?1:0,t=this._raw.impact===Ic.Impact.Advanced?1:0,n=this._raw.free?1:0,r=this._raw.free?0:1,i=Sy.isPriority(this)?e:0,o=Sy.isPriority(this)?t:0,a=Sy.isPriority(this)?n:0,s=Sy.isPriority(this)?r:0;return{cost:1,priority:Sy.isPriority(this)?1:0,critical:e,advanced:t,free:n,paid:r,criticalPriority:i,advancedPriority:o,freePriority:a,paidPriority:s,unread:Number(!this.isRead),textLength:0,muted:Sy.isMuted(this)?1:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){var e=this;return tr(this.getReplaceEither(),Dt((function(){return tr(e._raw.replacements,To,Re((function(t){return tr(e._raw.transforms,To,le((function(){return{kind:"replacement",content:t}}),(function(e){return{kind:"transform",content:e}})),At)})))}),Q(Re(Gn((function(e){return e.alternative}))),Re((function(t){return Rt({cardType:e.extraProperties.cardType,drilldown:e.extraProperties.drilldownTree,alternatives:t})})))),Re((function(t){return{id:e.id,revision:tr(e._alertAlternativeManager,le((function(){return e._raw.rev}),(function(e){return e.rev}))),todo:e._raw.todo,content:t}})))},enumerable:!1,configurable:!0}),t.prototype.onRangeChange=function(t){var n=this;mr(Sy.isNotDisposed(this),"Cannot change range on disposed alert!",(function(){return n.toString()}));var r=t.filter(Wv.hasBehavior(Wv.Meta.Behavior.HIGHLIGHT_UPDATABLE));return r.length>0&&!Sy.highlightsCollapsed(this)?ie({state:Sy.Transition.State.Pending,removedRanges:new Set(r.filter(Wv.isFocusView))}):e.prototype.onRangeChange.call(this,t)},t.prototype.enqueueRawAlertForUpdate=function(t){e.prototype.enqueueRawAlertForUpdate.call(this,t),this.explanation=t.explanation},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t.explanation=this.explanation,t},t}(Ey),Iy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alertType=Sy.Type.Default,t}return Yn(t,e),t}(Ty),Oy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alertType=Sy.Type.Synfony,t}return Yn(t,e),t}(Ty),Ny=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labels=t._raw.labels,t.alertType=Sy.Type.Super,t}return Yn(t,e),t.prototype.enqueueRawAlertForUpdate=function(t){e.prototype.enqueueRawAlertForUpdate.call(this,t),this.labels=t.labels},t.prototype.updateAlertWithManagedData=function(t){e.prototype.updateAlertWithManagedData.call(this,t),this.labels=t.labels},t}(Ty),Ay=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._gapValue="",t}return Yn(t,e),Object.defineProperty(t.prototype,"gapValue",{get:function(){return this._gapValue},enumerable:!1,configurable:!0}),t.prototype.changeGapValue=function(e){return this.bumpVersion(),this._gapValue=e,this},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._gapValue=this._gapValue,t},t}(Iy),Ry=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o._raw=t,o._ops=n,o._positionManager=r,o._alternativeManager=i,o.alertType=Sy.Type.Takeaway,tr(o.extraProperties.takeaway,ko((function(e){o._takeawayScore=e.score,o._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,o._takeawayFeedback=e.feedbackState}))),o._miniCardTitle=t.minicardTitle,o._title=t.title,o._details=ms.string(t.details),o}return Yn(t,e),t.prototype.setFeedback=function(e){return this.bumpVersion(),this._takeawayFeedback=ie(e),this},Object.defineProperty(t.prototype,"takeawayScore",{get:function(){return this._takeawayScore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"takeawayIsLikelyToBeRead",{get:function(){return this._takeawayIsLikelyToBeRead},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"takeawayFeedback",{get:function(){return this._takeawayFeedback},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miniCardTitle",{get:function(){return this._miniCardTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!1,configurable:!0}),t.prototype.enqueueRawAlertForUpdate=function(n){var r=this;e.prototype.enqueueRawAlertForUpdate.call(this,n),this._miniCardTitle=n.minicardTitle,this._title=n.title,this._details=ms.string(n.details),tr(t.parseExtraProps(n.extra_properties),Dt((function(e){throw new Error("Cannot update Takeaway alert: "+e)}),(function(e){r._takeawayScore=e.score,r._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,r._takeawayFeedback=e.feedbackState})))},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._takeawayScore=this._takeawayScore,t._takeawayIsLikelyToBeRead=this._takeawayIsLikelyToBeRead,t._takeawayFeedback=this._takeawayFeedback,t._miniCardTitle=this._miniCardTitle,t._title=this._title,t._details=this._details,t},t.parseExtraProps=function(e){return tr(Pt("takeawayScore is missing")(e.takeawayScore),zt((function(t){return{score:parseFloat(t),isLikelyToBeRead:tr(oe(e.isLikelyToReadTakeaway),le($,(function(e){return"true"===e}))),feedbackState:tr(oe(e.takeawayFeedback),Me((function(e){return e===ly.correctlyDetected?ie(ly.correctlyDetected):e===ly.incorrectlyDetected?ie(ly.incorrectlyDetected):e===ly.correctlyDetectedAndDone?ie(ly.correctlyDetectedAndDone):vr(e)})))}})))},t.calculateHashCode=function(e){return Ig(e.id+"-"+it(iy).show(e.takeawayFeedback)+"-"+e.takeawayIsLikelyToBeRead+"-"+e.title+"-"+e.miniCardTitle+"-"+e.explanation+"-"+e.details)},t}(Ty),Py=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o._raw=t,o._ops=n,o._positionManager=r,o._alternativeManager=i,o.alertType=Sy.Type.ShortenIt,tr(o.extraProperties.shortenIt,ko((function(e){o._sentenceCount=e.sentenceCount,o._summariesRequestState=vy.SummariesRequestState.idle}))),o._todoAction=t.todo,o}return Yn(t,e),Object.defineProperty(t.prototype,"todoAction",{get:function(){return this._todoAction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sentenceCount",{get:function(){return this._sentenceCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summariesRequestState",{get:function(){return this._summariesRequestState},enumerable:!1,configurable:!0}),t.prototype.setSummariesRequestState=function(e){return this.bumpVersion(),this._summariesRequestState=e,this},t.prototype.enqueueRawAlertForUpdate=function(n){var r=this;e.prototype.enqueueRawAlertForUpdate.call(this,n),this._todoAction=n.todo,this._summariesRequestState===vy.SummariesRequestState.requested&&Ic.withTransformJson(n)&&(this._summariesRequestState=vy.SummariesRequestState.idle),tr(t.parseExtraProps(n.extra_properties),Dt((function(e){throw new Error("Cannot update ShortenIt alert: "+e)}),(function(e){r._sentenceCount=e.sentenceCount})))},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._sentenceCount=this._sentenceCount,t._todoAction=this._todoAction,t},t.parseExtraProps=function(e){return tr(e.shorten_it,Mt((function(e){return"true"===e}),G("not a ShortenIt alert")),Ut((function(){return tr((t=e.sentence_count||"",tr(parseInt(t,10),Mt(isFinite,G(new Error('Could not parse integer (got "'+t+'")'))))),Bt(G("invalid sentence_count: got "+e.sentence_count),(function(e){return{sentenceCount:e}})));var t})))},t.calculateHashCode=function(e){return Ig(e.id+"-"+e.patternName+"-"+e.sentenceCount+"-"+e.summariesRequestState)},t}(Ty),Ly=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o._raw=t,o._ops=n,o._positionManager=r,o._alternativeManager=i,o.alertType=Sy.Type.ToneAI,tr(o.extraProperties.toneAI,ko((function(e){o._toneAlternatives=e.toneAlternatives,o._selectedToneAlternativeIdx=e.toneAlternatives.length-1}))),o}return Yn(t,e),Object.defineProperty(t.prototype,"toneAlternatives",{get:function(){return this._toneAlternatives},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedToneAlternativeIdx",{get:function(){return this._selectedToneAlternativeIdx},enumerable:!1,configurable:!0}),t.prototype.setSelectedToneAlternativeIdx=function(e){return this.bumpVersion(),this._selectedToneAlternativeIdx=e,this},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._toneAlternatives=this._toneAlternatives,t._selectedToneAlternativeIdx=this._selectedToneAlternativeIdx,t},t.parseExtraProps=function(e){return tr(e,ae((function(e){return Boolean(e.tone_slider)})),Me((function(e){return ce(Oi((function(){return JSON.parse(e.tone_slider)})))})),Me((function(e){return ce(yy.ToneSlider.decode(e))})),Re((function(e){return e.map((function(e){return{emojiID:e.emoji_id,name:e.name}}))})),Ye((function(e){return 2===e.length})),Re((function(e){return{toneAlternatives:e}})))},t.calculateHashCode=function(e){return t={id:e.id,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx},Ig(Object.keys(t).sort().map((function(e){return e+":"+JSON.stringify(t[e])})).join(""));var t},t}(Ty),My=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o._raw=t,o._ops=n,o._positionManager=r,o._alternativeManager=i,o.alertType=Sy.Type.SmartPhrases,o.replacements=o._raw.replacements,tr(o.extraProperties.smartPhrases,ko((function(e){var t,n,r,i,a,s,u,c,l,f;o._intent=e.intent,o._emoji=e.emoji,o._showPhrasesTitle=e.showPhrasesTitle,o._phraseAddedTitle=e.phraseAddedTitle,o._pageSize=e.pageSize,o._intentDetectedFeedback=null!==(n=null===(t=e.alertState)||void 0===t?void 0:t.intentDetectedFeedback)&&void 0!==n?n:null,o._replacementsLength=null!==(i=null===(r=e.alertState)||void 0===r?void 0:r.replacementsLength)&&void 0!==i?i:o._raw.replacements.length,o._initReplacementsIndexes(),o._usedReplacementsIndexes=null!==(s=null===(a=e.alertState)||void 0===a?void 0:a.usedReplacementsIndexes)&&void 0!==s?s:[],o._hideReplacements=null!==(c=null===(u=e.alertState)||void 0===u?void 0:u.hideReplacements)&&void 0!==c&&c,o._originalReplacementsIndexes=null!==(f=null===(l=e.alertState)||void 0===l?void 0:l.originalReplacementsIndexes)&&void 0!==f?f:o._raw.replacements.reduce((function(e,t,n){return e.set(n,n)}),new Map)}))),o}return Yn(t,e),t.calculateHashCode=function(e){return Ig(e.id+"-["+e.replacementsLength+","+e.replacementsStartIndex+","+e.replacementsEndIndex+"]-"+e.intentDetectedFeedback+"-"+(e.hideReplacements?"hidden":"visible"))},Object.defineProperty(t.prototype,"intent",{get:function(){return this._intent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emoji",{get:function(){return this._emoji},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPhrasesTitle",{get:function(){return this._showPhrasesTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"phraseAddedTitle",{get:function(){return this._phraseAddedTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intentDetectedFeedback",{get:function(){return this._intentDetectedFeedback},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replacementsStartIndex",{get:function(){return this._replacementsStartIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replacementsEndIndex",{get:function(){return this._replacementsEndIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replacementsLength",{get:function(){return this._replacementsLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usedReplacementsIndexes",{get:function(){return this._usedReplacementsIndexes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideReplacements",{get:function(){return this._hideReplacements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalReplacementsIndexes",{get:function(){return this._originalReplacementsIndexes},enumerable:!1,configurable:!0}),t.prototype.getAlertState=function(){return{intentDetectedFeedback:this._intentDetectedFeedback,replacementsStartIndex:this._replacementsStartIndex,replacementsEndIndex:this._replacementsEndIndex,replacementsLength:this._replacementsLength,usedReplacementsIndexes:this._usedReplacementsIndexes,hideReplacements:this._hideReplacements,originalReplacementsIndexes:this._originalReplacementsIndexes}},t.prototype.setFeedback=function(e){return this.bumpVersion(),this._intentDetectedFeedback=e,this},t.prototype.rotateReplacements=function(){if(this.bumpVersion(),this._hideReplacements)this._initReplacementsIndexes(),this._updateHighlightRange(this._originalHighlightRange);else{var e=this._replacementsStartIndex+this._pageSize;e>=this._replacementsLength&&(e=0);var t=e+this._pageSize;t>=this._replacementsLength&&(t=this._replacementsLength),this._replacementsStartIndex=e,this._replacementsEndIndex=t}return this._hideReplacements=!1,this},t.prototype.discardReplacement=function(e){this.bumpVersion();for(var t=this._originalReplacementsIndexes.get(e)||e,n=this._usedReplacementsIndexes.concat([t]),r=this._replacementsLength-1,i=this._originalReplacementsIndexes,o=e;o<r;o++){var a=i.get(o+1);a&&(i=i.set(o,a))}return this._originalHighlightRange=this.getHighlightRanges()[0],this._updateHighlightRange({start:0,end:0,meta:{btype:Wv.Meta.Behavior.HIGHLIGHT_UPDATABLE,vtype:Wv.Meta.View.MAIN}}),this._usedReplacementsIndexes=n,this._replacementsLength=r,this._replacementsEndIndex=this._replacementsEndIndex-1,this._originalReplacementsIndexes=i,this._hideReplacements=!0,this},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._intent=this._intent,t._emoji=this._emoji,t._showPhrasesTitle=this._showPhrasesTitle,t._phraseAddedTitle=this._phraseAddedTitle,t._intentDetectedFeedback=this._intentDetectedFeedback,t._replacementsStartIndex=this._replacementsStartIndex,t._replacementsEndIndex=this._replacementsEndIndex,t._replacementsLength=this._replacementsLength,t._usedReplacementsIndexes=this._usedReplacementsIndexes,t._hideReplacements=this._hideReplacements,t._originalReplacementsIndexes=this._originalReplacementsIndexes,t._pageSize=this._pageSize,t._originalHighlightRange=this._originalHighlightRange,t},t.prototype.hashCode=function(){return 31*e.prototype.hashCode.call(this)+t.calculateHashCode({id:this.id,replacementsLength:this._replacementsLength,replacementsStartIndex:this._replacementsStartIndex,replacementsEndIndex:this._replacementsEndIndex,hideReplacements:this._hideReplacements,intentDetectedFeedback:this._intentDetectedFeedback})},t.prototype._updateHighlightRange=function(e){var t=this;tr(this._replaceEither,zt((function(n){t._alertRangeManager.enqueueRanges([],[e],[]),tr(t._pendingAlertAlternativeManager,Re((function(e){return e.dispose()}))),t._pendingAlertAlternativeManager=tr(n,Re((function(e){return by.register(t._alternativeManager,t.id,t._raw.rev,e.alternatives)})))})))},t.prototype._initReplacementsIndexes=function(){this._replacementsStartIndex=0,this._replacementsEndIndex=this._replacementsLength<=this._pageSize?this._replacementsLength:this._pageSize},t}(Ty),Dy=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o._raw=t,o._ops=n,o._positionManager=r,o._alternativeManager=i,o.alertType=Sy.Type.SentenceLevelBrandTones,tr(o.extraProperties.sentenceLevelBrandTones,ko((function(e){o._label=e.label,o._emotion=e.emotion,o._description=e.description,o._emoji=e.emoji,o._companyLogoUrl=e.companyLogoUrl,o._feedback=e.feedback}))),o}return Yn(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emotion",{get:function(){return this._emotion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emoji",{get:function(){return this._emoji},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"companyLogoUrl",{get:function(){return this._companyLogoUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"feedback",{get:function(){return this._feedback},enumerable:!1,configurable:!0}),t.prototype.setFeedback=function(e){return this.bumpVersion(),this._feedback=ie(e),this},t.calculateHashCode=function(e){var t=it(iy).show(e.companyLogoUrl),n=it(iy).show(e.feedback);return Ig(e.id+"-["+e.label+","+e.emotion+","+e.description+","+t+","+n+"]")},t.prototype.copy=function(){var t=e.prototype.copy.call(this);return t._label=this._label,t._emotion=this._emotion,t._description=this._description,t._emoji=this._emoji,t._companyLogoUrl=this._companyLogoUrl,t._feedback=this._feedback,t},t.prototype.hashCode=function(){return 31*e.prototype.hashCode.call(this)+t.calculateHashCode({id:this.id,label:this._label,emotion:this._emotion,description:this._description,companyLogoUrl:this._companyLogoUrl,feedback:this._feedback})},t}(Ty);!function(e){!function(e){e.Default="default",e.Plagiarism="plagiarism",e.Super="super",e.Premium="premium",e.SmartPhrases="smartPhrases",e.Takeaway="takeaway",e.SentenceLevelBrandTones="sentenceLevelBrandTones",e.Synfony="synfony",e.ShortenIt="shortenIt",e.ToneAI="toneAI"}(e.Type||(e.Type={})),e.fromAlertModel=function(e){return e.alert},e.getReplacementText=function(e,t){return function(){return Oi((function(){var n=e._raw.replacements[t];return mr(void 0!==n,"Unknown alternativeIndex",(function(){return"alternativeIndex("+t+") "+e.toString()})),n}))}},e.getApplicableAlternative=function(e,t){return function(){return Oi((function(){mr(tr(e.getReplaceEither(),function(e){return function(t){return!Ot(t)&&e(t.right)}}(te)),"Alert doesn't have any deltas to be applied",e.toString());var n=tr(e.getReplaceEither(),Ii,So)[t].alternative;return mr(void 0!==n,"Unknown alternativeIndex",(function(){return"alternativeIndex("+t+") "+e.toString()})),{alternative:o(e,n),alternativeIndex:t}}))}};var t,n,r,i,o=function(e,t){return l(e)?yc.fillGaps(t,e.gapValue):t};function a(t){return e.State.isBulkApplied(t.state)}function s(t){return t.state.type===e.State.Type.REGISTERED}function u(t){return t.state.type===e.State.Type.REMOVED}function c(t){return u(t)&&t.state.reason===e.State.Removed.Reason.duplicated}function l(e){return cy.isOneGap(e.extraProperties.cardType)}function f(e){return e.lensId===ay.SpecialId.Premium}function d(t){return t.alertType===e.Type.Default||t.alertType===e.Type.Super||t.alertType===e.Type.SmartPhrases||t.alertType===e.Type.Takeaway||t.alertType===e.Type.SentenceLevelBrandTones||t.alertType===e.Type.Synfony||t.alertType===e.Type.ShortenIt||t.alertType===e.Type.ToneAI}t=e.Transition||(e.Transition={}),(n=t.State||(t.State={}))[n.Pending=0]="Pending",n[n.Dispose=1]="Dispose",function(e){e.IDLE="idle",e.CHECKING="checking"}(r=e.CheckingState||(e.CheckingState={})),function(t){var n,i,o,a,s,u;function c(t){return e.State.Type.REGISTERED===t.type}!function(e){e.REGISTERED="REGISTERED",e.BEING_APPLIED="BEING_APPLIED",e.APPLIED="APPLIED",e.REMOVED="REMOVED"}(n=t.Type||(t.Type={})),t.isIdle=function(t){return t.type===e.State.Type.REGISTERED&&t.checkingState===r.IDLE},function(e){e.create=function(e){return{type:n.REGISTERED,checkingState:e}}}(i=t.Registered||(t.Registered={})),(o=t.Applied||(t.Applied={})).create=function(e,t,r,i){return{type:n.APPLIED,from:i,undoable:e,source:t,method:r}},o.fromBeingApplied=function(e,t){return Qn(Qn({},e),{type:n.APPLIED,undoable:t})},o.createBeingApplied=function(e,t,r){return{type:n.BEING_APPLIED,from:r,source:e,method:t}},(a=o.Method||(o.Method={})).ByCard="ByCard",a.Bulk="Bulk",s=t.Removed||(t.Removed={}),(u=s.Reason||(s.Reason={})).textChange="textChange",u.capiDone="capiDone",u.capiDismiss="capiDismiss",u.duplicated="duplicated",u.canceled="canceled",u.bulkAcceptUserResponse="bulkAcceptUserResponse",s.create=function(e){return{type:n.REMOVED,reason:e}},t.init=i.create(r.IDLE),t.isBulkApplied=function(t){return e.State.Type.APPLIED===t.type&&t.method===e.State.Applied.Method.Bulk},t.isRegistered=c,t.isRemoved=function(t){return e.State.Type.REMOVED===t.type},t.isBeingApplied=function(t){return e.State.Type.BEING_APPLIED===t.type},t.getCheckingState=function(e){return c(e)?e.checkingState:r.IDLE}}(e.State||(e.State={})),(i=e.MuteStateType||(e.MuteStateType={})).Muted="Muted",i.Unmuted="Unmuted",function(t){t.fromMutedByType=function(t){return t===wc.MutedByType.MUTED_BY_USER?e.MuteStateType.Muted:e.MuteStateType.Unmuted}}(e.MuteStateType||(e.MuteStateType={})),e.hasNestedHighlights=function(e){var t=e.getHighlightRanges();if(t.length<2)return!1;if(t.some(Wv.isEnclosingView))return!0;var n=Si(Wv.isMainView)(t),r=n.left,i=n.right;return 0!==r.length&&i.some((function(e){return r.some((function(t){return zv.contains(t,e)}))}))},e.hasEnclosingHighlight=function(e){return e.getHighlightRanges().some(Wv.isEnclosingView)},e.isApplied=function(t){return t.state.type===e.State.Type.APPLIED},e.isBeingApplied=function(t){return t.state.type===e.State.Type.BEING_APPLIED},e.isBeingAppliedinBulk=function(t){return t.state.type===e.State.Type.BEING_APPLIED&&t.state.method===e.State.Applied.Method.Bulk},e.isInteractable=function(e){return s(e)||a(e)},e.isBulkApplied=a,e.isAccepted=function(t){return e.isApplied(t)&&t.state.undoable.action===Ac.ACCEPTED},e.isRegistered=s,e.isNotRegistered=function(t){return t.state.type!==e.State.Type.REGISTERED},e.isRemoved=u,e.isNotRemoved=function(t){return t.state.type!==e.State.Type.REMOVED},e.isCapiDone=function(t){return u(t)&&t.state.reason===e.State.Removed.Reason.capiDone},e.isDuplicated=function(e){return c(e)},e.isInDuplicatedState=c,e.isCritical=function(e){return e.lensType===ay.Type.Critical||e.lensType===ay.Type.Correctness},e.isCriticalImpact=function(e){return e._raw.impact===Ic.Impact.Critical},e.isHidden=function(e){return e._raw.hidden},e.getRawId=function(e){return e.rawId},e.isPlagiarism=function(e){return e.lensId===ay.SpecialId.Plagiarism},e.isVox=function(e){return d(e)&&te(e.extraProperties.vox)},e.isSmartPhrases=function(t){return t.alertType===e.Type.SmartPhrases},e.isTakeaway=function(t){return t.alertType===e.Type.Takeaway},e.isShortenIt=function(t){return t.alertType===e.Type.ShortenIt},e.isToneAI=function(t){return t.alertType===e.Type.ToneAI},e.isOneGap=l,e.isRated=function(e){return on(Ng.ord)(e.progress,Ng.MIN)},e.isPremium=function(e){return f(e)},e.isPriority=function(e){return e.view===Ic.View.priority},e.isInPremiumLens=f,e.isApplicableAlert=d,e.isRegisteredApplicableAlert=function(e){return s(e)&&d(e)},e.isSuperAlert=function(t){return t.alertType===e.Type.Super},e.isSentenceLevelBrandTones=function(t){return t.alertType===e.Type.SentenceLevelBrandTones},e.isCacheable=function(t){return e.isRegistered(t)&&!e.isPlagiarism(t)&&!e.isRated(t)&&!e.isSuperAlert(t)},e.belongsToAllAlerts=function(e){return e.belongsToAllAlerts},e.belongsToPriorityLens=function(t){return e.belongsToAllAlerts(t)&&e.isPriority(t)},e.belongsToPredictionTakeaways=function(t){return e.belongsToAllAlerts(t)&&tr(oe(t.prediction),De,St((function(e){return"takeaways"===e})))},e.belongsToPredictionEmogenie=function(t){return e.belongsToAllAlerts(t)&&tr(oe(t.prediction),De,St((function(e){return"emogenie"===e})))},e.belongsToAnySpecialCategory=function(e){return Ic.belongsToAnySpecialCategory(e._raw)},e.belongsToSpecialCategory=function(e){return Ic.belongsToSpecialCategory(e._raw)},e.getCheckingState=function(t){return e.State.getCheckingState(t.state)},e.inUse=function(e){return e.references>0},e.isMuted=function(t){return!e.isPlagiarism(t)&&t.mute===e.MuteStateType.Muted},e.isBulkAcceptable=function(t){return e.isRegistered(t)&&t.extraProperties.bulkAcceptable&&t.alertType===e.Type.Default},e.hasDrilldownTree=function(e){return d(e)&&te(e.extraProperties.drilldownTree)},e.shouldBeRemoved=function(t){return!e.inUse(t)&&e.isNotRegistered(t)};var h=1;function p(e){return Math.trunc(Math.random()*e)}var g=0;e.generate=function(e,t,n,r,i){g+=30;var o=n&&"number"==typeof n.start?n.start:g,a=n&&"number"==typeof n.end?n.end:o+1,s=r?r.start:o,u=r?r.end:a,c=function(e,t){var n=Ic.Id.create("alert#"+String(h++)),r=t&&t.cardLayout||xc.mock,i=e===ay.SpecialId.Plagiarism?{category:"Originality"}:ay.isMainOutcomeId(e)?{outcome:ay.OutcomeId.toRawOutcome(e)}:{},o=!!ay.isPremiumId(e)||t&&t.hidden;return Qn(Qn(Qn({},Ic.mock),{id:n,cardLayout:Qn(Qn({},r),i),hidden:o}),t)}(e,t),l={begin:s,end:u,highlightBegin:o,highlightEnd:a,transformJson:i?tr(i,de):Tc.create({highlights:[{s:o,e:a}],alternatives:re})};return Object.assign(c,l),c},e.generateWithSubAlerts=function(e,t){var n=e?Tc.create({highlights:e.map((function(e){return{s:e.start,e:e.end}})),alternatives:tr(Hn(e),Re(Gn((function(e){return{s:e.start,e:e.end}}))),Re((function(e){return yc.Group.fromSubalerts(e,[gc.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 1_1",attributes:{type:gc.Edit.Type.MAIN}}]}),gc.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 2_1",attributes:{type:gc.Edit.Type.MAIN}}]})])})))}):Ic.mockWithSubalerts.subalerts,r=e?e.map((function(e,t){return"Highlight_"+t})):Ic.mockWithSubalerts.highlightText;return Qn(Qn(Qn({},Ic.mockWithSubalerts),{labels:Ic.mockWithSubalerts.labels,highlightText:r,subalerts:n}),t)};var m=1;e.generatePlagiarism=function(e,t,n){var r=n&&n.start||p(g+=1),i=Qn(Qn({},Ic.mockPlagiarism),t),o=n&&n.end||r+1+p(20),a={id:Ic.Id.create("plagiarismAlert#"+String(m++)),begin:r,end:o,highlightBegin:r,highlightEnd:o,highlightText:[e],transformJson:Tc.create({highlights:[{s:r,e:o}],alternatives:re})};return Object.assign(i,a),i},e.isPlagiarismSourceEqual=function(e,t){return e.title===t.title&&function(e,t){return e.source===t.source&&("web"===e.source&&tr(Eo((function(e,t){return e===t}))(e.url,t.url),St(U))||"publication"===e.source&&tr(Eo((function(e,t){return e===t}))(e.authors,t.authors),St(U)))}(e.plagiarismType,t.plagiarismType)},e.create=function(e,t,n,r){return Ic.isHidden(e)?new Cy(e,t,n,r):Ic.isPlagiarism(e)?new ky(e,t,n,r):Ic.isOneGap(e)?new Ay(e,t,n,r):Ic.withSubalerts(e)?new Ny(e,t,n,r):Ic.isSmartPhrases(e)?new My(e,t,n,r):Ic.isTakeaway(e)?new Ry(e,t,n,r):Ic.isSentenceLevelBrandTones(e)?new Dy(e,t,n,r):Ic.hasDrilldownTree(e)?new Oy(e,t,n,r):Ic.isShortenIt(e)?new Py(e,t,n,r):Ic.isToneAI(e)?new Ly(e,t,n,r):new Iy(e,t,n,r)},e.CRITICAL_GROUPS=new Set(["Spelling","Grammar","Punctuation","Fluency","Conventions"]),e.isCriticalGroup=function(t){return e.CRITICAL_GROUPS.has(t)},e.highlightsCollapsed=function(e){return e.getHighlightRanges().every(zv.isEmpty)},e.isDuplicateCandidate=function(t){return t.isValid&&!t.allowDuplicates&&e.isRegistered(t)},e.isDuplicatedBy=function(e,t){if(!t.hasMatchingHighlightsWith(e,zv.ord.equals))return!1;var n=e.toRawAlert(),r=t.toRawAlert();return n.group===r.group&&"Spelling"===n.group||n.category===r.category&&n.point===r.point},e.isNotDisposed=function(e){return!e.disposed}}(Sy||(Sy={}));var Fy=Ic.matchBy((function(e){return zv.create(e.begin,e.end,{btype:Wv.Meta.Behavior.REPLACE})}),(function(){return zv.empty}),(function(){return zv.empty}));function zy(e,t){return t.highlights.map((function(t){return zv.create(t.s,t.e,{vtype:"focus"===t.type?Wv.Meta.View.FOCUS:"enclosing"===t.type?Wv.Meta.View.ENCLOSING:Wv.Meta.View.MAIN,btype:e})}))}function By(e){var t=e.updatable?Wv.Meta.Behavior.HIGHLIGHT_UPDATABLE:Wv.Meta.Behavior.HIGHLIGHT;return Ic.match(e,(function(e){return[zv.create(e.highlightBegin,e.highlightEnd,{vtype:Wv.Meta.View.MAIN,btype:t})]}),(function(e){return zy(t,e.transformJson)}),(function(e){return zy(t,e.subalerts)}))}var jy=Re((function(e){return tr(e.context,Gn((function(e){return zv.create(e.s,e.e,{btype:Wv.Meta.Behavior.CONTEXT})})))}));function Hy(e){return Ic.match(e,(function(){return re}),(function(e){return jy(e.transformJson.alternatives)}),(function(e){return jy(e.subalerts.alternatives)}))}var Uy,Vy=Ic.matchBy((function(e){return At(Fy(e))}),(function(e){return Rt(e.transformJson.alternatives)}),(function(e){return Rt(e.subalerts.alternatives)}));function Wy(e){return e.replacements.map((function(e){return{label:e,replacementTexts:[e],matches:1}}))}!function(e){e.create=function(e,t){return mr(e.id===t.id,"can not create UpdatedAlertWithOldAlert from alerts with different ids",(function(){return JSON.stringify({olda:ry.show.show(e),newa:ry.show.show(t)})})),mr(e.version<t.version,"old alert should have different revision than new alert",(function(){return JSON.stringify({olda:ry.show.show(e),newa:ry.show.show(t)})})),mr(Sy.isNotDisposed(t.alert),"new alert can not be disposed",(function(){return t.alert.toString()})),[e,t]},e.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{show:function(t){return"["+t.map((function(t,n){return e[n].show(t)})).join(", ")+"]"}}}(ry.show,ry.show)}(Uy||(Uy={}));var Gy,qy,$y,Ky,Yy,Qy,Jy,Zy,Xy,e_,t_,n_,r_,i_=function(e,t){var n,r=new br(50);return(n={},n[e.name]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=t?t.apply(this,n):n[0],a=r.get(o);if(!a){var s=e.apply(this,n);return r.put(o,s),s}return a},n)[e.name]}(Kr.Logging.getLogger);function o_(e,t){var n=t.text;t.ops.reduce((function(t,n,r){return mc.isInsertString(n)?(e.insertString(n.insert,n,r),t):mc.isInsertGap(n)?(e.insertGap("",n,r),t):mc.isInsert(n)?t:mc.isDelete(n)?(e.remove(t.slice(0,n.delete),n,r),t.slice(n.delete)):mc.isRetain(n)?(e.retain(t.slice(0,n.retain),n,r),t.slice(n.retain)):vr(n)}),n)}function a_(e){return 0===e.replace(/ /g,"").length}function s_(e,t){tr(e,di,le((function(){a_(t.text)||e.push(t)}),(function(n){n.type===t.type?n.text+=t.text:e.push(t)})))}function u_(e,t){return tr(Oi((function(){return tr(e,Gn((function(n){var r=[];return o_({insertString:function(t,n){if(n.type===mc.Type.Main)throw new x_("Remove transform contains main insert",e)},insertGap:function(){throw new x_("Remove transform contains gap insert",e)},retain:function(e,t){var n=t.type;mc.isOptionalType(n)||s_(r,{type:Gy.Text,text:e})},remove:function(e,n){var i=n.type;s_(r,{type:i!==mc.Type.Main||a_(e)&&t?Gy.Text:Gy.Delete,text:e})}},n),r})),fi)})),Ut(Q(Mt((function(e){return e.length>0}),(function(){return new x_("Remove transform contains no data",e)})),zt((function(e){return{type:r_.Type.Remove,remove:e}})))))}function c_(e,t){return tr(Oi((function(){return tr(e,Gn((function(n){var r=[];return o_({insertString:function(t,n){if(n.type===mc.Type.Main)throw new x_("Multi-remove transform contains main insert",e)},insertGap:function(){throw new x_("Multi-remove transform contains gap insert",e)},retain:function(e,t){var n=t.type;mc.isOptionalType(n)||s_(r,{type:Gy.Text,text:e})},remove:function(e,n){var i=n.type;s_(r,{type:i!==mc.Type.Main||a_(e)&&t?Gy.Text:Gy.Delete,text:e})}},n),r})))})),Ut(Q(Mt((function(e){return e.length>=2&&e.every((function(e){return e.length>=2}))}),(function(){return new x_("Incomplete multi-remove",e)})),zt((function(e){return{type:r_.Type.RemoveOr,removes:e}})))))}function l_(e){return tr(Oi((function(){return tr(e,Gn((function(t){var n=[];return o_({insertString:function(e,t){var r=t.type;s_(n,{type:mc.isOptionalType(r)?Gy.Text:Gy.Insert,text:e})},insertGap:function(){throw new x_("Insert transform contains gap insert",e)},retain:function(e,t){var r=t.type;(!mc.isOptionalType(r)||n.length>0)&&s_(n,{type:Gy.Text,text:e})},remove:function(t,n){if(n.type===mc.Type.Main)throw new x_("Insert transform contains main delete",e)}},t),n})))})),Ut(Q(Hn,Lt((function(){return new x_("Incomplete insert",e)})),zt((function(e){return{type:r_.Type.Insert,inserts:e}})))))}function f_(e){var t=e.reduce((function(e,t){var n=t[0],r=t[1],i=n.map((function(e){return e.text})).join("");return e.substitutions.push(i),e.inserts.push(r),i.length>e.longestSubstitution.length&&(e.longestSubstitution=i),e}),{substitutions:[],inserts:[],longestSubstitution:""}),n=t.substitutions,r=t.longestSubstitution,i=t.inserts,o=tr(n,Gn((function(e){return r.split(e).join("")})));return tr(mi(i,o,(function(e,t){return t&&e.push({type:Gy.Text,text:t}),e})),Hn,Lt((function(){return new Error("Substitution processing error")})),zt((function(e){return{type:r_.Type.Substitution,remove:[{type:Gy.Delete,text:r}],inserts:e}})))}function d_(e,t){return tr(h_(e),Ut((function(n){return tr(Oi((function(){return mr(t.length>0,"Drilldown transform - empty drilldown tree"),{inserts:tr(t,Gn((function e(t){var r=t[0],i=t[1];return mr(void 0!==n.inserts[r],"Drilldown transform - alternative insert not found"),{alternativeId:r,label:n.inserts[r],subLabels:i.map(e)}}))),remove:n.remove,type:r_.Type.Drilldown}})),jt(x_.fromError(e)))})))}function h_(e){return tr(Oi((function(){return tr(e,Gn((function(t){var n=[[],[]];return o_({insertString:function(e){s_(n[1],{type:Gy.Insert,text:"\n"===e?"¶ ":e})},insertGap:function(){throw new x_("Substitution transform contains gap insert",e)},remove:function(e){s_(n[0],{type:Gy.Delete,text:e})},retain:function(e,t){var r=t.type;if(!mc.isOptionalType(r)||0!==n[0].length){var i={type:Gy.Text,text:e};n[0].push(i),n[1].push(i)}}},t),mr(n[0].length>0,"Substituted part is empty"),mr(n[1].length>0,"Inserts are empty"),n})))})),Ut(f_),jt(x_.fromError(e)))}function p_(e){if(!("list"in e))return re;switch(e.list){case"bullet":case"dashed":case"ordered":return ie({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return re}}function g_(e){return tr(e,Mt((function(e){return 1===e.length}),(function(){return new x_("Expected full-sentence transform to have 1 alternative",e)})),zt(Q(Un,(function(t){var n={blockStart:0,ops:[],kind:Xy.PlainText};return o_({insertString:function(e,t){var r=e.split("\n");if(1===r.length)n.ops.push({type:Gy.Insert,text:e,shouldBeCollapsed:!1});else for(var i=tr(t.attributes,p_,le((function(){return Y}),(function(e){var t=e.kind,r=e.indent;return function(){n.ops.splice(n.blockStart,1,{type:Gy.List,kind:t,indent:r}),n={kind:Xy.WithFormatting,ops:n.ops,blockStart:n.blockStart}}}))),o=0,a=r.length-1;o<=a;o++){var s=r[o];s&&n.ops.push({type:Gy.Insert,text:s}),o<a&&(i(),n.blockStart=n.ops.length,n.ops.push({type:Gy.Insert,text:"\n"}))}},insertGap:function(){throw new x_("Full sentence transform contains gap insert",e)},retain:function(e,t){n.ops.push({type:Gy.Text,text:e,shouldBeCollapsed:m_(t.type,e)})},remove:function(e,t){n.ops.push({type:Gy.Delete,text:e,shouldBeCollapsed:m_(t.type,e)})}},t),n}))),Ut(Q(ae((function(e){return e.ops.length>0})),Lt((function(){return new x_("Got empty full sentence transform",e)})),zt((function(e){var t=e.ops,n=e.kind;return{type:r_.Type.FullSentence,ops:t,kind:n}})))))}!function(e){e.Delete="delete",e.Insert="insert",e.Text="text",e.List="list",e.Arrow="arrow"}(Gy||(Gy={})),function(e){!function(e){e[e.InsertList=0]="InsertList",e[e.DeleteList=1]="DeleteList",e[e.DeleteOr=2]="DeleteOr",e[e.InsertOr=3]="InsertOr",e[e.Arrow=4]="Arrow",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.Drilldown=7]="Drilldown",e[e.ShortenIt=8]="ShortenIt",e[e.ToneAI=9]="ToneAI"}(e.Type||(e.Type={})),e.eq=Ni((function(e,t){return e.type===t.type&&e.tooltipText===t.tooltipText&&JSON.stringify(e.labels)===JSON.stringify(t.labels)})),e.isFullSentence=function(t){return t.type===e.Type.FullSentence},e.isOneGap=function(t){return t.type===e.Type.OneGap},e.isShortenIt=function(t){return t.type===e.Type.ShortenIt},e.isToneAI=function(t){return t.type===e.Type.ToneAI},e.isRegular=function(t){return W(oi(e.isFullSentence,e.isOneGap,e.isShortenIt,e.isToneAI))(t)}}(qy||(qy={})),function(e){e.create=function(e,t){return{labels:e,tooltipText:t,type:qy.Type.InsertList}}}($y||($y={})),function(e){e.create=function(e,t){return{labels:e,tooltipText:t,type:qy.Type.DeleteList}}}(Ky||(Ky={})),function(e){e.create=function(e,t){return{labels:e,tooltipText:t,type:qy.Type.DeleteOr}}}(Yy||(Yy={})),function(e){e.create=function(e,t,n){return{type:qy.Type.InsertOr,labels:[e,t],tooltipText:n}}}(Qy||(Qy={})),function(e){e.create=function(e,t,n){return{type:qy.Type.Drilldown,original:e,labels:t,tooltipText:n}},e.getSelectedItems=function(e,t){if(!t||0===t.length)return{activeLabels:e.labels,original:e.original};var n=t.slice(1).reduce((function(e,t){return e.subLabels[t]}),e.labels[t[0]]);return{activeLabels:n.subLabels,original:n.label}}}(Jy||(Jy={})),function(e){function t(e,t){return er(e,t).map((function(e){return e.text.length})).reduce(ri,0)>30}e.create=function(e,n,r,i){return{type:qy.Type.Arrow,original:e,labels:n,tooltipText:r,onlyReplacements:i||t(e,n[0])}}}(Zy||(Zy={})),function(e){e.WithFormatting="WithFormatting",e.PlainText="PlainText"}(Xy||(Xy={})),function(e){e.createPlainText=function(e,t){return{type:qy.Type.FullSentence,labels:e,tooltipText:t,kind:Xy.PlainText}},e.createWithFormatting=function(e,t){return{type:qy.Type.FullSentence,labels:e,tooltipText:t,kind:Xy.WithFormatting}}}(e_||(e_={})),function(e){e.create=function(e,t){return{type:qy.Type.OneGap,labels:{left:e.left.map((function(e){return Qn(Qn({},e),{type:Gy.Text})})),right:e.right.map((function(e){return Qn(Qn({},e),{type:Gy.Text})}))},tooltipText:t}}}(t_||(t_={})),function(e){e.ord=dn((function(e){return e.compressionRatio}))(fn(Ng.ord))}(n_||(n_={})),function(e){!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.SmartPhrases=6]="SmartPhrases",e[e.OneGap=7]="OneGap",e[e.ShortenIt=8]="ShortenIt",e[e.ToneAI=9]="ToneAI"}(e.Type||(e.Type={})),function(e){e.parse=function(t,n){var r=t[0];if(r.isFullSentence)return e.FullSentence;if(r.isSmartPhrases)return e.SmartPhrases;if(te(n.drilldown))return e.Drilldown;if(r.isShortenIt)return e.ShortenIt;if(r.isToneAI)return e.ToneAI;switch(r.type){case yc.Type.Insert:return e.Insert;case yc.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case yc.Type.Substitution:return r.ops.find(mc.isInsertGap)?e.OneGap:e.Substitution;default:return vr(r.type)}}}(e.Type||(e.Type={})),e.create=function(t){return function(n){var r=e.Type.parse(n,t);switch(r){case e.Type.Remove:return u_(n,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return c_(n,t.ignoreWhitespaceRemoves);case e.Type.Insert:return l_(n);case e.Type.Substitution:return h_(n);case e.Type.Drilldown:return d_(n,tr(t.drilldown,pe((function(){return _c.empty}))));case e.Type.FullSentence:return g_(n);case e.Type.SmartPhrases:return v_(n);case e.Type.OneGap:return y_(n);case e.Type.ShortenIt:return __(n);case e.Type.ToneAI:return b_(n);default:return vr(r)}}}}(r_||(r_={}));var m_=function(e,t){return e===mc.Type.Optional&&t.length>3};function v_(e){return tr(Oi((function(){return tr(e,Gn((function(t){var n=tc.normalizeDelta(new sc(t.ops));if(2!==n.ops.length)throw new x_("SmartPhrases transform must contain exactly 2 operations",e);if(!tc.isRetain(n.ops[0]))throw new x_("SmartPhrases transform first operation must be a retain",e);if(!tc.isInsertString(n.ops[1]))throw new x_("SmartPhrases transform second operation must be an insert",e);var r=[];return o_({insertString:function(t,n){if(n.type!==mc.Type.Main)throw new x_("SmartPhrases transform insert operation must be of type MAIN",e);s_(r,{type:Gy.Insert,text:t})},insertGap:function(){throw new x_("SmartPhrases transform contains gap insert",e)},retain:function(){},remove:function(){throw new x_("SmartPhrases transform contains delete",e)}},t),r})))})),Ut(Q(Hn,Lt((function(){return new x_("Incomplete SmartPhrases transform",e)})),zt((function(e){return{type:r_.Type.SmartPhrases,inserts:e}})))))}function y_(e){return tr(Oi((function(){return mr(1===e.length,"One gap transform does not contain exactly one alternative"),tr(e,Un,(function(e){var t=[],n=[],r=!1;return o_({insertString:function(e,i){var o=i.type;s_(r?n:t,{type:mc.isOptionalType(o)?Gy.Text:Gy.Insert,text:e})},insertGap:function(){mr(!r,"One gap transform does not contain exactly one gap insert"),r=!0},retain:function(e,i){var o=i.type,a=r?n:t;(!mc.isOptionalType(o)||a.length>0)&&s_(a,{type:Gy.Text,text:e})},remove:Y},e),mr(r,"One gap transform does not contain exactly one gap insert"),mr(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))})),Bt(x_.fromError(e),(function(e){var t=e.left,n=e.right;return{type:r_.Type.OneGap,left:t,right:n}})))}function __(e){return tr(e,Mt((function(e){return 1===e.length||3===e.length}),(function(){return new x_("Expected shorten-it transform to have 1 or 3 alternatives",e)})),Ut($n(Yt)(S_)),zt((function(e){return{type:r_.Type.ShortenIt,summaries:e}})))}function b_(e){return tr(Oi((function(){return tr(e,Gn((function(t){var n=[];return o_({insertString:function(e){s_(n,{type:Gy.Insert,text:e})},insertGap:function(){throw new x_("ToneAI transform should not include gap insert",e)},retain:function(e){s_(n,{type:Gy.Text,text:e})},remove:function(){}},t),n})))})),Ut(Q(Hn,Lt((function(){return new x_("Incomplete ToneAI transform",e)})),zt((function(e){return{type:r_.Type.ToneAI,insertsOrTexts:e}})))))}function w_(e){var t=e.reduce((function(e,t){return t.type===Gy.Text||t.type===Gy.Delete?e+t.text:e}),""),n=e.reduce((function(e,t){return t.type===Gy.Text||t.type===Gy.Insert?e+t.text:e}),""),r=Math.max(t.length-n.length,0);return tr(Ng.fromNumber(r/t.length),jt((function(e){return new Error(e)})))}function S_(e){var t=[];return o_({insertString:function(e){t.push({type:Gy.Insert,text:e,shouldBeCollapsed:!1})},insertGap:function(){throw new x_("ShortenIt transform contains gap insert",[e])},retain:function(e){t.push({type:Gy.Text,text:e,shouldBeCollapsed:!1})},remove:function(e){t.push({type:Gy.Delete,text:e,shouldBeCollapsed:!0})}},e),Ti(Yt)({replacement:tr(t,Mt((function(e){return e.length>0}),(function(){return new x_("Got empty ShortenIt transfrom",[e])}))),compressionRatio:w_(t)})}var x_=function(e){function t(t,n){var r=e.call(this,t)||this;return r.alternatives=n,r}return Yn(t,e),t.fromError=function(e){return function(n){var r=new t(n.message,e);return r.stack=n.stack,r}},t.prototype.toString=function(){return"Hydration error: "+this.message+"\n  ops: "+this.alternatives.map((function(e){return e.ops.map(mc.anonymize)}))},t}(cr),E_={ignoreWhitespaceRemoves:!0};function C_(e,t){return void 0===t&&(t=E_),function(n){return tr(n.alternatives,function(e,t){var n=Q(e,(function(e){return e.delta.reduce((function(e,t){return tc.isInsertString(t)?e+t.insert:e}),"")}));return Q(function(e,t){var n=t.isFullSentence,r=t.isSmartPhrases,i=t.isShortenIt,o=t.isToneAI;return function(t){return tr(t,wi((function(t){return tr(t.type,Re((function(a){if(yc.hasOptionalContext(t.ops)){var s=t.ops,u=s[0],c=s.slice(1),l=mc.length(u);return{text:e(l,t.lengthAffected-l),ops:c,type:a,isFullSentence:n,isSmartPhrases:r,isShortenIt:i,isToneAI:o}}return{text:e(0,t.lengthAffected),ops:t.ops,type:a,isFullSentence:n,isSmartPhrases:r,isShortenIt:i,isToneAI:o}})))})),Hn)}}(n,t),Lt((function(){return new Error("Alternative array is empty")})))}(e,{isFullSentence:cy.isFullSentence(n.cardType),isSmartPhrases:cy.isSmartPhrases(n.cardType),isShortenIt:cy.isShortenIt(n.cardType),isToneAI:cy.isToneAI(n.cardType)}),Ut(r_.create(Qn(Qn({},t),{drilldown:n.drilldown}))))}}var k_=ma((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.animationsLinkV1=t.emojiLinkV1=void 0,t.emojiLinkV1="https://assets.grammarly.com/emoji/v1/",t.animationsLinkV1="https://assets.grammarly.com/animations/v1/"})),T_=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function I_(e){return k_.emojiLinkV1+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}Ff.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]});var O_,N_=function(e){function t(t,n){void 0===n&&(n="empty");var r=e.call(this,"Failed to parse CAPI Alert: "+(t||"(unnamed)"))||this;return r.input=n,r}return Yn(t,e),t.prototype.toString=function(){return this.message+" on input["+this.input+"]"},t}(cr);function A_(e){return JSON.stringify(e,void 0,0)}function R_(e){return e.length<=3?" "===e?av.Part.insertStrong(e):av.Part.insertWeak(e):av.Part.insertText(e)}function P_(e){return e.map((function(e){return e.type===Gy.Text?av.Part.text(e.text):R_(e.text)}))}function L_(e){return e.filter((function(e){return e.type===Gy.Insert||e.type===Gy.Text})).map((function(e){return e.text})).join("")}function M_(e){return 1===e.length?" "===e?av.Part.removeStrong(e):av.Part.removeWeak(e):av.Part.substitution(e)}function D_(e){return e.map((function(e){return e.type===Gy.Text?av.Part.text(e.text):M_(e.text)}))}function F_(e){return/[a-z]/i.test(e)}function z_(e,t){return e.type===t.type?[Qn(Qn({},e),{text:e.text+t.text})]:e.type===Gy.Delete&&t.type===Gy.Insert&&F_(e.text.slice(-1))&&F_(t.text.slice(0,1))?[e,Qn(Qn({},t),{text:" "+t.text})]:[e,t]}function B_(e){var t=function(e){return{concat:(t=e,{concat:function(e,n){return Ot(e)?e:Ot(n)?n:Rt(t.concat(e.right,n.right))}}).concat,empty:Rt(e.empty)};var t}(ci());return tr(function(){switch(e.kind){case Xy.WithFormatting:return At(new N_("Full sentence alerts with formatting are not supported"));case Xy.PlainText:return tr(e.ops,(n=z_,function(e){if(e.length<2)return e;for(var t=[],r=0;r<e.length;r++)0===t.length?t.push(e[r]):t.push.apply(t,n(t.pop(),e[r]));return t}),yi((function(e){switch(e.type){case Gy.Delete:return Rt([M_(e.text)]);case Gy.Insert:return Rt([R_(e.text)]);case Gy.Text:return Rt([av.Part.text(e.text)]);default:return At(new N_("Unsupported full sentence transform part type: ",e.type))}})),Hi(t));default:return At(new N_("Unknown full sentence transform kind: ",e.kind))}var n}(),zt((function(e){return[{left:[av.create.apply(av,e)],right:[]}]})))}function j_(e,t){if(cy.isSimple(e.cardType))return Rt([]);switch(t.type){case r_.Type.Insert:return Rt(function(e){return 1===e.inserts.length?[{left:[av.create.apply(av,P_(e.inserts[0]))],right:[]}]:2===e.inserts.length?[{left:[uv.create({label:L_(e.inserts[0]),preview:av.create.apply(av,P_(e.inserts[0]))},ov.create(ov.Size.regular,ov.Part.create("or",ov.Part.Style.normal)),{label:L_(e.inserts[1]),preview:av.create.apply(av,P_(e.inserts[1]))})],right:[]}]:[{left:[sv.create(e.inserts.map((function(e){return{label:L_(e),preview:av.create.apply(av,P_(e))}})))],right:[]}]}(t));case r_.Type.Remove:return Rt(function(e){return[{left:[av.create.apply(av,D_(e.remove))],right:[]}]}(t));case r_.Type.Substitution:return Rt(function(e){return 1===e.inserts.length?[{left:[av.create.apply(av,er(D_(e.remove),[av.Part.text(" "),av.Part.insertText(e.inserts[0].map((function(e){return e.text})).join(""))]))],right:[]}]:[{left:[sv.create(e.inserts.map((function(t){return{label:L_(t),preview:av.create.apply(av,er(D_(e.remove),[av.Part.text(" "),av.Part.insertText(t.map((function(e){return e.text})).join(""))]))}})))],right:[]}]}(t));case r_.Type.FullSentence:return B_(t);default:return At(new N_("Transform type is not supported: "+t.type))}}function H_(e,t){if(te(t.vox)){var n=So(t.vox);return er(tr(n.logoUrl,Re((function(e){return[fv.create(fv.Source.createUrl(e,n.companyName))]})),pe((function(){return[]}))),[ov.create(ov.Size.small,ov.Part.create(n.companyName+" style guide",ov.Part.Style.normal))])}if(te(t.tone)){var r=t.tone.value.emoji;return[fv.create(fv.Source.createUrl(I_(r),r)),ov.create(ov.Size.small,ov.Part.create(e.minicardTitle.replace(T_,""),ov.Part.Style.normal))]}return[ov.create(ov.Size.small,ov.Part.create(e.minicardTitle,ov.Part.Style.normal))]}function U_(e,t){return cy.isSimple(t.cardType)?e.todo:tr(e.transformJson.alternatives,le((function(){return"Got it"}),(function(e){return"Accept"})))}function V_(e){for(var t,n=(new DOMParser).parseFromString(e,"text/html").getElementsByTagName("p")[0],r=Array.from(null!==(t=null==n?void 0:n.childNodes)&&void 0!==t?t:[]),i=[],o=null==n?void 0:n.nextSibling;o;)i.push(o),o=o.nextSibling;return er(r,i).map((function(e){var t;return"UL"===e.nodeName?{style:ov.Part.Style.normal,text:" "+Array.from(e.childNodes).map((function(e){return e.textContent})).join(", ")}:{style:W_(e.nodeName),text:"BR"===e.nodeName?" ":null!==(t=e.textContent)&&void 0!==t?t:""}}))}function W_(e){switch(e){case"I":return ov.Part.Style.italic;case"B":return ov.Part.Style.bold;default:return ov.Part.Style.normal}}function G_(e,t){var n=C_(Q(t,rc.resFromText),{ignoreWhitespaceRemoves:!1}),r=dy.fromCapiExtraProperties(e.extra_properties);return tr(Ic.match(e,(function(e){return At(new N_("Legacy alerts with positions are not supported",A_(e)))}),Rt,(function(){return At(new cr("Alerts with subalerts are not supported"))})),Ut((function(e){return tr(e.transformJson.alternatives,Re((function(e){return{cardType:r.cardType,drilldown:r.drilldownTree,alternatives:Gn(U)(e.alternatives)}})),Re(Q(n,jt((function(t){return new N_(t.message,A_(e))})))),Re(Ut((function(e){return j_(r,e)}))),le((function(){return Rt([e,re])}),zt((function(t){return[e,ie(t)]}))))})),zt((function(e){var t=e[0],n=e[1];return er([{left:H_(t,r),right:[lv.create(fv.Source.createKnown("close"),cv.Action.close)]}],tr(n,pe((function(){return[]}))),function(e,t){return cy.isFullSentence(t.cardType)?[]:[{left:[ov.create.apply(ov,er([ov.Size.regular],V_(e.explanation)))],right:[]}]}(t,r),[{left:[],right:[]},{left:[cv.create(U_(t,r),cv.Action.accept,"primary"),cv.create("Dismiss",cv.Action.dismiss,"secondary")],right:[]}])})))}!function(e){var t,n;e.toJSON=function(e){return Qn(Qn({},e),{isNew:e.isNew._value})},function(e){e.cozy="cozy",e.compact="compact",e.minimal="minimal"}(t=e.Density||(e.Density={})),e.defaultOptions={features:new Set,layoutDensity:t.cozy,isNew:Fp(re)},function(e){function t(t,n,r){return function(i){switch(i){case e.cozy:return t();case e.compact:return n();case e.minimal:return r();default:return vr(i)}}}e.match=function(e,n,r){return t(fa(e),fa(n),fa(r))},e.matchL=t,e.matchOrDefault=function(e){return function(t,n){return function(r){return r===e?t():n()}}}}(t=e.Density||(e.Density={})),(n=e.Features||(e.Features={})).showLabel="showLabel",n.enableMuteQuotedAdvice="enableMuteQuotedAdvice",n.showAnonymousUserFooters="showAnonymousUserFooters",n.showPremiumTrialFooters="showPremiumTrialFooters",n.showPersistentPremiumCardLabels="showPersistentPremiumCardLabels",n.showNewPremiumCardLabels="showNewPremiumCardLabels",n.showPremiumOnboarding="showPremiumOnboarding"}(O_||(O_={}));var q_={position:"relative",borderRadius:Ff.rem(.5),background:Bl.CoreNeutral0,boxShadow:"0 "+Ff.rem(.625)+" "+Ff.rem(3.5)+" 0 rgba(198, 203, 222, .45)"},$_={$nest:{"&:before":{position:"absolute",width:Ff.px(10),height:Ff.px(10),borderRadius:Ff.percent(50),content:"''",transform:"scale(.5)"}}},K_={$nest:{"&:before":{backgroundColor:"#f23452"}}},Y_={$nest:{"&:before":{backgroundColor:"#fab712"}}},Q_={$nest:{"&:before":{backgroundColor:Bl.CoreRed50}}},J_={$nest:{"&:before":{backgroundColor:Bl.CoreBlue50}}},Z_={$nest:{"&:before":{backgroundColor:Bl.CoreGreen50}}},X_={$nest:{"&:before":{backgroundColor:Bl.CorePurple50}}},eb={$nest:{"&:before":{backgroundColor:Bl.CoreNeutral50}}},tb="fullCard",nb="cozyCardContainer";Qn(Qn({},Ff.stylesheet({dot:[$_],dotAdvanced:[Y_],dotCritical:[K_],dotCorrectness:[Q_],dotClarity:[J_],dotEngagement:[Z_],dotDelivery:[X_],dotVox:[eb]})),{fullCard:Ff.joinClasses([tb,Ff.style(q_)])});var rb={padding:Ff.rem(.75)+" "+Ff.rem(.5)+" "+Ff.rem(.5)+" "+Ff.rem(1)},ib={margin:Ff.rem(1)+" 0 "+Ff.rem(1.5),borderRadius:Ff.rem(.5),background:Bl.CoreNeutral0,boxShadow:"0 "+Ff.rem(.625)+" "+Ff.rem(3.5)+" 0 rgba(198, 203, 222, .45)"},ob={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:Ff.rem(.5),background:Bl.CoreNeutral0};Qn(Qn({},Ff.stylesheet({minimalCardWrapper:[rb],compactCardContainer:[ob]})),{cozyCardContainer:Ff.joinClasses([nb,Ff.style(ib)])});var ab={color:Bl.CoreNeutral40,fontSize:Ff.rem(.625)},sb={margin:"0 "+Ff.rem(.4)+" 0 "+Ff.rem(.2),width:Ff.rem(.75),height:Ff.rem(.75),minWidth:Ff.rem(.75),minHeight:Ff.rem(.75),objectFit:"contain"};Qn({},Ff.stylesheet({footer:[{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:"12px",paddingBottom:"8px"}],logo:[sb],text:[ab]}));var ub,cb,lb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function fb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e<=0)return t;var n=Math.floor(Math.random()*(lb.length-1));return fb(e-1,t+lb.charAt(n))}function db(e){try{return e()}catch(e){return}}function hb(e){return{type:"success",value:e}}function pb(e){return{type:"failure",error:e}}function gb(e){return e.then(hb,pb)}!function(e){e.None="None",e.Lax="Lax",e.Strict="Strict"}(ub||(ub={})),function(e){e.Path="Path",e.Domain="Domain",e.Expires="Expires",e.Secure="Secure",e.SameSite="SameSite"}(cb||(cb={}));class mb extends class{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>Date.now();this.primaryStorage=e,this.secondaryStorages=t,this._logger=n,this._cacheSuccessTimeoutMillis=r,this._cacheFailureTimeoutMillis=i,this._getTime=o,this._allStorages=[e,...t]}_expireCache(e){0===e?this._cacheExpireTimestamp=0:e>0&&(this._cacheExpireTimestamp=this._getTime()+e)}getValue(){if(void 0!==this._cache&&(void 0===this._cacheExpireTimestamp||this._getTime()<this._cacheExpireTimestamp))return this._cache;var e=db((()=>this._logger&&this._logger.getValueStart(this.valueLabel()))),t=this._valueFromStorage();return this._cache=t,this._cacheExpireTimestamp=void 0,t.then((e=>{e?this._expireCache(this._cacheSuccessTimeoutMillis):this._cache=void 0}),(e=>{this._cache=void 0})),t.then((t=>{e&&db((()=>e.getValueSuccess()))}),(t=>{e&&db((()=>e.getValueFailure(t)))})),t}_valueFromStorage(){return Promise.all(this._allStorages.map((e=>gb(e.safeGetValue(this.key()))))).then((e=>{var[t]=e;if("failure"===t.type)return Promise.reject("getting value from primary storage "+"'".concat(this.primaryStorage.name,"' has failed: ").concat(t.error));var n=e.find((e=>"success"===e.type&&void 0!==e.value));if(void 0===n)return Promise.resolve(void 0);var r=n.value,i="success"===t.type&&void 0===t.value,o=e.reduce(((e,t,n)=>"success"===t.type&&t.value!==r?e.concat(n):e),[]);return this.setValue(r,i,!1,o)}))}setValue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:Array.from(Array(this._allStorages.length).keys())).map((t=>gb(this._allStorages[t].safeSetValue(this.key(),e))));return Promise.all(r).then((r=>{if(t||n){var[i]=r;if("success"!==i.type)return Promise.reject("setting ".concat(this.valueLabel()," to primary storage has failed:\n                ").concat(i.error))}var o=Promise.resolve(e);return this._cache=o,this._expireCache(this._cacheSuccessTimeoutMillis),o})).then((e=>(t?db((()=>this._logger&&this._logger.valueRecovered())):n&&db((()=>this._logger&&this._logger.valueGenerated())),e)))}}{constructor(){super(...arguments),this.containerIdLength=12,this.initialSetPromise=void 0,this.generatedContainerId=void 0,this._key="gnar_containerId",this.getContainerId=()=>super.getValue().then((e=>{if(void 0===e){if(this.initialSetPromise)return this.initialSetPromise;var t=super.setValue(this.getOrGenerateContainerId(),!1,!0);this.initialSetPromise=t;var n=()=>this.initialSetPromise=void 0;return t.then(n,n),t}return e}))}key(){return this._key}setKey(e){this._key=e}valueLabel(){return"ContainerId"}getOrGenerateContainerId(){return this.generatedContainerId||(this.generatedContainerId=fb(this.containerIdLength)),this.generatedContainerId}}class vb{constructor(e){this.name=e}safeSetValue(e,t){return this.ensureAvailable(e).then((()=>this.setValue(e,t)))}safeGetValue(e){return this.ensureAvailable(e).then((()=>this.getValue(e))).then((e=>""===e?void 0:e))}}class yb extends vb{constructor(){super("localStorage"),this.ensureAvailable=e=>{var t=e+"_test",n=fb(10);return new Promise(((e,r)=>{localStorage.setItem(t,n),localStorage.getItem(t)!==n?r(new Error("LocalStorage is unavailable.\n          Availability test failed.\n          Tried to set ".concat(n,",\n          the result is ").concat(localStorage.getItem(t),"."))):e(),localStorage.removeItem(t)}))},this.getValue=e=>{var t=localStorage.getItem(e);return new Promise(((e,n)=>e(null===t?void 0:t)))},this.setValue=(e,t)=>new Promise(((n,r)=>{localStorage.setItem(e,t),n()}))}}class _b extends vb{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super("memory"),this._value=e,this.ensureAvailable=()=>Promise.resolve()}getValue(e){return Promise.resolve(this._value)}setValue(e,t){return this._value=t,Promise.resolve()}}var bb=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},wb=()=>{var e=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientHeight||document.body.clientHeight;return{url:document.location.href,referrer:document.referrer,userAgent:navigator.userAgent,containerWidth:e,containerHeight:t,screenWidth:screen.width,screenHeight:screen.height,devicePixelRatio:window.devicePixelRatio}},Sb=["client","clientVersion","userId","isTest","containerId","instanceId","batchId"],xb="gnar_nextPingTimestamp";class Eb{constructor(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:wb,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};this._url=e,this._client=t,this._clientVersion=n,this._fetch=r,this._containerIdManager=i,this._logger=o,this._storePingTimestamp=a,this._gaClientOpt=s,this._getWindowProps=u,this._extraPingParams=c,this._instanceId=fb(8),this._batchId=0,this._isUserReady=!1,this._queue=[],this.userGetter=void 0,this._withBrowserProps=e=>{var{userAgent:t,containerHeight:n,containerWidth:r,screenHeight:i,screenWidth:o,devicePixelRatio:a}=this._getWindowProps();return Object.assign(Object.assign({},e),{userAgent:t,screenWidth:o,screenHeight:i,containerWidth:r,containerHeight:n,devicePixelRatio:a})},this._eventsUrl="events",this._liteUrl="lite",this._pingMaybe(),this._initTs=Date.now()}track(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lite:!1};if(0!==e.eventName.indexOf(this._client+"/"))throw new Error("Event name ".concat(e.eventName," should start with '").concat(this._client,"/'"));if(Object.keys(e).forEach((e=>{if(-1!==Sb.indexOf(e))throw new Error("Event data should not contain '".concat(e,"' prop."))})),!this._isUserReady&&this.userGetter)try{var n=this.userGetter();n&&this.setUser(n.userId,n.isTest)}catch(e){}return this._isUserReady||t.lite&&!t.sendUser?(e.eventName!=="".concat(this._client,"/ping")&&this._pingMaybe(),this._send(e,t)):(db((()=>this._logger&&this._logger.trackBeforeSetUser(Date.now()-this._initTs))),this._enqueue(e,t))}setUser(e,t){if(null===e||!/^-?\d+$/.test(e))throw new Error("Invalid userId: "+e);var n=this._userId&&this._userId!==e&&!(/^-/.test(e)&&/^-/.test(this._userId));this._isTest=t,this._userId=e,this._isUserReady||(this._isUserReady=!0,this._execQueue()),n&&this._pingMaybe(!0)}setJWT(e,t){if(null===e||""===e)throw new Error("Invalid JWT token: "+e);var[n,r]=e.split("."),i=JSON.parse(decodeURIComponent(atob(r.replace(/-/g,"+").replace(/_/g,"/")).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));this._jwt=e,this.setUser(i.sub,t)}getContainerId(){return this._containerIdManager.getContainerId()}_setNextPingTimestamp(){var e,t=((e=new Date).getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime());if(this._nextPingTimestamp=t,this._storePingTimestamp)try{localStorage.setItem(xb,t.toString())}catch(e){db((()=>this._logger&&this._logger.nextPingDateWriteError(e)))}}_getNextPingTimestamp(){var e=this._nextPingTimestamp;if(void 0!==e||!this._storePingTimestamp)return e;try{var t=localStorage.getItem(xb);e=null===t?void 0:parseInt(t,10)}catch(t){e=void 0,db((()=>this._logger&&this._logger.nextPingDateReadError(t)))}return e}_shouldPing(e){if(e)return!0;var t=this._getNextPingTimestamp();return void 0===t||t<Date.now()}_pingMaybe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._shouldPing(e)){this._setNextPingTimestamp();var{url:t,referrer:n}=this._getWindowProps(),r={eventName:"".concat(this._client,"/ping"),referrer:n,url:t};this._gaClientOpt?this._gaClientOpt.getClientId().then((e=>this.track(Object.assign(Object.assign(Object.assign({},r),this._extraPingParams),{gaClientId:e}))),(e=>this.track(Object.assign(Object.assign({},r),this._extraPingParams)))):this.track(Object.assign(Object.assign({},r),this._extraPingParams))}}pingMaybe(){this._pingMaybe()}_enqueue(e,t){return new Promise(((n,r)=>{this._queue.push([e,t,{resolve:n,reject:r}])}))}_execQueue(){this._queue.forEach((e=>{var[t,n,{resolve:r,reject:i}]=e;this._send(t,n).then((()=>r())).catch((e=>i(e)))})),this._queue=[]}_withClientProps(e){return Object.assign(Object.assign({},e),{client:this._client,clientVersion:this._clientVersion})}_withUserProps(e){return bb(this,void 0,void 0,(function*(){var t=yield this.getContainerId().catch((()=>{}));return Object.assign(Object.assign({},e),{containerId:t,userId:this._userId,isTest:this._isTest})}))}_withInstanceProps(e){var t=this._batchId++;return Object.assign(Object.assign({},e),{instanceId:this._instanceId,batchId:t})}_trackUrl(e){return this._url+"/"+(e.lite?this._liteUrl:this._eventsUrl)+(this._jwt?"-with-token":"")}_send(e,t){return bb(this,void 0,void 0,(function*(){try{return e=this._withClientProps(e),(!t.lite||t.lite&&t.sendInstance)&&(e=this._withInstanceProps(e)),(!t.lite||t.lite&&t.sendUser)&&(e=yield this._withUserProps(e)),(!t.lite||t.lite&&t.sendBrowser)&&(e=this._withBrowserProps(e)),yield this._doSend(this._trackUrl(t),e)}catch(e){throw db((()=>this._logger&&this._logger.sendError(e))),e}}))}_doSend(e,t){return this._fetch(e,{mode:"cors",credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:[t],jwt:this._jwt})}).then((e=>e.ok?Promise.resolve():Promise.reject(new Error(e.statusText))))}setUserGetter(e){this.userGetter=e}}var Cb=Dt((()=>{throw new Error("option has empty value")}),U),kb=pe(K),Tb={unsafeGet:Cb},Ib={fold:le,orNull:kb,map:Re},Ob={map:Gn},Nb=e=>({_tag:"Some",value:e}),Ab={_tag:"None"};function Rb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(n),!0).forEach((function(t){Mb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Db(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Fb(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Db(o,r,i,a,s,"next",e)}function s(e){Db(o,r,i,a,s,"throw",e)}a(void 0)}))}}var zb={type:"js_plugin",sub:"general"},Bb="1.3.5",jb={felog:"https://f-log-js-plugin.grammarly.io"},Hb={anonymousToken:e=>"https://tokens.".concat(e,"/oauth2/token"),oauth2Token:e=>"https://tokens.".concat(e,"/oauth2/token"),capi:e=>"wss://capi.".concat(e,"/pws"),consentScreen:e=>"https://www.".concat(e,"/signin/app"),gnar:e=>"https://gnar.".concat(e),feedback:e=>"https://apps.".concat(e,"/v1/feedback/editor-sdk"),clientInfo:e=>"grammarly.com"===e?"https://apps-public.grammarly.com/client-info":"https://apps.".concat(e,"/v1/apps-public/client-info")};function Ub(){return null!=="dev"?"dev":"prod"}function Vb(e){var t,n=null!==(t="ppgr.io")?t:"grammarly.com";return Hb[e](n)}function Wb(){return location.hostname}var Gb=Object.freeze({__proto__:null,clientInfo:zb,clientVersion:Bb,tracking:jb,getEnv:Ub,getUrl:Vb,getDomain:Wb,isElectron:function(){var e,t;return Boolean(null===(e=window.navigator)||void 0===e||null===(t=e.userAgent)||void 0===t?void 0:t.includes("Electron"))}});function qb(){return $b.apply(this,arguments)}function $b(){return($b=Fb((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;yield new Promise((t=>setTimeout(t,e)))}))).apply(this,arguments)}function Kb(e,t){if(null!=e&&null!=t&&"object"==typeof e&&"object"==typeof t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!Kb(e[n],t[n]))return!1;return!0}return e===t}var Yb="undefined"!=typeof window&&null!=window.Cypress;class Qb{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showTimestamps:!1,useColors:!Yb};Mb(this,"_colors",new Map),Mb(this,"_showTimestamps",void 0),Mb(this,"_useColors",void 0),Mb(this,"_currentHue",0),this._showTimestamps=e.showTimestamps,this._useColors=e.useColors}write(e){for(var t of e)switch(t.type){case"log":console[t.level.toLowerCase()](...this._header(t),...this._parseLog(t));break;case"counter":console.group(...this._header(t),"Counters"),console.count(t.metric),console.groupEnd()}}_header(e){var t=this._useColors?["%c".concat(e.logger.name,"%c"),this._getUniqueColor(e.logger.name),""]:["[".concat(e.logger.name,"]")];return e.logger.id>0&&t.push("(".concat(e.logger.id,")")),this._showTimestamps&&t.unshift("".concat(e.timestamp)),t}_parseLog(e){var{message:t,data:n}=e.message;return[t,...n]}_getUniqueColor(e){var t;return null!==(t=this._colors.get(e))&&void 0!==t?t:this._createUniqueColor(e)}_createUniqueColor(e){var t,n=function(e,t,n){n/=100;var r=t*Math.min(n,1-n)/100,i=t=>{var i=(t+e/30)%12,o=n-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*o).toString(16).padStart(2,"0")};return"#".concat(i(0)).concat(i(8)).concat(i(4))}(this._currentHue,36,null!==(t=matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?25:75),r="background: ".concat(n,"; border-radius: 2px; padding: 0 4px; display: inline-block;");return this._colors.set(e,r),this._currentHue=this._currentHue+180/this._colors.size,r}}class Jb{constructor(e){Mb(this,"_size",void 0),Mb(this,"_storage",[]),Mb(this,"_current",0),this._size=e}write(e){for(var t of e)this._storage[this._current]=t,this._current=(this._current+1)%this._size}getLogs(){return[...this._storage.slice(this._current+1),...this._storage.slice(0,this._current+1)]}printToConsole(){var e=this.getLogs();console.group("Editor SDK v".concat("1.3.5")),new Qb({showTimestamps:!0,useColors:!1}).write(e),console.groupEnd()}}var Zb=0;class Xb{constructor(e){Mb(this,"_name",void 0),Mb(this,"_id",void 0),this._id=Zb++,this._name=e}get name(){return this._name}count(e){Xb._write(this._createMetricMessage({metric:e}))}debug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xb._write(this._createLogMessage({level:"DEBUG",message:{message:e,data:n}}))}log(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.info(e,...n)}info(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xb._write(this._createLogMessage({level:"INFO",message:{message:e,data:n}}))}warn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xb._write(this._createLogMessage({level:"WARN",message:{message:e,data:n}}))}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xb._write(this._createLogMessage({level:"ERROR",message:{message:e,data:n}}))}createLogger(e){return new Xb("".concat(this.name,".").concat(e))}_createLogMessage(e){return Lb({type:"log",logger:{id:this._id,name:this._name},timestamp:Date.now()},e)}_createMetricMessage(e){return Lb({type:"counter",logger:{id:this._id,name:this._name},timestamp:Date.now()},e)}static get level(){var e;return null!==(e=this._levels[this._level])&&void 0!==e?e:"OFF"}static set level(e){this._level=this._levels.indexOf(e)}static _write(e){var t=Array.from(this.writers).find((e=>e instanceof Jb));if(null==t||t.write([e]),!this.mutedLoggers.has(e.logger.name)){var n="level"in e?this._levels.indexOf(e.level):1/0;this._level<=n&&this.writers.forEach((n=>{n!==t&&n.write([e])}))}}}Mb(Xb,"writers",new Set),Mb(Xb,"mutedLoggers",new Set),Mb(Xb,"_level",0),Mb(Xb,"_levels",["DEBUG","INFO","WARN","ERROR","OFF"]);var ew=new Xb("Default");class tw{constructor(e,t){Mb(this,"type",void 0),Mb(this,"detail",void 0),this.type=e,this.detail=t}}class nw{constructor(){Mb(this,"_listeners",{}),Mb(this,"__type_helper_",void 0)}addEventListener(e,t){var n=this._listeners[e];null!=n?n.add(t):this._listeners[e]=new Set([t])}removeEventListener(e,t){var n;null===(n=this._listeners[e])||void 0===n||n.delete(t)}dispatchEvent(e,t){var n;null===(n=this._listeners[e])||void 0===n||n.forEach((n=>{try{n(new tw(e,t))}catch(e){ew.error(e)}}))}emit(e,t){this.dispatchEvent(e,t)}dispose(){this._listeners={}}}var rw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var iw={};iw[iw.UNKNOWN=1e3]="UNKNOWN",iw[iw.HTTP_EXCEPTION=1001]="HTTP_EXCEPTION",iw[iw.EDITOR_MISSING_CLIENT_ID=2e3]="EDITOR_MISSING_CLIENT_ID",iw[iw.EDITOR_UNINITIALIZED=2001]="EDITOR_UNINITIALIZED",iw[iw.EDITOR_UNATTACHED=2002]="EDITOR_UNATTACHED",iw[iw.EDITOR_UNSUPPORTED=2003]="EDITOR_UNSUPPORTED",iw[iw.HIGHLIGHTS_ALREADY_CONNECTED=2004]="HIGHLIGHTS_ALREADY_CONNECTED",iw[iw.BROWSER_UNSUPPORTED=3e3]="BROWSER_UNSUPPORTED",iw[iw.ENVIRONMENT_UNSUPPORTED=3001]="ENVIRONMENT_UNSUPPORTED",iw[iw.OAUTH_INVALID_REQUEST=4e3]="OAUTH_INVALID_REQUEST";var ow={[iw.UNKNOWN]:"Unknown error",[iw.HTTP_EXCEPTION]:"HTTP Exception",[iw.EDITOR_MISSING_CLIENT_ID]:"Invalid or missing client ID",[iw.EDITOR_UNINITIALIZED]:"GrammarlyEditorPlugin is not connected to an editor",[iw.EDITOR_UNATTACHED]:"The editor element is not attached to a document",[iw.EDITOR_UNSUPPORTED]:"The editor element is not supported",[iw.HIGHLIGHTS_ALREADY_CONNECTED]:"The editor already has a highlights manager",[iw.BROWSER_UNSUPPORTED]:"The browser is not supported",[iw.ENVIRONMENT_UNSUPPORTED]:"The environment is not supported",[iw.OAUTH_INVALID_REQUEST]:"Invalid OAuth request"};class aw extends Error{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iw.UNKNOWN;super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ow[e]),Mb(this,"code",void 0),this.code=e}}Mb(aw,"codes",iw);class sw extends aw{constructor(e,t){super(aw.codes.HTTP_EXCEPTION,t),Mb(this,"status",void 0),Mb(this,"statusText",void 0),this.status=e.status,this.statusText=e.statusText}}function uw(e){return cw.apply(this,arguments)}function cw(){return(cw=Fb((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json"},r=yield fetch(e,Lb(Lb({},t),{},{mode:"cors",headers:Lb(Lb(Lb({},t.headers),null!=(null==t?void 0:t.body)?n:{}),{},{Accept:"application/json","x-client-type":zb.type,"x-client-version":Bb})}));if(r.ok)return yield r.json();var i=yield r.json().then((e=>e.message)).catch((e=>e.message)),o=new sw(r,i);throw r.status>=500&&ew.error(o,{status:r.status,url:e}),o}))).apply(this,arguments)}var lw=["http:","https:"];function fw(e){var t=new URL(e.location.href);return lw.includes(t.protocol)||(t.pathname=""),t.search="",t.toString()}function dw(e){return("input"!==e.tagName.toLocaleLowerCase()||"text"===e.type)&&(!e.hasAttribute("disabled")&&!e.hasAttribute("readonly"))}function hw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var pw=hw();function gw(e,t,n,r){return mw.apply(this,arguments)}function mw(){return(mw=Fb((function*(e,t,n,r){for(var i=Date.now(),o="".concat(t,"__$$MUTEX_x"),a="".concat(t,"__$$MUTEX_y"),s="".concat(pw,":").concat(i,":").concat(Math.random());;){if(Date.now()-i>n)throw e.removeItem(o),new Error("Timeout");if(e.setItem(o,s),null==e.getItem(a)){if(e.setItem(a,s),e.getItem(o)===s){try{yield r()}finally{e.removeItem(o),e.removeItem(a)}break}yield qb(),e.getItem(a)!==s&&(yield qb())}else yield qb()}}))).apply(this,arguments)}function vw(e,t,n){return yw.apply(this,arguments)}function yw(){return(yw=Fb((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12e4;yield gw(e,t,r,Fb((function*(){return yield n()})))}))).apply(this,arguments)}function _w(e){var t=new bw(e),n=/^(get|set|addEventListener|removeEventListener|dispatchEvent|dispose)$/,r=e=>"string"==typeof e&&!n.test(e)&&!e.startsWith("_");return new Proxy(t,{get:(e,t,n)=>r(t)?e.get(t):Reflect.get(e,t,n),set:(e,t,n,i)=>r(t)?(e.set(t,n),!0):Reflect.set(e,t,n,i),has:(e,t)=>Reflect.has(r(t)?Reflect.get(e,"_state"):e,t),ownKeys:e=>Reflect.ownKeys(Reflect.get(e,"_state"))})}class bw extends nw{constructor(e){super(),Mb(this,"_state",void 0),this._state=Lb({},e)}set(e,t){if("@updated"===e)throw new Error("@updated is a reserved key");var n=this._state[e];this._state[e]=t,this.dispatchEvent("@updated",[e]),this.dispatchEvent(e,{value:t,previousValue:n})}get(e){return this._state[e]}}function ww(e){return function(e){Sw.apply(this,arguments)}(e),!0}function Sw(){return(Sw=Fb((function*(e){try{yield fetch(e,{mode:"no-cors",cache:"no-cache"})}catch(e){}}))).apply(this,arguments)}function xw(e){var t=null,n=null;return Fb((function*(){return null!=t?yield t:(null!=n||(t=e(),n=yield t,t=null),n)}))}function Ew(){return(Ew=Fb((function*(e){for(var t,n=Lb({backoffFn:(t=Fb((function*(e){var{tryNo:t}=e;return yield qb(100*Math.pow(2,t-1))})),function(e){return t.apply(this,arguments)}),maxRetries:10},e),r=0,i=!1,o=null,a=null,s=Date.now(),u=()=>{i=!0};r<=n.maxRetries;){try{return{result:a=yield n.fn({tryNo:r,startedAt:s,abort:u}),error:null}}catch(e){if(o=e,++r,i)break;r<=n.maxRetries&&(yield n.backoffFn({tryNo:r,startedAt:s,abort:u}))}if(i)break}return{error:o,result:a}}))).apply(this,arguments)}class Cw{constructor(){Mb(this,"_cleanups",[])}add(e){return this._cleanups.push((()=>e.dispose())),this}run(e){var t=e();return this._cleanups.push(t),this}emitter(e){var t={on:(n,r)=>(this.run((()=>(e.addEventListener(n,r),()=>e.removeEventListener(n,r)))),t),end:()=>this};return t}dispose(){this._cleanups.forEach((e=>e())),this._cleanups.length=0}}function kw(e,t){return function(e,t){Tw.apply(this,arguments)}(e,t),!0}function Tw(){return(Tw=Fb((function*(e,t){try{yield fetch(e,{method:"POST",body:JSON.stringify(t,((e,t)=>t instanceof Error?{__type:"Error",name:t.name,message:t.message,stack:t.stack}:t instanceof HTMLElement?{__type:Object.prototype.toString.call(t),tag:t.tagName}:t instanceof Request?{__type:"Request",url:t.url,method:t.method}:t instanceof Response?{__type:"Response",url:t.url,status:t.status,statusText:t.statusText}:t)),headers:{"Content-Type":"application/json"},mode:"no-cors",cache:"no-cache"})}catch(e){}}))).apply(this,arguments)}function Iw(e,t,n){e.style[t]!==n&&(e.style[t]=n)}function Ow(e,t){for(var[n,r]of Object.entries(t))Iw(e,n,r)}class Nw{constructor(e){Mb(this,"_instance",null),Mb(this,"_class",void 0),this._class=e}getInstance(){var e;return null!==(e=this._instance)&&void 0!==e?e:this._instance=new this._class}clear(){this._instance=null}}function Aw(){return"".concat(Date.now(),".").concat(Math.random())}function Rw(){return function(){var e=Fb((function*(e){return yield Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}()}function Pw(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var n=Fb((function*(n){return yield new Promise((r=>{clearTimeout(e),e=setTimeout((()=>r(n)),t)}))}));return function(e){return n.apply(this,arguments)}}()}function Lw(){var e;return function(){var t=Fb((function*(t){return yield new Promise((n=>{cancelAnimationFrame(e),e=requestAnimationFrame((()=>n(t)))}))}));return function(e){return t.apply(this,arguments)}}()}function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rw(),n={token:"",queue(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.token=Aw(),t(n.token).then((t=>{if(n.token===t){e(...i);n.token=""}}))},cancel(){""!==n.token&&(n.token="")}};return n}var Dw={correctness:"critical",clarity:"clarity",engagement:"engagement",tone:"tone",originality:"originality",vox:"vox",other:"advanced"},Fw={Correctness:"correctness",Clarity:"clarity",Engagement:"engagement",Tone:"tone",Originality:"originality","Style guide":"vox"};function zw(e){var t=e.cardLayout.outcome,n=t&&Fw[t]||"other";return"critical"===e.impact?"critical":Dw[n]}var Bw={Correctness:10,Clarity:20,Engagement:30,Tone:40,"Style guide":0,Originality:50};function jw(e){var t=Bw[e.cardLayout.outcome];return null!=t?t:60}var Hw=new Set(["TABLE","DIV","P","BLOCKQUOTE","BODY","CODE","TR","TH","TD","OL","UL","LI","H1","H2","H3","H4","H5","H6"]);function Uw(e){return(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE}function Vw(e){return!!Uw(e)&&("BR"===e.tagName||Vw(e.lastChild))}function Ww(e){return(null==e?void 0:e.nodeType)===Node.TEXT_NODE}function Gw(e){var t="";return e.forEach((e=>{"insert"in e&&("string"==typeof e.insert?t+=e.insert:t+="​")})),t}function qw(e,t){if(e===t||null==e)return!1;for(;null!=e;){if(!Uw(e.parentNode))return!1;if(e.parentNode===t)return!1;if(e.parentNode.lastChild!==e)return!1;if(Hw.has(e.parentNode.tagName))break;e=e.parentNode}return!0}var $w=["bold","italic","underline","code","link"],Kw=["code-block","header","indent","linebreak","list"];function Yw(e,t){var n={};for(var r of t)r in e&&(n[r]=e[r]);return n}function Qw(e){if(null==e)return e;var t=Yw(e,Kw);return Object.keys(t).length>0?t:void 0}function Jw(e){var t=new Map,n=r=>{if(null!=r&&r!==e){if(t.has(r))return t.get(r);var i=n(r.parentNode),o=Lb(Lb({},i),function(e,t){var n,r;if(Uw(e))switch(e.tagName){case"B":case"STRONG":return{bold:!0};case"I":case"EM":return{italic:!0};case"U":return{underline:!0};case"OL":return{list:"number",indent:(null!==(n=null==t?void 0:t.indent)&&void 0!==n?n:-1)+1};case"UL":return{list:"bullet",indent:(null!==(r=null==t?void 0:t.indent)&&void 0!==r?r:-1)+1};case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":return{header:parseInt(e.tagName.substr(1))};case"CODE":return{code:!0};case"PRE":return{"code-block":!0};case"A":var i=e.getAttribute("href");return null!=i?{link:i}:void 0}}(r,i));return t.set(r,o),o}};return[n,function(t,r){var i=n(r);return qw(t,e)?Lb(Lb({},i),{},{linebreak:!0}):null!=i?function(e){if(null==e)return e;var t=Yw(e,$w);return Object.keys(t).length>0?t:void 0}(i):void 0}]}var Zw=["isEnabled","showDetectedTone","showUnderlines","gnarContainerId","shownCardIntro"],Xw={isEnabled:!0,showDetectedTone:!0,showUnderlines:!0,shownCardIntro:!1,gnarContainerId:null},eS="com.grammarly.plugin",tS="grammarlyConfigChange";function nS(e){oS(sessionStorage,e),window.dispatchEvent(new Event(tS))}function rS(e){oS(sessionStorage,e),oS(localStorage,e),window.dispatchEvent(new Event(tS))}function iS(){try{return Lb(Lb(Lb({},Xw),aS(localStorage)),aS(sessionStorage))}catch(e){return Xw}}function oS(e,t){for(var n in t){var r="".concat(eS,".").concat(n),i=t[n];null==i?e.removeItem(r):e.setItem(r,JSON.stringify(i))}}function aS(e){var t={};return Zw.forEach((n=>{var r="".concat(eS,".").concat(n),i=e.getItem(r);null!=i&&(t[n]=JSON.parse(i))})),t}var sS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function uS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e<=0)return t;var n=Math.floor(Math.random()*sS.length);return uS(e-1,t+sS.charAt(n))}function cS(){var e=iS();if(null!=e.gnarContainerId)return e.gnarContainerId;var t=uS(10);return rS({gnarContainerId:t}),t}class lS{constructor(e){Mb(this,"gnar",void 0),this.gnar=e}connectAccountButtonClick(e,t){return this.gnar.track({action:"click",eventName:"editorPlugin/connectAccount-button-click",object:"button",objectId:"connectAccount",clientId:e,popupBlocked:t})}gButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/g-button-click",object:"button",objectId:"g",clientId:e})}gButtonEnable(e){return this.gnar.track({action:"enable",eventName:"editorPlugin/g-button-enable",object:"button",objectId:"g",clientId:e})}gButtonShow(e,t,n){return this.gnar.track({action:"show",eventName:"editorPlugin/g-button-show",object:"button",objectId:"g",clientId:e,enabled:t,disabledBy:n})}gPopupClose(e){return this.gnar.track({action:"close",eventName:"editorPlugin/g-popup-close",object:"popup",objectId:"g",clientId:e})}gPopupShow(e){return this.gnar.track({action:"show",eventName:"editorPlugin/g-popup-show",object:"popup",objectId:"g",clientId:e})}learnMoreButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/learnMore-button-click",object:"button",objectId:"learnMore",clientId:e})}logoutButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/logout-button-click",object:"button",objectId:"logout",clientId:e})}myGrammarlyButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/myGrammarly-button-click",object:"button",objectId:"myGrammarly",clientId:e})}showDetectedToneToggleClick(e,t){return this.gnar.track({action:"click",eventName:"editorPlugin/showDetectedTone-toggle-click",object:"toggle",objectId:"showDetectedTone",clientId:e,state:t})}toneButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/tone-button-click",object:"button",objectId:"tone",clientId:e})}tonePopupShow(e){return this.gnar.track({action:"show",eventName:"editorPlugin/tone-popup-show",object:"popup",objectId:"tone",clientId:e})}turnOffButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/turnOff-button-click",object:"button",objectId:"turnOff",clientId:e})}userFeedbackFormSuccess(e,t,n,r){return this.gnar.track({action:"success",eventName:"editorPlugin/userFeedback-form-success",object:"form",objectId:"userFeedback",clientId:e,feedbackRating:t,feedbackComment:n,url:r})}userFeedbackPopupClose(e,t,n){return this.gnar.track({action:"close",eventName:"editorPlugin/userFeedback-popup-close",object:"popup",objectId:"userFeedback",clientId:e,dismissedBy:t,url:n})}userFeedbackPopupShow(e,t,n){return this.gnar.track({action:"show",eventName:"editorPlugin/userFeedback-popup-show",object:"popup",objectId:"userFeedback",clientId:e,initiatedBy:t,url:n})}viewSuggestionsButtonClick(e){return this.gnar.track({action:"click",eventName:"editorPlugin/viewSuggestions-button-click",object:"button",objectId:"viewSuggestions",clientId:e})}viewSuggestionsToggleClick(e,t){return this.gnar.track({action:"click",eventName:"editorPlugin/viewSuggestions-toggle-click",object:"toggle",objectId:"viewSuggestions",clientId:e,state:t})}}var fS=new Set;function dS(e,t){return hS.apply(this,arguments)}function hS(){return(hS=Fb((function*(e,t){var n=new Request(e,t);if(!fS.has(n.url)){try{yield fetch(n)}catch(e){e instanceof Error&&/NetworkError/i.test(e.message)&&navigator.onLine&&fS.add(n.url)}return yield Promise.resolve(new Response(null,{status:200,statusText:"Success"}))}return yield Promise.reject(new Response(null,{status:201,statusText:"Blocked"}))}))).apply(this,arguments)}class pS{constructor(e){Mb(this,"_auth",void 0),Mb(this,"_client",void 0),Mb(this,"_spec",void 0),this._auth=e,this._client=new Eb(Vb("gnar"),"editorPlugin",Bb,dS,new mb(new yb,[new _b(cS())]),void 0,void 0,void 0,void 0,{clientId:e.getClientId()}),this._spec=new lS(this._client)}track(e,t){var n=this;return Fb((function*(){var r=n._spec[e];if(null==r)throw new Error("track:".concat(String(e)," unavailable"));n._client.setJWT(yield n._auth.createAccessToken(),!1),yield r.apply(n._spec,t())}))()}}var gS=new Nw(class{constructor(){Mb(this,"_pendingEvents",[]),Mb(this,"_gnar",null)}setAuthProvider(e){null==this._gnar&&(this._gnar=new pS(e),this._pendingEvents.forEach((e=>{var[t,n]=e;return this.track(t,n)})),this._pendingEvents.length=0)}track(e,t){null==this._gnar?this._pendingEvents.push([e,t]):this._gnar.track(e,t).catch((e=>{}))}});class mS{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mb(this,"_writer",void 0),Mb(this,"_options",void 0),Mb(this,"_buffer",[]),Mb(this,"_flushedAt",Date.now()),Mb(this,"_flushTimerId",null),Mb(this,"_onDocumentHide",(()=>{"hidden"===document.visibilityState&&this._flush()})),this._writer=e,this._options=Lb({size:25,duration:5e3},t),document.addEventListener("visibilitychange",this._onDocumentHide)}write(e){this._buffer.push(...e),this._tryFlush()}dispose(){this._clearFlushTimer(),document.removeEventListener("visibilitychange",this._onDocumentHide)}_tryFlush(){this._buffer.length>=this._options.size||this._flushedAt+this._options.duration<Date.now()?this._flush():null==this._flushTimerId&&(this._flushTimerId=setTimeout((()=>{this._flushTimerId=null,this._tryFlush()}),this._options.duration))}_flush(){this._flushedAt=Date.now(),this._writer.write([...this._buffer]),this._clearFlushTimer(),this._buffer.length=0}_clearFlushTimer(){null!=this._flushTimerId&&(clearTimeout(this._flushTimerId),this._flushTimerId=null)}}class vS{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;Mb(this,"_url",void 0),Mb(this,"_transform",void 0),this._url=e,this._transform=t}write(e){kw(this._url,this._transform(e))}}var yS=new class{constructor(e,t){Mb(this,"_writer",void 0),Mb(this,"_baseURL",void 0),Mb(this,"_extra",void 0),this._extra=t,this._baseURL=e,this._writer=new vS("".concat(e,"/batch/log"),(e=>e.map((e=>{var t=e.message,n="string"==typeof t.message?{message:t.message}:{message:t.message.message,exception:{name:t.message.name,message:t.message.message,stack:t.message.stack}};return Lb(Lb(Lb({},this._extra),n),{},{logger:e.logger.name,level:e.level,extra:{data:t.data.length>0?t.data:void 0,exception:n.exception}})}))))}setExtra(e){this._extra=Lb(Lb({},this._extra),e)}write(e){this._sendlogs(e.filter((e=>"log"===e.type))),this._sendCounters(e.filter((e=>"counter"===e.type)))}_sendlogs(e){0!==e.length&&this._writer.write(e)}_sendCounters(e){if(0!==e.length){var t={};for(var n of e){var r;if("counter"===n.type)t[n.metric]=(null!==(r=t[n.metric])&&void 0!==r?r:0)+1}var i=this._extra.env,o=Object.entries(t).map((e=>{var[t,n]=e;return"c.".concat(i,".").concat(t,"=").concat(n)})).join("&");ww("".concat(this._baseURL,"/ts?").concat(o))}}}(jb.felog,{application:"js-plugin",version:"1.3.5",env:Ub(),context:Lb({},function(){if("undefined"!=typeof window)return{userAgent:navigator.userAgent,windowWidth:window.innerWidth,windowHeight:window.innerHeight,origin:location.origin};return{}}())}),_S=!1;function bS(e){return new Xb(e)}var wS={init:function(){if(!_S){_S=!0;var e=new Jb(100);Xb.writers.add(e),function(e,t){var n;(null!==(n=rw.Grammarly)&&void 0!==n?n:rw.Grammarly={})[e]=t}("printLogs",(()=>{e.printToConsole()})),Xb.level="INFO",Xb.writers.add(new mS(yS)),ew.count("session");var t=bS("Internal"),n=["debug","debug","info","warn","error","error",void 0];ei.LoggingConfig.configure(Qr.toLegacyLogger("SDK")(function(){var e=Fb((function*(e){var r=n[e.level];null!=r&&(e.exception?t[r](e.message,e.exception):t[r](e.message))}));return function(t){return e.apply(this,arguments)}}()))}return ew},getLogger:bS,setContext:function(e){null!=yS&&yS.setExtra(e)},count:function(e){return ew.count(e)},track:function(e,t){_S&&gS.getInstance().track(e,t)}};class SS{constructor(e,t){Mb(this,"start",void 0),Mb(this,"end",void 0),this.start=e,this.end=t}toString(){return"[".concat(this.start,", ").concat(this.end,"]")}static equals(e,t){return e.start===t.start&&e.end===t.end}static contains(e,t){return t.start>=e.start&&t.start<e.end&&t.end>=e.start&&t.end<=e.end}}function xS(e){return new SS(e.begin,e.end)}function ES(e){return new SS(e.highlightBegin,e.highlightEnd)}var CS=e=>{var t=e.transformJson?{highlights:e.transformJson.highlights,alternatives:"Some"===e.transformJson.alternatives._tag?e.transformJson.alternatives.value.alternatives:[]}:{highlightText:e.highlightText,highlightRange:ES(e),transformText:e.text,transformRange:xS(e),replacements:e.replacements};return Object.assign(t,{priority:e.priority,free:e.free,group:e.group,outcome:e.cardLayout.outcome,category:e.category}),t};function kS(e){return e}var TS=e=>t=>({context:Ob.map((t=>({s:e.transformPosition(t.s),e:e.transformPosition(t.e)})))(t.context),alternatives:Ob.map((t=>Ib.fold((()=>t),kS)(t.rebase(e))))(t.alternatives)});function IS(e,t){var n,r,i=e.highlightEnd-e.highlightBegin,o=t.delta.transformPosition(e.highlightBegin),a=t.delta.transformPosition(e.highlightEnd),s=a-o;return o===e.highlightBegin&&a===e.highlightEnd&&s===i?e:i!==s?null:Lb(Lb({},e),{},{highlightBegin:o,highlightEnd:a,begin:t.delta.transformPosition(e.begin),end:t.delta.transformPosition(e.end),transformJson:e.transformJson?(n=e.transformJson,r=t.delta,{highlights:n.highlights.map((e=>({s:r.transformPosition(e.s),e:r.transformPosition(e.e),type:e.type}))),alternatives:Ib.map(TS(r))(n.alternatives)}):void 0})}class OS extends nw{constructor(e,t){super(),Mb(this,"_state",void 0),Mb(this,"_cleanup",new Cw),Mb(this,"_source",void 0),Mb(this,"_providers",new Map),Mb(this,"_suggestions",new Map),Mb(this,"_logger",wS.getLogger("SuggestionManager")),Mb(this,"_syncSuggestionsState",Mw((()=>{var e=Array.from(this._suggestions.values());e.sort(((e,t)=>e.sortOrder-t.sortOrder)),this._state.suggestions=e}))),this._source=e,this._state=_w({suggestions:[],active:null}),this._setup(t),this._cleanup.emitter(e).on("change",(e=>{var{changes:t,previous:n}=e.detail,r=rc.delta(t,n.textLength);if(!r.isEmpty){var{repositioned:i,alerts:o}=function(e,t){if(t.isEmpty)return{repositioned:!1,alerts:e};var n=!1,r=[];for(var i of e){var o=IS(i,t);null!==o?(r.push(o),n=n||i!==o):n=!0}return{repositioned:n,alerts:r}}(Array.from(this._suggestions.values()),r);i&&this._update(o)}}))}get state(){return this._state}dispose(){super.dispose(),this._cleanup.dispose()}accept(e){var t=arguments,n=this;return Fb((function*(){var r,i=t.length>1&&void 0!==t[1]?t[1]:0;yield null===(r=n._providers.get(e))||void 0===r?void 0:r.accept(e,i),n._removeById(e)}))()}dismiss(e){var t=arguments,n=this;return Fb((function*(){var r,i=t.length>1&&void 0!==t[1]?t[1]:0;yield null===(r=n._providers.get(e))||void 0===r?void 0:r.dismiss(e,i),n._removeById(e)}))()}setActiveSuggestion(e,t){if(null==e)this._state.active=null;else{var n=this._suggestions.get(e);this._state.active=null!=n?{source:t,suggestion:n}:null}}getSuggestion(e){var t;return null!==(t=this._suggestions.get(e))&&void 0!==t?t:null}clear(){this._providers.clear(),this._suggestions.clear(),this._state.suggestions.length=0}_removeById(e){var t=this._suggestions.get(e);null!=t&&this._remove([t])}_addWithProvider(e,t){var n=this,r=[],i=[],o=function(t){if("ToneDetection"===t.category||null!=t.muted||t.hidden||!n._hasValidTextRange(t)||!n._isForValidText(t))return n._printSuggestionDebugMessage(t),"continue";var o,a=Array.from(n._suggestions.values()).find((e=>{return r=t,i=(n=e).free===r.free,o=SS.equals(xS(n),xS(r)),a=SS.equals(ES(n),ES(r)),i&&(o||a);var n,r,i,o,a}));if(null!=a&&a.id!==t.id){if(o=a,!Kb(CS(t),CS(o))&&!function(e,t){return e.free===t.free?"Spelling"===e.group&&"Spelling"===t.group||"ContextualSpelling"===e.group&&"ContextualSpelling"===t.group?e.priority>=t.priority:"Spelling"===e.group||"Spelling"!==t.group&&e.priority<=t.priority:e.free}(t,a))return"continue";r.push(a)}n._suggestions.has(t.id)||i.push(t),n._providers.set(t.id,e),n._suggestions.set(t.id,t)};for(var a of t)o(a);this._remove(r),i.length>0&&(this._syncSuggestionsState.queue(),this.dispatchEvent("suggestionAdded",i))}_remove(e){var t=[];for(var n of e){var r=this._suggestions.get(n.id);this._providers.delete(n.id),null!=r&&(this._suggestions.delete(n.id),t.push(r))}t.length>0&&(this._syncSuggestionsState.queue(),this.dispatchEvent("suggestionRemoved",t))}_update(e){for(var t of(this._suggestions.clear(),e))this._suggestions.set(t.id,t);this._syncSuggestionsState.queue()}_hasValidTextRange(e){var t=new SS(0,this._source.delta.length()),n=ES(e),r=xS(e),i=SS.contains(t,n)&&SS.contains(t,r);return i||this._logger.debug("Alert #".concat(e.id," is out of bounds: ").concat(n.toString(),", ").concat(r.toString()," vs ").concat(t.toString()," -- dropping")),i}_isForValidText(e){var t=Gw(this._source.delta.slice(e.begin,e.end)),n=t===e.text,r=Gw(this._source.delta.slice(e.highlightBegin,e.highlightEnd)),i=r===e.highlightText.join(),o=n&&i;return o||this._logger.debug("Alert #".concat(e.id," is inconsistent with document text: alert (").concat(e.text,", ").concat(e.highlightText.join(),") vs text (").concat(t,", ").concat(r,") -- dropping")),o}_printSuggestionDebugMessage(e){}_setup(e){e.forEach((e=>{this._cleanup.emitter(e).on("suggestionAdded",(t=>this._addWithProvider(e,t.detail))).on("suggestionRemoved",(e=>this._remove(e.detail)))}))}}class NS extends nw{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];super(),Mb(this,"_compat",void 0),Mb(this,"_suggestions",void 0),this._compat=this._createFakeSuggestionProvider(),this._suggestions=new OS(e,[...t,this._compat]),this._suggestions.addEventListener("suggestionAdded",(e=>{for(var t of e.detail)this.dispatchEvent("added",t)})),this._suggestions.addEventListener("suggestionRemoved",(e=>{for(var t of e.detail)this.dispatchEvent("removed",t)})),this._suggestions.state.addEventListener("suggestions",(e=>{this.dispatchEvent("change",e.detail.value)})),this._suggestions.state.addEventListener("active",(e=>{var t,n,r;this.dispatchEvent("active",{alert:null===(t=e.detail.value)||void 0===t?void 0:t.suggestion,source:null!==(n=null===(r=e.detail.value)||void 0===r?void 0:r.source)&&void 0!==n?n:"manual"})}))}_createFakeSuggestionProvider(){var e=new nw;return e.accept=Fb((function*(){})),e.dismiss=Fb((function*(){})),e}reset(){this._suggestions.clear()}setActiveAlert(e,t){this._suggestions.setActiveSuggestion(null!=e?e:null,t)}getAlert(e){return this._suggestions.getSuggestion(e)}addRawAlert(e){var t,n,r;this._compat.dispatchEvent("suggestionAdded",[(t=e,Lb(Lb({},t),{displayType:zw(t),sortOrder:jw(t),priority:parseInt(null!==(n=null===(r=t.extra_properties)||void 0===r?void 0:r.priority)&&void 0!==n?n:"0",10)||0}))])}addAlert(e){this._compat.dispatchEvent("suggestionAdded",[e])}removeAlert(e){this._compat.dispatchEvent("suggestionRemoved",[{id:e}])}getAllAlerts(){return this._suggestions.state.suggestions}}var AS="grammarly-editor-plugin-mirror",RS="grammarly-editor-plugin",PS={emogenie:"emogenie_check",fullSentenceRewrite:"full_sentence_rewrite_card",plagiarism:"plagiarism_alerts_update",readability:"readability_check",sentenceVariety:"sentence_variety_check",tone:"tone_cards",textStats:"text_info"},LS={emogenie:!1,tone:!0,plagiarism:!1,fullSentenceRewrite:!0,readability:!0,sentenceVariety:!0,textStats:!0};var MS={Variety:!0,Vocabulary:!0,Fluency:!0,OxfordComma:!1,UnnecessaryEllipses:!1,PunctuationWithQuotation:!0,StylisticFragments:!1,InformalPronounsAcademic:!1,ConjunctionAtStartOfSentence:!1,PrepositionAtTheEndOfSentence:!1,SplitInfinitive:!0,MissingSpaces:!0,PassiveVoice:!1,ReadabilityFillerwords:!0,ReadabilityTransforms:!0,PersonFirstLanguage:!0,PossiblyBiasedLanguageGenderRelated:!0,PossiblyBiasedLanguageLgbtRelated:!0,PossiblyOutdatedLanguageLgbtRelated:!0,ReclaimedLanguage:!0,PossiblyBiasedLanguage:!0,NumbersZeroThroughTen:!0,NumbersBeginningSentences:!0};function DS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=Lb(Lb({},MS),e);for(var[r,i]of Object.entries(n))i||t.push(r);return t}function FS(e){if(null==e||"auto-text"===e)return"undefined";if("auto-browser"===e||"auto"===e){var{locale:t}=Intl.NumberFormat().resolvedOptions();switch(t){case"en-GB":case"en-IN":return"british";case"en-AU":case"en-NZ":return"australian";case"en-CA":return"canadian"}return"undefined"}return e}var zS={};zS[zS.UNKNOWN=0]="UNKNOWN",zS[zS.INCORRECT=1]="INCORRECT",zS[zS.OFFENSIVE=2]="OFFENSIVE";var BS={EMOTION_DISLIKE:"tone.dislike",EMOTION_LIKE:"tone.like",EMOTION_OFFENSIVE:"tone.offensive"};function jS(){return(jS=Fb((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return yield new Promise((t=>setTimeout(t,e)))}))).apply(this,arguments)}class HS extends nw{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Mb(this,"_logger",wS.getLogger("CAPI")),Mb(this,"lastSyncedAt",0),Mb(this,"isSyncing",!1),Mb(this,"isPaused",!0),Mb(this,"authService",void 0),Mb(this,"options",void 0),Mb(this,"text",{local:new sc,remote:new sc}),Mb(this,"connection",void 0),Mb(this,"connectionPromise",void 0),Mb(this,"connectionRetries",0),this.authService=e,this.options=t}setConfig(e){this.options=null!=e?e:{}}get checkingStatus(){var e;return null===(e=this.connection)||void 0===e?void 0:e.client.checkingState}get socket(){return this.connection}setText(e){this.text.local="string"==typeof e?(new sc).insert(e):new sc(e.ops),this._sync()}pause(){this.isPaused=!0}resume(){this.isPaused&&(this._logger.debug("Resume"),this.isPaused=!1,this._sync())}disconnect(){var e=this;return Fb((function*(){e._logger.debug("Disconnect"),e.pause();var{connection:t,connectionPromise:n}=e;e.connectionPromise=void 0,e.connection=void 0,e.text.remote=new sc,e.isSyncing=!1;try{if(null==t||t.isDisconnected){if(null!=n){var r=yield n;null==r||r.isDisconnected||(yield r.close())}}else yield t.close()}catch(t){e._logger.error(t,"Error while disconnecting")}}))()}acceptSuggestion(e,t){var n=this;return Fb((function*(){wS.count("alert.accept"),yield n._sendFeedback({kind:"ACCEPTED",id:e,alternativeIndex:t})}))()}muteCategories(e){var t=this;return Fb((function*(){e.length&&(yield t._sendFeedback({kind:"MUTE",userMuteScope:"SESSION",userMuteCategories:e}))}))()}unmuteCategories(e){var t=this;return Fb((function*(){e.length&&(yield t._sendFeedback({kind:"UNMUTE",userMuteScope:"SESSION",userMuteCategories:e}))}))()}rejectSuggestion(e,t){var n=this;return Fb((function*(){var r,i;switch(t){case zS.INCORRECT:r="alert.reject.incorrect",i={kind:"WRONG_SUGGESTION",id:e};break;case zS.OFFENSIVE:r="alert.reject.offensive",i={kind:"OFFENSIVE_CONTENT",id:e};break;case zS.UNKNOWN:default:r="alert.reject",i={kind:"IGNORE",id:e}}wS.count(r),yield n._sendFeedback(i)}))()}provideToneFeedback(e,t){var n=this;return Fb((function*(){wS.count(BS[t]),yield n._sendFeedback({kind:t,emotionName:e})}))()}setPlagiarism(e){var t=this;return Fb((function*(){yield t._withConnection(function(){var t=Fb((function*(t){e?yield t.client.enablePlagiarismSearch():yield t.client.disablePlagiarismSearch()}));return function(e){return t.apply(this,arguments)}}())}))()}_getConnection(){var e=this;return Fb((function*(){if(!e.isPaused){if(null!=e.connection){if(!e.connection.isIdle&&!e.connection.isDisconnected)return e.connection;e.connection=void 0}return null==e.connectionPromise&&(e.connectionPromise=e._connect()),yield e.connectionPromise.then((t=>(e.connection=t,e.connectionPromise=void 0,t))).catch((t=>{e._onFatalError(t),e.connection=void 0,e.connectionPromise=void 0}))}}))()}_withConnection(e){var t=this;return Fb((function*(){var n=yield t._getConnection();if(null!=n)try{return yield e(n)}catch(e){t.emit("error",e)}}))()}_getCapiConnectionOptions(){var{context:e,dialect:t}=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{dialect:n,domain:r}=null!==(e=t.document)&&void 0!==e?e:{},i=FS(n),o={domain:r?Nb(r):Ab,dialect:i&&"undefined"!==i?Nb(i):Ab,audience:Ab,emotions:Ab,goals:Ab,style:Ab};return{dialect:i,context:o}}(this.options),n={partnerConfiguration:{muteCategories:DS(this.options.suggestions)}};return{client:zb,clientVersion:Bb,context:e,dialect:t,startSessionOptions:n,clientSupports:Object.keys(LS).reduce(((e,t)=>(LS[t]&&e.push(PS[t]),e)),["user_mutes","vox_check"]),extDomain:Wb(),handler:Lb({onError:e=>{2===e.severity?this._onFatalError(new Error("CAPI Error(".concat(e.error,")"))):this._logger.warn("CAPI Error",e)},onFinish:()=>{this._publishState()},onAsyncCheckFinish:()=>{this._publishState()},onRemove:e=>this.emit("suggestionRemoved",e),onAlert:e=>this.emit("suggestionAdded",e),onEmotions:e=>this.emit("emotions",e)},null==this.options.onTextStats?{}:{onTextInfo:e=>this.emit("textInfo",e)})}}_connect(){var e=this;return Fb((function*(){if(e.connectionRetries>3)throw new Error("Cannot connect to Grammarly");++e.connectionRetries;var t=e._getCapiConnectionOptions(),n=Ol.create(),r=new Sl(t,function(){var t=Fb((function*(t){var n=yield e.authService.getAccessToken();return yield t.connect("".concat(Vb("capi"),"?accessToken=").concat(n))}));return function(e){return t.apply(this,arguments)}}(),n),{local:i}=e.text;return e._logger.info("connecting to CAPI",{clientId:e.authService.getClientId()}),wS.count("connect"),yield r.connect((()=>Tb.unsafeGet(rc.res(i)))),e.lastSyncedAt=Date.now(),e.text.remote=i,e.connectionRetries=0,yield r.client.setSessionOption({kind:"gnar_containerId",id:cS()})(),r}))()}_sync(){var e=this;return Fb((function*(){if(!e.isSyncing&&!e.isPaused&&e.text.remote!==e.text.local){e.isSyncing=!0;try{yield e._withConnection(function(){var t=Fb((function*(t){var{local:n,remote:r}=e.text,i=rc.delta(r.diff(n),r.length()),o=Date.now(),a=o-e.lastSyncedAt<4e3,s=function(e){var t=e.delta.ops.filter((e=>!("retain"in e)));if(1!==t.length)return!1;var n=t[0];if("insert"in n)return"string"==typeof n.insert&&!/[^a-z]/i.test(n.insert);if("delete"in n)return n.delete<=3;return!1}(i);if(i.isEmpty)e.lastSyncedAt=o,e.text.remote=n,e._publishState();else if(a&&s)yield function(){return jS.apply(this,arguments)}();else{e.lastSyncedAt=o,e.text.remote=n;var u=yield t.client.pushChanges(i)();if("Left"===u._tag)throw u.left;e._publishState()}}));return function(e){return t.apply(this,arguments)}}())}catch(t){e._onFatalError(t)}e.isSyncing=!1,null!=e.connection&&e._sync()}}))()}_publishState(){var e=this;return Fb((function*(){yield e._withConnection(function(){var t=Fb((function*(t){var n="idle"===t.client.checkingState?"idle":"checking";e.emit("status",n)}));return function(e){return t.apply(this,arguments)}}())}))()}_sendFeedback(e){var t=this;return Fb((function*(){yield t._withConnection(function(){var t=Fb((function*(t){yield t.client.sendFeedback(e)()}));return function(e){return t.apply(this,arguments)}}())}))()}_onFatalError(e){var t;this.emit("error",e),null===(t=this.connection)||void 0===t||t.close(),this.text.remote=new sc,this.connection=void 0,this.connectionPromise=void 0}}function US(e){var{sessionStats:t}=e;return{duration:t.durationSeconds,wordsChecked:t.checkedWords,suggestionsSent:t.alertsStats.sent,suggestionsAccepted:t.alertsStats.accepted}}var VS="com.grammarly.plugin.userFeedback";class WS{constructor(e){Mb(this,"_logger",wS.getLogger("FeedbackService")),Mb(this,"authService",void 0),Mb(this,"hasRequested",!1),this.authService=e}shouldRequestUserFeedback(e){var t=localStorage.getItem(VS);if(this.hasRequested)return null==t&&this._logger.warn("Multiple feedback request with missing localstorage",{isBrave:void 0!==navigator.brave,actionsObserved:e}),!1;var n=null!=t?parseInt(t,10):0;return e>4&&Date.now()-n>2592e6}submitFeedback(e){var t=this;return Fb((function*(){var n=Vb("feedback"),r=yield t.authService.getAccessToken(),i=yield fetch(n,{headers:{"content-type":"application/json",authorization:"Bearer "+r},method:"POST",mode:"cors",credentials:"omit",body:JSON.stringify(e)});if(200!==i.status)throw new Error("submit feedback failed:".concat(i.status,":").concat(yield i.text()))}))()}recordFeedbackRequest(){try{this.hasRequested=!0,localStorage.setItem(VS,String(Date.now()))}catch(e){this._logger.error(e,"Error while recording feedback request")}}}var GS=["error","disabledByExtension","disabledByUser"];function qS(e){return GS.includes(e)}var $S={encode:e=>e,decode:e=>e,getOriginalPosition:e=>e,getTransformedPosition:e=>e};class KS extends nw{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S;super(),Mb(this,"state",{transformedPlainText:"",originalText:new sc,transformedText:new sc,length:0}),Mb(this,"transformer",void 0),this.transformer=e}get delta(){return this.state.transformedText}get textLength(){return this.state.length}setText(e,t){"string"==typeof e&&(e=(new sc).insert(e));var n,r=this.transformer.encode(e),i=r.length();if(null!=t)if("number"==typeof t)n=this.transformer.getTransformedPosition(t);else{var o=this.transformer.getTransformedPosition(t.oldRange.index),a=this.transformer.getTransformedPosition(t.newRange.index);n={oldRange:{index:o,length:this.transformer.getOriginalPosition(t.oldRange.index+t.oldRange.length)-o},newRange:{index:a,length:this.transformer.getTransformedPosition(t.newRange.index+t.newRange.length)-a}}}var s=this.delta.diff(r,n);if(0!==s.length()){var u=this.delta,c=this.textLength;this.state.originalText=e,this.state.transformedText=r,this.state.length=i,this.state.transformedPlainText=null,this.emit("change",{changes:s,previous:{delta:u,textLength:c},next:this})}}applyEdits(e){if(0!==e.ops.length){var t=new sc(this.state.originalText),n=this.transformer.encode(t),r=this.delta,i=this.textLength;this.state.originalText=t,this.state.transformedText=n,this.state.length=n.length(),this.state.transformedPlainText=null,this.emit("change",{changes:e,previous:{delta:r,textLength:i},next:this})}}toText(){return null==this.state.transformedPlainText&&(this.state.transformedPlainText=Gw(this.delta)),this.state.transformedPlainText}getOriginalText(e){var t=this.delta.compose(e);return this.transformer.decode(t)}reset(){this.state.originalText=new sc,this.state.transformedText=new sc,this.state.transformedPlainText="",this.state.length=0}}var YS=new Map;function QS(){return(QS=Fb((function*(e){var t,n=null!==(t=YS.get(e))&&void 0!==t?t:xw(Fb((function*(){return yield uw("".concat(Vb("clientInfo"),"/").concat(e))})));return YS.set(e,n),yield n()}))).apply(this,arguments)}function JS(e){return btoa(function(e){return String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))}(e)).replace(/[=]+$/,"").replace(/[+]/g,"-").replace(/[/]/g,"_")}class ZS{constructor(e){Mb(this,"_clientId",void 0),this._clientId=e}authenticate(){var e=this;return Fb((function*(){var t,{result:n,error:r}=yield function(e){return Ew.apply(this,arguments)}({maxRetries:7,fn:(t=Fb((function*(t){var{tryNo:n,abort:r}=t;try{var i=Vb("anonymousToken")+(n>0?"?retry=".concat(n):""),o=yield uw(i,{method:"POST",body:JSON.stringify({client_id:e._clientId,grant_type:"urn:ietf:params:oauth:grant-type:origin"})});return{accessToken:o.access_token,refreshToken:o.refresh_token,expiresAt:Date.now()+o.expires_in}}catch(e){throw e instanceof sw&&(function(e){400===e.status&&"Invalid origin"===e.message&&console.info("The current origin (".concat(window.location.origin,") has not been allowed for the Grammarly Editor SDK"))}(e),e.status>=400&&e.status<=499&&429!==e.status&&r()),e}})),function(e){return t.apply(this,arguments)})});if(null!=n)return n;if(null!=r)throw r;throw new aw(aw.codes.UNKNOWN)}))()}}var XS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ex(e,t,n,r,i){for(var o,a,s,u,c,l,f,d,h,p,g,m,v;i>=64;){for(o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7],p=0;p<16;p++)g=r+4*p,e[p]=(255&n[g])<<24|(255&n[g+1])<<16|(255&n[g+2])<<8|255&n[g+3];for(p=16;p<64;p++)m=((h=e[p-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,v=((h=e[p-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,e[p]=(m+e[p-7]|0)+(v+e[p-16]|0);for(p=0;p<64;p++)m=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&f)|0)+(d+(XS[p]+e[p]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&s^a&s)|0,d=f,f=l,l=c,c=u+m|0,u=s,s=a,a=o,o=m+v|0;t[0]+=o,t[1]+=a,t[2]+=s,t[3]+=u,t[4]+=c,t[5]+=l,t[6]+=f,t[7]+=d,r+=64,i-=64}return r}class tx{constructor(){Mb(this,"digestLength",32),Mb(this,"blockSize",64),Mb(this,"state",new Int32Array(8)),Mb(this,"temp",new Int32Array(64)),Mb(this,"buffer",new Uint8Array(128)),Mb(this,"bufferLength",0),Mb(this,"bytesHashed",0),Mb(this,"finished",!1),this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(ex(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=ex(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this}finish(e){if(!this.finished){var t=this.bytesHashed,n=this.bufferLength,r=t/536870912|0,i=t<<3,o=t%64<56?64:128;this.buffer[n]=128;for(var a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=i>>>24&255,this.buffer[o-3]=i>>>16&255,this.buffer[o-2]=i>>>8&255,this.buffer[o-1]=i>>>0&255,ex(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(var s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this}digest(){var e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}function nx(e){var t=(new tx).update(e),n=t.digest();return t.clean(),n}class rx{constructor(e){Mb(this,"_clientId",void 0),this._clientId=e}createAuthorizationRequest(e){var t=this;return Fb((function*(){var{scopes:n,redirectUri:r,mode:i,state:o}=e,a=function(e){var t=new Uint16Array(e);return JS(crypto.getRandomValues(t))}(32),s=yield function(e){return ix.apply(this,arguments)}(a),u=Vb("consentScreen");return{origin:new URL(u).origin,authorizeUrl:"".concat(u,"?")+["scopes=".concat(encodeURIComponent(n.join(" "))),"redirect_uri=".concat(encodeURIComponent(r)),"client_id=".concat(t._clientId),"response_mode=".concat(i),"code_challenge=".concat(encodeURIComponent(s)),"state=".concat(encodeURIComponent(null!=o?o:""))].join("&"),codeVerifier:a}}))()}exchangeCode(e,t){var n=this;return Fb((function*(){var r=yield uw(Vb("oauth2Token"),{method:"POST",body:JSON.stringify({client_id:n._clientId,grant_type:"authorization_code",authorization_code:e,code_verifier:t})});return n._toTokenPair(r)}))()}refresh(e){var t=this;return Fb((function*(){var n=yield uw(Vb("oauth2Token"),{method:"POST",body:JSON.stringify({client_id:t._clientId,grant_type:"refresh_token",refresh_token:e})});return t._toTokenPair(n)}))()}_toTokenPair(e){return{accessToken:e.access_token,refreshToken:e.refresh_token,expiresAt:Date.now()+18e4}}}function ix(){return(ix=Fb((function*(e){var t=(new TextEncoder).encode(e);return"undefined"==typeof crypto||void 0===crypto.subtle?JS(nx(t)):JS(yield crypto.subtle.digest("SHA-256",t))}))).apply(this,arguments)}var ox=new Nw(class{constructor(){Mb(this,"tokens",null),Mb(this,"tokensPromise",null)}}),ax="com.grammarly.plugin.refresh_token",sx="com.grammarly.plugin.connected_account";class ux extends class{constructor(e,t){Mb(this,"_storage",void 0),Mb(this,"_state",void 0),Mb(this,"_oauth",void 0),Mb(this,"_anonymous",void 0),Mb(this,"_session",void 0),Mb(this,"_logger",wS.getLogger("AuthManager")),Mb(this,"_clientId",void 0),Mb(this,"_isReady",void 0),this._clientId=e,this._storage=t,this._oauth=new rx(e),this._anonymous=new ZS(e),this._session=ox.getInstance(),this._state=_w({clientInfo:null,user:null,activeRequest:null,connectedAccountStatus:t.getItem(sx)}),this._isReady=new Promise((t=>{(function(e){return QS.apply(this,arguments)})(e).then((e=>{this._state.clientInfo=e})).catch((e=>{this._logger.error(e)})).finally((()=>t()))}))}get state(){return this._state}getAccessToken(){var e=this;return Fb((function*(){return yield e.createAccessToken()}))()}createAccessToken(){var e=this;return Fb((function*(){if(null!=e._session.tokens&&Date.now()<e._session.tokens.expiresAt)return e._session.tokens.accessToken;if(null!=e._session.tokensPromise){var t,n,{accessToken:r}=yield e._session.tokensPromise.promise;return null!==(t=null===(n=e._session.tokens)||void 0===n?void 0:n.accessToken)&&void 0!==t?t:r}e._session.tokens=null;var i,o,a=(i=e._authenticate(),o=!1,{promise:i,get isCancelled(){return o},cancel(){o=!0}});e._session.tokensPromise=a;var s=yield a.promise;return e._session.tokensPromise.isCancelled||(yield e._onLoginSuccess(s)),e._session.tokensPromise=null,s.accessToken}))()}setAccountStatus(e){var t=this;return Fb((function*(){yield t._handleConnectedAccountStatusChange(e)}))()}createOAuthRequest(e){var t=this;return Fb((function*(){var n;if(yield t._isReady,!0!==(null===(n=t._state.clientInfo)||void 0===n?void 0:n.oauthEnabled))return null;switch(t._state.clientInfo.type){case"Desktop":e.mode="redirect";break;case"Web":e.mode="web_message"}return yield t._oauth.createAuthorizationRequest(e)}))()}handleOAuthCallback(e){var t=this;return Fb((function*(){var n,{code:r,codeVerifier:i}=e;i===(null===(n=t._state.activeRequest)||void 0===n?void 0:n.codeVerifier)&&(t._state.activeRequest=null);try{var o,a=yield t._oauth.exchangeCode(r,i);null===(o=t._session.tokensPromise)||void 0===o||o.cancel(),yield t._onLoginSuccess(a)}catch(e){yield t._handleConnectedAccountStatusChange("failed"),t._logger.count("auth.failed")}}))()}logout(){var e=this;return Fb((function*(){var t;null===(t=e._session.tokensPromise)||void 0===t||t.cancel(),yield vw(e._storage,ax,(()=>{e._storage.removeItem(ax)})),e._session.tokens=null,e._state.user=null,yield e._handleConnectedAccountStatusChange(null)}))()}getAccountStatus(){return this._state.connectedAccountStatus}getAuthorizeUrl(e){var t=this;return Fb((function*(){return yield t.createOAuthRequest(e)}))()}exchangeAuthorizationCode(e,t){var n=this;return Fb((function*(){yield n.handleOAuthCallback({code:e,codeVerifier:t})}))()}getClientId(){return this._clientId}getUser(){return this._state.user}getAppId(){var e,t;return null!==(e=null===(t=this._state.clientInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:null}setActiveOAuthRequest(e){this._state.activeRequest=e}_handleConnectedAccountStatusChange(e){var t=this;return Fb((function*(){yield vw(t._storage,sx,(()=>{null==e?t._storage.removeItem(sx):t._storage.setItem(sx,e),t._state.connectedAccountStatus=e}))}))()}_onLoginSuccess(e){var t=this;return Fb((function*(){yield t._saveRefreshToken(e.refreshToken);var{sub:n}=JSON.parse(atob(e.accessToken.split(".")[1]));t._session.tokens=e,t._state.user={id:n,isAnonymous:n.startsWith("-")},wS.setContext({userId:n}),t._state.user.isAnonymous?"connected"===t._state.connectedAccountStatus&&(yield t._handleConnectedAccountStatusChange("disconnected")):yield t._handleConnectedAccountStatusChange("connected")}))()}_saveRefreshToken(e){var t=this;return Fb((function*(){yield vw(t._storage,ax,(()=>{t._storage.setItem(ax,e)}))}))()}_authenticate(){var e=this;return Fb((function*(){var t;if(null!=e._storage.getItem(ax)&&(yield vw(e._storage,ax,Fb((function*(){var n="com.grammarly.plugin.refresh_token_worker.",r=n+hw();e._storage.setItem(r,String(Date.now()));var i=e._storage.getItem(ax);if(null!=i)try{t=yield e._oauth.refresh(i)}catch(t){if(t instanceof sw&&500===t.status&&"Unable to update token"===t.message){for(var o=[],a=0;a<e._storage.length;++a){var s=e._storage.key(a);!0===(null==s?void 0:s.startsWith(n))&&o.push(s)}e._logger.warn("Possible refreshToken reuse",{lock:[e._storage.getItem(ax+"__$$MUTEX_x"),e._storage.getItem(ax+"__$$MUTEX_y")],threads:o.map((t=>({id:t,startedAt:e._storage.getItem(t)})))})}e._storage.removeItem(ax)}e._storage.removeItem(r)}))),null!=t))return t;return yield e._anonymous.authenticate()}))()}}{constructor(e){var{clientId:t}=e;super(t,localStorage),Mb(this,"events",new nw),wS.setContext({clientId:t}),this.state.addEventListener("user",(e=>{var t=e.detail.value,n=e.detail.previousValue;this.events.dispatchEvent("userTokenChange",null),null!=t&&null!=n&&t.isAnonymous!==n.isAnonymous&&this.events.dispatchEvent("reconnect",null)})),this.state.addEventListener("connectedAccountStatus",(()=>{this.events.dispatchEvent("userAccountStatusChange",null)})),this.state.addEventListener("clientInfo",(()=>{this.events.dispatchEvent("userAccountStatusChange",null)}))}addEventListener(e,t){this.events.addEventListener(e,t)}removeEventListener(e,t){this.events.removeEventListener(e,t)}}wS.init();const cx={textContent:""};function lx(e){let t;return()=>t??(t=e())}Tf(cx);const fx=lx((()=>/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent))),dx=lx((()=>px()&&window.screen.width<600)),hx=lx((()=>"undefined"!=typeof matchMedia?!matchMedia("(any-hover: none)").matches:(wS.count("unsupported.matchMedia"),!0))),px=lx((()=>"ontouchstart"in window||navigator.maxTouchPoints>0)),gx=lx((()=>"undefined"!=typeof customElements)),mx=(()=>{const e=new Set;return t=>{e.has(t)||(e.add(t),console.warn(t))}})(),vx="Unsupported browser, https://developer.grammarly.com/docs/faq#which-browsers-are-supported";function yx(e,t,n=e,r=t,i={adjustToContain:!1}){const o=document.createRange();i.adjustToContain&&(t=Ww(e)?Math.min(e.length-1,t):Math.min(e.childNodes.length-1,t),r=Ww(n)?Math.min(n.length-1,r):Math.min(n.childNodes.length-1,r));try{o.setStart(e,t),o.setEnd(n,r)}catch(e){ew.error(e)}return o}function _x(){return document.createRange()}function bx(e){const t=e.tagName.toLowerCase(),n=e.getAttribute("type");return"input"===t&&(null==n||"text"===n)}function wx(e){return function(e){return"textarea"===e.tagName.toLowerCase()}(e)||bx(e)}class Sx extends HTMLElement{static create(){return function(e){try{return null!=customElements.get(e)}catch{return!1}}(AS)||customElements.define(AS,Sx),document.createElement(AS)}}const xx=/^(length|parentRule|getPropertyPriority|getPropertyValue|item|removeProperty|setProperty)$/,Ex=/^(position|top|left|bottom|right|max-width|max-height|transform|max-inline-size|inline-size|max-block-size|block-size|margin-(top|right|bottom|left|(block|inline)(|-start|-end))|margin)$/;const Cx=new WeakMap;class kx{container;mutationObserver;resizeObserver;renderWorker=Mw((()=>this.render()));_rect=null;_padding=null;mirror;contents;static getManager(e){return Cx.get(e)??null}static createManager(e,t=(()=>{})){return this.getManager(e)??new kx(e,t)}get rect(){return this._rect??(this._rect=this.source.getBoundingClientRect())}get padding(){return this._padding??(this._padding=this._measurePadding())}source;_onRender;constructor(e,t){this.source=e,this._onRender=t,this.container=Sx.create(),this.mirror=document.createElement("div"),this.contents=document.createTextNode(this.source.value),this.mutationObserver=new MutationObserver((()=>{this.renderWorker.queue()})),this.resizeObserver=new ResizeObserver((()=>{this.renderWorker.queue()})),this.source.addEventListener("input",this.doQueueRender),this.source.addEventListener("change",this.doQueueRender),this.mutationObserver.observe(this.source,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.source);let n=this.source.offsetParent;for(;null!=n;)this.resizeObserver.observe(n),n=n.offsetParent;this.container.setAttribute("aria-hidden","true"),this.container.setAttribute("style","position: fixed; width: 0; top: 0; height: 0; overflow: hidden; pointer-events: none; transform: translateZ(0)"),this.mirror.appendChild(this.contents),this.container.attachShadow({mode:"open"}).appendChild(this.mirror),Cx.set(this.source,this);(this.source.ownerDocument.body.parentNode??this.source.ownerDocument.body).append(this.container)}getRange(){return null!=this.source.selectionStart&&null!=this.source.selectionEnd?yx(this.contents,this.source.selectionStart,this.contents,this.source.selectionEnd):_x()}render(){const e=this._getComputedStyle();for(let n=0;n<e.length;++n){const r=e.item(n),i=e[r]??e.getPropertyValue(r);t=r,xx.test(t)||Ex.test(t)||(this.mirror.style[r]=i)}var t;if(this._rect=null,this.mirror.style.height=`${this._getHeight(e)}px`,this.mirror.style.width=`${this._getWidth(e)}px`,this.mirror.style.display="inline"===e.display?"inline-block":e.display,this.mirror.style.boxSizing="border-box","INPUT"===this.source.tagName){if(this.mirror.style.whiteSpace="nowrap",fx()&&"auto"===e.overflow){const t=this.source.clientHeight,n=Tx(e.lineHeight),r=Tx(e.paddingTop),i=(t-(n+Tx(e.paddingBottom)+r))/2;this.mirror.style.paddingTop=`${r+Math.max(0,i)}px`}}else this.mirror.style.overflow="visible",this.mirror.style.whiteSpace="pre-wrap";this.contents.nodeValue=this.source.value,this._onRender()}doQueueRender=()=>{this.renderWorker.queue()};_getHeight(e){return this.source.clientHeight+Tx(e.borderTopWidth)+Tx(e.borderBottomWidth)}_getWidth(e){return this.source.clientWidth+Tx(e.borderLeftWidth)+Tx(e.borderRightWidth)}_getComputedStyle(){return(this.source.ownerDocument.defaultView??window).getComputedStyle(this.source)}disconnect(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.container.remove(),this.source.removeEventListener("input",this.doQueueRender),this.source.removeEventListener("change",this.doQueueRender),Cx.delete(this.source)}_measurePadding(){const e=this._getComputedStyle();return{top:Tx(e.paddingTop),right:Tx(e.paddingRight),bottom:Tx(e.paddingBottom),left:Tx(e.paddingLeft)}}}function Tx(e){const t=parseFloat(e);return Number.isNaN(t)?0:t}class Ix extends KS{_editor;offsets=[];cleanup=[];_logger=wS.getLogger("TextEditorManager");get editor(){if(null==this._editor)throw new aw(aw.codes.EDITOR_UNATTACHED);return this._editor}connect(e){if(this._editor!==e){if(wx(e)){let t,n;const r=()=>{const{offsets:r,delta:i}=function(e){var t=new sc;if("string"==typeof e)t.insert(e);else if(e.nodeType===Node.ELEMENT_NODE){var n=e;n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement?t.insert(n.value):t.insert(n.textContent)}else t.insert(e.textContent);return{delta:t,offsets:[],inverseOffsets:new Map}}(e);this.offsets=r,null!=e.selectionStart&&null!=e.selectionEnd&&(n={index:Math.min(e.selectionStart,e.selectionEnd),length:Math.abs(e.selectionEnd-e.selectionStart)}),null!=t&&null!=n?this.setText(i,{oldRange:t,newRange:n}):this.setText(i),t=n};e.addEventListener("input",r,{passive:!0}),e.addEventListener("change",r,{passive:!0}),r(),this.cleanup.push((()=>{e.removeEventListener("input",r),e.removeEventListener("change",r)}))}else{let t,n;const r=()=>{const{offsets:r,inverseOffsets:i,delta:o}=function(e){for(var t,n,r,i,[o,a]=Jw(e),s=new sc,u=document.createTreeWalker(e),c=[],l=new Map,f=0,d=(e,t)=>{if("string"==typeof e?f+=e.length:f++,null!=t){var{linebreak:n}=t,r=Rb(t,["linebreak"]);!0===n?("string"==typeof e?(s.insert(e),s.insert("\n",Lb(Lb({},t),{},{linebreak:!1}))):(s.insert(e,r),s.insert("\n",{linebreak:!1})),f++):s.insert(e,t)}else s.insert(e)},h=[],p=e=>{if(e.nodeType===Node.ELEMENT_NODE){var t=e;if(null!=t.dataset.grammarlySkip)return h.push(t),!0}return!!h.some((t=>t.contains(e)))};null!=(t=u.nextNode());)if(!p(t)&&(i=void 0,Ww(r=t)?!0===(null===(i=r.parentElement)||void 0===i?void 0:i.isContentEditable):r.isContentEditable))if(Ww(t))null!=t.textContent&&(c.push([f,t]),l.set(t,f),d(t.textContent,a(t,t.parentNode)));else if(Uw(t))if("BR"===t.tagName){var g;n=(null===(g=t.parentElement)||void 0===g?void 0:g.firstChild)===t?void 0:o(t),s.insert("\n",Lb(Lb({},n),{},{linebreak:!0})),f++}else""===t.textContent&&s.length()>0&&!Vw(t)&&qw(t,e)&&d("\n",Lb(Lb({},Qw(o(t))),{},{linebreak:!1}));return{delta:s,offsets:c,inverseOffsets:l}}(e);this.offsets=r;const a=e.ownerDocument.getSelection();if(1===a?.rangeCount&&a.getRangeAt(0).collapsed){const{startContainer:e,startOffset:t,endContainer:r,endOffset:o}=a.getRangeAt(0);if(Ww(e)&&Ww(r)){const a=i.get(e),s=i.get(r);if(null!=a&&null!=s){const e=s+o,r=a+t;n={index:Math.min(r,e),length:Math.abs(e-r)}}}}null!=n&&null!=t?this.setText(o,{oldRange:t,newRange:n}):this.setText(o),t=n},i=new MutationObserver((e=>r()));i.observe(e,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),r(),this.cleanup.push((()=>{i.disconnect()}))}this._editor=e}}disconnect(){null!=this._editor&&(this.cleanup.forEach((e=>e())),this.cleanup.length=0,this.reset(),this._editor=void 0)}setText(e,t){performance.mark("encode:start"),super.setText(e),performance.mark("encode:end"),performance.measure("encode","encode:start","encode:end")}getRange(e,t){const n=this.transformer.getOriginalPosition(e),r=this.transformer.getOriginalPosition(t);if(n>r)return this.getRange(r,n);if(wx(this.editor)){const e=kx.getManager(this.editor);return null!=e?yx(e.contents,n,e.contents,r):(this._logger.warn("No mirror element for plain text editor"),_x())}{const e=this._getTextMapping(n);if(null!=e){const t=e[1],i=Math.max(0,n-e[0]);if(n===r)return yx(t,i);{const e=this._getTextMapping(r);if(null!=e){return yx(t,i,e[1],Math.max(0,r-e[0]))}return yx(t,i)}}return _x()}}getPosition(e){return this.getRange(e,e)}_getTextMapping(e){const t=this.offsets;let n=0,r=t.length-1;for(;n<=r;){const i=n+Math.floor((r-n)/2),o=t[i];if(o[0]<=e&&e<=o[0]+o[1].length)return o;e<o[0]?r=i-1:n=i+1}}}class Ox extends nw{managerState=new Map;_lastLoggedGButtonShowEvent;_status="pending";_logger=wS.getLogger("GButtonManager");static primaryManager=null;static instance;static underlinesVisible=iS().showUnderlines;static getInstance(){return Ox.instance||(Ox.instance=new Ox),Ox.instance}constructor(){super()}get status(){return this._status}hasVisibleAlerts(){return!!Ox.underlinesVisible&&Array.from(this.managerState.keys()).some((e=>{const t=this.managerState.get(e);return null!=t&&t.alerts.length>0}))}hasPrimary(){return null!=Ox.primaryManager}isPrimary(e){return Ox.primaryManager===e}setPrimary(e){Ox.primaryManager=e}register(e){if(this.managerState.has(e))return;const t=t=>{const n=this.managerState.get(e);null!=n&&(n.alerts=t.detail,this._publishAlertChanges())},n=()=>{this._handleStatusChange()},r={alerts:[],cleanup:()=>{e.alerts.removeEventListener("change",t),e.removeEventListener("status",n)}};e.alerts.addEventListener("change",t),e.addEventListener("status",n),this.managerState.set(e,r),this._syncManagers()}deregister(e){const t=this.managerState.get(e);null!=t&&(t.cleanup(),this._status="pending",this.managerState.delete(e),Ox.primaryManager===e&&(Ox.primaryManager=null),this._syncManagers())}_syncManagers(){this._handleStatusChange(),this._publishAlertChanges()}_handleStatusChange(){const e=Array.from(this.managerState.keys()).map((e=>e.status)),t=Array.from(new Set(e)),n=(e,t=null)=>{const n=Array.from(this.managerState.keys())[0]?.authService.getClientId();if(null!=n){const r=`${n}:${String(e)}:${String(t)}`;this._lastLoggedGButtonShowEvent!==r&&(null!=t?wS.track("gButtonShow",(()=>[n,e,t])):wS.track("gButtonShow",(()=>[n,e])),this._lastLoggedGButtonShowEvent=r)}};let r;t.includes("error")?(r="error",n(!1,"error")):t.includes("disabledByExtension")?(r="disabledByExtension",n(!1,"extension")):t.includes("disabledByUser")?(r="disabledByUser",n(!1,"user")):t.includes("loading")?r="loading":t.includes("ok")&&(r="ok",n(!0)),null!=r&&r!==this._status&&(this._status=r,this.emit("status",this._status))}_publishAlertChanges(){const e=Array.from(this.managerState.keys()).map((e=>this.managerState.get(e)?.alerts??[])).reduce(((e,t)=>e+t.length),0);this.emit("alertCount",e)}disablePlugin(e){Array.from(this.managerState.keys()).forEach((t=>{t.disablePlugin(e)}))}updateShowUnderlines(e){Ox.underlinesVisible=e,Array.from(this.managerState.keys()).forEach((t=>{e?t.showUnderlines():t.hideUnderlines()}))}_getPageOrderAlerts(){const e=Array.from(this.managerState.keys());e.sort(((e,t)=>function(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}(e.editor,t.editor)));return e.reduce(((e,t)=>{const n=this.managerState.get(t)?.alerts.sort(((e,t)=>e.highlightBegin-t.highlightBegin));return null!=n&&e.push(...n),e}),[])}_scrollToHighlight(e,t){e.editor.scrollIntoView();const n=e.highlights.getHighlightRect(t.id);if(null!=n){const t=bx(e.editor)?{y:e.editor.scrollTop,x:Math.max(0,n.x-24)}:{x:e.editor.scrollLeft,y:Math.max(0,n.y-10)};e.editor.scrollTo(t.x,t.y)}}showFirstHighlight(){if(0===this.managerState.size)return;const e=this._getPageOrderAlerts();if(!e.length)return;const t=e[0];Array.from(this.managerState.keys()).forEach((e=>{if(!0===this.managerState.get(e)?.alerts.some((e=>e===t))){e.highlights.displayMode="all",this._scrollToHighlight(e,t);setTimeout((()=>{e.highlights.setActiveHighlight(t.id),e.alerts.setActiveAlert(t.id,"manual")}),100)}else e.highlights.setActiveHighlight(),e.alerts.setActiveAlert(void 0,"manual")}))}}class Nx extends nw{managerState=new Map;currentState=null;static primaryManager=null;static instance;static getInstance(){return Nx.instance||(Nx.instance=new Nx),Nx.instance}constructor(){super()}_logger=wS.getLogger("ToneManager");get emotions(){return this.currentState?.emotions??[]}hasPrimary(){return null!=Nx.primaryManager}isPrimary(e){return Nx.primaryManager===e}setPrimary(e){Nx.primaryManager=e}_emotionsChanged(e,t){return t.length!==e.length||t.some(((t,n)=>!Kb(t,e[n])))}register(e){if(this.managerState.has(e.editor))return;const t=t=>{const n=this.managerState.get(e.editor),r=t.detail.emotions;null!=n&&this._emotionsChanged(n.emotions,r)&&(n.emotions=r,n===this.currentState&&this._publishCurrent())},n={emotions:[],cleanup:()=>{e.connection.removeEventListener("emotions",t),e.editor.removeEventListener("focus",this._handleFocus.bind(this)),e.editor.removeEventListener("blur",this.handleBlur.bind(this))}};e.connection.addEventListener("emotions",t),e.editor.addEventListener("focus",this._handleFocus.bind(this)),e.editor.addEventListener("blur",this.handleBlur.bind(this)),this.managerState.set(e.editor,n),this.currentState||this._handleFocus()}_handleFocus(){this._reset();const e=document.activeElement;if(null==e)return;const t=this.managerState.get(e);t&&(this.currentState=t,this._publishCurrent())}_isInsidePlugin(e){if(null==e)return!1;if(e.closest("grammarly-editor-plugin"))return!0;return"GRAMMARLY-EDITOR-PLUGIN"===e.getRootNode()?.host?.tagName}handleBlur(e){if("dialog"===e.target?.getAttribute("role"))return;const t=e.relatedTarget;this._isInsidePlugin(t)||this._reset()}_reset(){this.currentState=null,this.emit("change",{emotions:[]})}_publishCurrent(){this.currentState&&this.emit("change",{emotions:this.emotions})}deregister(e){const t=this.managerState.get(e.editor);null!=t&&(t.cleanup(),this.managerState.delete(e.editor),Nx.primaryManager===e&&(Nx.primaryManager=null),t===this.currentState&&this._reset())}}function Ax(e){return/^grammarly-(mirror|extension)/i.test(e.nodeName)}function Rx(e){return/^grammarly-desktop-integration/i.test(e.nodeName)}class Px extends nw{extensionLoadedWorker=Mw((e=>{this.publishStatus(e)}),Pw(350));attrObserver;elementObserver;integrationElementObserver;static instance;static getInstance(){return Px.instance||(Px.instance=new Px),Px.instance}constructor(){super(),this.elementObserver=new MutationObserver(this._checkElementMutations.bind(this)),this.integrationElementObserver=new MutationObserver(this._checkIntegrationElementMutations.bind(this)),this.attrObserver=new MutationObserver(this._checkAttributeMutations.bind(this))}_logger=wS.getLogger("ExtensionManager");connect(){location.hostname.endsWith(".csb.app")||location.hostname.endsWith("codesandbox.io")?this.extensionLoadedWorker.queue(!1):(this._checkForEnabledGrammarlyExtension(document.body)&&this.extensionLoadedWorker.queue(!0),null!=document.body&&this.attrObserver.observe(document.body,{attributes:!0}),this.elementObserver.observe(document.documentElement,{childList:!0,subtree:!1}))}disconnect(){this.attrObserver.disconnect(),this.elementObserver.disconnect(),this.integrationElementObserver.disconnect()}references=new Set;isActive=!1;register(e){this.references.add(e),this.isActive||(this.connect(),this.isActive=!0)}deregister(e){this.references.delete(e),0===this.references.size&&(this.disconnect(),this.isActive=!1)}_checkForEnabledGrammarlyExtension(e){if(null==e)return!1;if(null!=document.documentElement.querySelector("grammarly-extension")||null!=document.documentElement.querySelector("grammarly-mirror"))return!0;const t=Object.keys(e.dataset);return t.includes("grExtInstalled")&&!t.includes("grExtDisabled")}_checkIntegrationElementMutations(e){e.forEach((e=>{if("attributes"===e.type&&"data-content"===e.attributeName)try{const t=e.target.dataset.content??"";!0===JSON.parse(t).isUserDisabled?this.extensionLoadedWorker.queue(!1):this.extensionLoadedWorker.queue(!0)}catch(e){}}))}_checkElementMutations(e){e.forEach((e=>{if("childList"!==e.type)return;Array.from(e.addedNodes).some(Ax)?this.extensionLoadedWorker.queue(!0):Array.from(e.removedNodes).some(Ax)&&this.extensionLoadedWorker.queue(!1);const t=Array.from(e.addedNodes).find(Rx);if(null!=t){const e=t.shadowRoot;e&&this.integrationElementObserver.observe(e,{attributeFilter:["data-content"],subtree:!0})}}))}_checkAttributeMutations(e){e.forEach((e=>{"attributes"===e.type&&null!=e.attributeName&&e.attributeName.startsWith("data-gr-ext")&&this.extensionLoadedWorker.queue(this._checkForEnabledGrammarlyExtension(document.body))}))}publishStatus=e=>{this.emit("status",{detected:e})}}const Lx="grammarly-sdk=",Mx={pending:`${Lx}available`,loading:`${Lx}active`,ok:`${Lx}active`,error:`${Lx}unavailable`,disabledByExtension:`${Lx}unavailable`,disabledByUser:`${Lx}unavailable`};function Dx(e){e.classList.forEach((t=>{t.startsWith(Lx)&&e.classList.remove(t)}))}class Fx{element=null;cleanups=[];_logger=wS.getLogger("LlamaManager");connect(e){const t=this.element=e.pluginElement;t.setAttribute("role","group"),t.setAttribute("aria-roledescription","Grammarly-powered editor"),this.cleanups.push((()=>{t.removeAttribute("role"),t.removeAttribute("aria-roledescription")}));const{isEnabled:n}=iS(),r=n?Mx.pending:Mx.disabledByUser;this._setClassFlag(r),this.cleanups.push((()=>{Dx(t),t.removeAttribute("aria-busy")})),e.addEventListener("status",this._onStatusChange.bind(this)),this.cleanups.push((()=>{e.removeEventListener("status",this._onStatusChange.bind(this))}))}_setClassFlag(e){if(null==this.element)return;const t=this.element;t.setAttribute("aria-busy","true"),t.classList.add(e),setTimeout((()=>t.setAttribute("aria-busy","false")),1)}_onStatusChange(e){if(null==this.element)return;const t=Mx[e.detail],n=this.element.classList;null==t||n.contains(t)||(Dx(this.element),this._setClassFlag(t))}disconnect(){this.cleanups.forEach((e=>e())),this.cleanups.length=0,this.element=null}}class zx{constructor(){}static instance;static getInstance(){return this.instance??(this.instance=new zx)}measureTasks=[];mutateTasks=[];async measure(e){return this._schedule(),await new Promise((t=>{this.measureTasks.push((()=>{t(e())}))}))}async mutate(e){return this._schedule(),await new Promise((t=>{this.mutateTasks.push((()=>{t(e())}))}))}isScheduled=!1;_schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame((()=>this.flush())))}flush(){performance.mark("FastDOM.flush:start");const e=this.measureTasks.splice(0),t=this.mutateTasks.splice(0);e.forEach((e=>e())),t.forEach((e=>e())),this.isScheduled=!1,performance.mark("FastDOM.flush:end"),performance.measure("FastDOM.flush","FastDOM.flush:start","FastDOM.flush:end")}clear(){this.measureTasks.length=0,this.mutateTasks.length=0}}class Bx{static create(){return new Bx}element=document.createElement("div");scroller=document.createElement("div");viewport=document.createElement("div");setHeight(e){Iw(this.viewport,"height",`${e}px`)}setWidth(e){Iw(this.viewport,"width",`${e}px`)}setOffset(e,t){Iw(this.viewport,"left",`${e}px`),Iw(this.viewport,"top",`${t}px`)}constructor(){this.element.setAttribute("style","display: block; height: 0; overflow: visible; pointer-events: none"),this.scroller.setAttribute("style","will-change: transform; position: relative"),this.viewport.setAttribute("style","overflow: hidden;mix-blend-mode: darken;box-sizing: content-box;contain: strict;position: absolute"),this.viewport.appendChild(this.scroller),this.element.appendChild(this.viewport)}}const jx=Object.freeze({x:0,y:0,width:0,height:0});function Hx(e,t){return e.x<=t.x&&e.y<=t.y&&t.x<=e.x+e.width&&t.y<=e.y+e.height}class Ux extends nw{_kind="plain";_logger=wS.getLogger("HighlightManager");get kind(){return this._kind}resizeObserver;hasViewportWidthChanged=Vx(Wx);hasEditorWidthChanged=Vx(Wx);highlights=new Map;prevAlerts=[];renderWorker=Mw((e=>this._updateAll(e??this.prevAlerts)),Lw());_target;_editor;_viewport;container;activeHighlightId;dirtyAfterIndex=0;lastScrollState={top:0,left:0};get editor(){if(null==this._editor)throw new aw(aw.codes.EDITOR_UNINITIALIZED);return this._editor}get viewport(){return this._viewport??this.editor}originalSpellCheck=null;get text(){return{delta:this.textManager.delta,offsets:[],inverseOffsets:new Map}}_displayMode=iS().showUnderlines?"corrective":"none";get displayMode(){return this._displayMode}set displayMode(e){this._displayMode!==e&&(this._displayMode=e,this.dirtyAfterIndex=0,this.render())}textManager;constructor(e){super(),this.textManager=e,this.container=Bx.create(),this.textManager.addEventListener("change",(e=>{const{changes:t}=e.detail,n=t.ops.find((e=>"retain"in e))?.retain;this.dirtyAfterIndex=Math.min(this.dirtyAfterIndex,n??0),this.render(),this._setActiveHighlightWithMouse()})),this.resizeObserver=new ResizeObserver((e=>{e.some((e=>e.target===this._editor?this.hasEditorWidthChanged(e):this.hasViewportWidthChanged(e)))&&(this.dirtyAfterIndex=0),this.synchronizeViewport(),this.render()}))}_isConnected=!1;get isConnected(){return this._isConnected}connect(e){if(this.isConnected&&this.disconnect(),null!=e)e.replaceWith(this.container.element),this._target=e;else{if(null==this.editor.parentElement)throw new aw(iw.EDITOR_UNATTACHED);this.editor.parentElement.insertBefore(this.container.element,this.editor)}this._isConnected=!0}disconnect(){this.isConnected&&(null!=this._target?(this.container.element.replaceWith(this._target),this._target=void 0):this.container.element.remove()),this._isConnected=!1}setViewport(e){this._viewport!==e&&(this.clearViewport(),this.lastScrollState={top:e.scrollTop,left:e.scrollLeft},e.addEventListener("scroll",this.onScrollEvent,{passive:!0}),"INPUT"===e.tagName&&fx()&&(e.addEventListener("keydown",this.onKeyboardScroll,{passive:!0}),e.addEventListener("keyup",this.onKeyboardScroll,{passive:!0})),e.addEventListener("mousemove",this.onMouseEvent,{passive:!0}),e.addEventListener("mouseleave",this.onMouseLeaveEvent,{passive:!0}),this._viewport=e,this.resizeObserver.observe(e),this.render())}clearViewport(){null!=this._viewport&&(this._viewport.removeEventListener("scroll",this.onScrollEvent),this._viewport.removeEventListener("keydown",this.onKeyboardScroll),this._viewport.removeEventListener("keyup",this.onKeyboardScroll),this._viewport.removeEventListener("mousemove",this.onMouseEvent),this._viewport.removeEventListener("mouseleave",this.onMouseLeaveEvent),this.resizeObserver.unobserve(this._viewport),this._viewport=void 0)}setEditor(e){this._editor!==e&&(this.clearEditor(),this._editor=e,this._kind=wx(e)?"plain":"rich",this.originalSpellCheck=e.getAttribute("spellcheck"),e.spellcheck=!1,wx(e)&&kx.createManager(e,(()=>{this.dirtyAfterIndex=0,this.render()})),this.resizeObserver.observe(e),null==this._viewport&&this.setViewport(e),this.render())}clearEditor(){if(null!=this._editor){const e=kx.getManager(this._editor);null!=e&&e.disconnect(),this.resizeObserver.unobserve(this._editor),null!=this.originalSpellCheck?this._editor.setAttribute("spellcheck",this.originalSpellCheck):this._editor.removeAttribute("spellcheck"),this._editor=void 0,this._updateAll([])}}render(e){this.isConnected&&null!=this._viewport&&(performance.mark("queue.render"),null!=e&&(this.renderWorker.cancel(),this._setAlerts(e)),this.renderWorker.queue())}getHighlight(e){return this.highlights.get(e)}getHighlightRect(e){const t=this.highlights.get(e);return null==t?null:t.boundingClientRect}setHoverState(e,t){const n=this.getHighlight(e);null!=n&&(t?n.element.classList.add("hover"):n.element.classList.remove("hover"))}currentReferenceClientRect;_updateAll(e){const t=performance.now();performance.mark(`render.higlight:start-${t}`),this._setAlerts(e),this._createRenderTask(e).then((()=>{performance.mark(`render.higlight:end-${t}`),performance.measure("render.highlight",`render.higlight:start-${t}`,`render.higlight:end-${t}`)}))}renderCandidates=[];dom=zx.getInstance();_setAlerts(e){if(this.prevAlerts!==e){this.prevAlerts=e,"none"!==this.displayMode&&e.length>0&&!e.some((e=>"critical"===e.displayType))&&(this.displayMode="all");const t=new Set(e.map((e=>e.id)));this.highlights.forEach(((e,n)=>{t.has(n)||(this.dom.mutate((()=>{e.element.remove()})),this.highlights.delete(n))}))}}async _createRenderTask(e){const t={x:this.viewport.scrollLeft,y:this.viewport.scrollTop,height:this._viewportOffset.height,width:this._viewportOffset.width};this.dom.measure((()=>{this.currentReferenceClientRect=this.container.element.getBoundingClientRect()}));const n=new Set,r=new Set(this.renderCandidates);e.forEach((e=>{const i=this.highlights.get(e.id);if(null==i)this._shouldDisplayAlert(e)&&n.add(e);else{if(this._shouldDisplayAlert(e))(this.dirtyAfterIndex<=e.highlightBegin||i.alert!==e)&&(Hx(t,i.boundingClientRect)?n.add(e):r.has(e.id)||this.renderCandidates.push(e.id));else if(i.element.isConnected){const e=i.element;this.dom.mutate((()=>{e.remove()}))}i.alert=e}})),n.forEach((e=>{this._updateHighlight(e)})),this.dirtyAfterIndex=1/0,this._scheduleDelayedRender()}_shouldDisplayAlert(e){return"none"!==this.displayMode&&("all"===this.displayMode||"critical"===e.displayType)}isRendering=!1;_scheduleDelayedRender(){this.isRendering||this.renderCandidates.length>0&&(this.isRendering=!0,requestAnimationFrame((()=>{performance.mark("HighlightManager.asyncRender:start");const e=this.renderCandidates.splice(0,25);for(const t of e){const e=this.highlights.get(t);null!=e&&this._updateHighlight(e.alert)}this.isRendering=!1,performance.mark("HighlightManager.asyncRender:end"),performance.measure("render.asyncRender","HighlightManager.asyncRender:start","HighlightManager.asyncRender:end"),this._scheduleDelayedRender()})))}async _updateHighlight(e){const t=this.highlights.get(e.id),n=e=>({...this._getHighlightPosition(e),height:e.height,width:e.width});let r;null==t?(r=this._createHighlightElement(e),this.dom.mutate((()=>{this.container.scroller.appendChild(r),setTimeout((()=>{this.dom.mutate((()=>r.classList.add("draw")))}),250)}))):r=t.element,this.highlights.set(e.id,{alert:e,element:r,boundingClientRect:jx,clientRects:[]});const{boundingClientRect:i,clientRects:o}=await this.dom.measure((()=>{const t=this.textManager.getRange(e.highlightBegin,e.highlightEnd),i=n(t.getBoundingClientRect()),o=Array.from(t.getClientRects()).map(n);return r.dataset.text=t.toString(),{boundingClientRect:i,clientRects:o}}));this.highlights.set(e.id,{alert:e,element:r,boundingClientRect:i,clientRects:o}),await this.dom.mutate((()=>{this._createUnderlineElements(r,o);for(let t=r.children.length-1;t>=0;--t){const n=r.children.item(t),i=o[t];Ow(n,{zIndex:""+(100-e.sortOrder),top:`${Math.round(i.y)}px`,left:`${Math.round(i.x)}px`,height:`${Math.round(i.height)}px`,width:`${Math.round(i.width)}px`})}r.isConnected||this.container.scroller.appendChild(r)}))}_getHighlightClass(e){return"critical"===e.displayType?"corrective":"vox"===e.displayType?"styleguide":"advanced"}_createHighlightElement(e){const t=document.createElement("div");return t.setAttribute("role","mark"),t.classList.add("highlight",this._getHighlightClass(e)),t.dataset.id=e.id,t.dataset.alertType=e.displayType,t}_createUnderlineElements(e,t){const n=e.children.length-t.length;if(n>0)Array.from(e.children).slice(-n).forEach((e=>e.remove()));else{const t=Math.abs(n);for(let n=0;n<t;++n){const t=document.createElement("div");t.classList.add("underline"),e.appendChild(t)}}}scrollWorker=Mw((()=>{if(!this.isConnected)return;const e=this.lastScrollState,t={top:this.viewport.scrollTop,left:this.viewport.scrollLeft};Iw(this.container.scroller,"transform",`translate(${-t.left}px, ${-t.top}px)`),e.left===t.left&&e.top===t.top||this._setActiveHighlightWithMouse(),this.lastScrollState=t}),Lw());onScrollEvent=()=>{this.scrollWorker.queue()};onKeyboardScroll=e=>{this._viewport===document.activeElement&&this.onScrollEvent()};onMouseEvent=e=>{if(0===this.highlights.size)return;const t=this._getMousePosition(e),n=this.prevAlerts.find((e=>{const n=this.highlights.get(e.id);return!(!0!==n?.element.isConnected||!Hx(n.boundingClientRect,t))&&(!(n.clientRects.length>1)||Array.from(n.clientRects).some((e=>Hx(e,t))))}));this._setActiveHighlightWithMouse(n?this.getHighlight(n.id):void 0,e)};onMouseLeaveEvent=e=>{this._setActiveHighlightWithMouse(void 0,e)};_viewportOffset={x:0,y:0,offsetX:0,offsetY:0,width:0,height:0};get viewportOffset(){return this._viewportOffset}prevViewportRect;synchronizeViewport=()=>{const e=this.viewport.getBoundingClientRect(),t=this.container.element.getBoundingClientRect(),n=this.viewport.offsetWidth-this.viewport.clientWidth,r=this.viewport.offsetHeight-this.viewport.clientHeight,i=getComputedStyle(this.viewport),o=parseInt(i.borderTopWidth),a=parseInt(i.borderRightWidth),s=parseInt(i.borderBottomWidth),u=parseInt(i.borderLeftWidth),c=parseInt(i.paddingTop),l=Math.max(parseInt(i.paddingRight),n),f=Math.max(parseInt(i.paddingBottom),r),d=parseInt(i.paddingLeft),h=e.top-t.top,p=e.left-t.left,g={x:p,y:h,offsetX:u,offsetY:o,width:e.width,height:e.height};this.container.setWidth(e.width-l-d-a-u),this.container.setHeight(e.height-c-f-o-s),this.container.setOffset(p,h),Ow(this.container.viewport,{padding:`${c}px ${l}px ${f}px ${d}px`,margin:`${o}px ${a}px ${s}px ${u}px`}),Ow(this.container.scroller,{margin:`${-c-o}px auto auto ${-d-u}px`}),null!=this.prevViewportRect&&e.width===this.prevViewportRect.width&&e.height===this.prevViewportRect.height&&g.x===this.viewportOffset.x&&g.y===this.viewportOffset.y||this.emit("viewport",{size:e,offset:g}),this._viewportOffset=g,this.prevViewportRect=e,this.onScrollEvent()};setActiveHighlight(e){const t=this.activeHighlightId;t!==e&&(null!=t&&this.getHighlight(t)?.element.classList.remove("active"),this.activeHighlightId=e,null!=e&&(this.getHighlight(e)?.element.classList.add("active"),this.displayMode="all"))}_setActiveHighlightWithMouse(e,t){const n=this.activeHighlightId,r=e?.alert.id;if(n!==r){if(this.setActiveHighlight(r),null!=n){const e=this.getHighlight(n);null!=e&&this.emit("mouseleave",{highlight:e,event:t})}null!=e&&this.emit("mouseenter",{highlight:e,event:t})}}_getMousePosition(e){return"plain"===this.kind?this._getPlainTextMousePosition(e):this._getRichTextMousePosition(e)}_getPlainTextMousePosition(e){const{viewport:t,_viewportOffset:n}=this;let r;if(null!=e.offsetX)r={x:e.offsetX+t.scrollLeft+n.offsetX,y:e.offsetY+t.scrollTop+n.offsetY};else{const i=t.getBoundingClientRect();r={x:e.clientX-i.x+t.scrollLeft+n.offsetX,y:e.clientY-i.y+t.scrollTop+n.offsetY}}return r}_getRichTextMousePosition(e){const{viewport:t,_viewportOffset:n}=this;let r;if(e.target===t&&null!=e.offsetX)r={x:e.offsetX+t.scrollLeft+n.offsetX,y:e.offsetY+t.scrollTop+n.offsetY};else{const i=t.getBoundingClientRect();r={x:e.clientX-i.x+t.scrollLeft+n.offsetX,y:e.clientY-i.y+t.scrollTop+n.offsetY}}return r}_getHighlightPosition(e){if("rich"===this.kind){return{x:e.x-this.currentReferenceClientRect.x+this.viewport.scrollLeft-this.viewportOffset.x,y:e.y-this.currentReferenceClientRect.y+this.viewport.scrollTop-this.viewportOffset.y}}return{x:e.left,y:e.top}}}function Vx(e){let t;return n=>{const r=void 0!==t&&e(n,t);return t=n,r}}function Wx(e,t){return e.contentRect.width!==t.contentRect.width}let Gx=0;const qx=($x=()=>console.info("Grammarly browser extension detected. The Text Editor SDK will not appear until the extension is disabled."),Yx=!1,function(){return Yx?Kx:(Yx=!0,Kx=$x.apply(this,arguments))});var $x,Kx,Yx;function Qx(e,t){return Ww(e)?t>=e.length&&Ww(e.nextSibling)?Qx(e.nextSibling,t-e.length):{node:e,offset:Math.min(e.length-1,t)}:{node:e,offset:Math.min(e.childNodes.length-1,t)}}class Jx extends nw{authService;connection;feedback;_logger=wS.getLogger("EditorManager");clientId;pluginElement;constructor(e,t){super(),this.clientId=e,this.pluginElement=t,this.authService=new ux({clientId:this.clientId}),this.connection=new HS(this.authService,this.config),this.feedback=new WS(this.authService),this._setupManagers()}instanceId=Gx++;textManager=new Ix;extensionManager=Px.getInstance();llamaManager=new Fx;gbuttonManager=Ox.getInstance();toneManager=Nx.getInstance();alerts=new NS(this.textManager);highlights=new Ux(this.textManager);_status="pending";_config={cards:{offsets:{inline:-10,block:3}}};_isConnected=!1;get isConnected(){return this._isConnected}_cleanups=[];_rootStyles=null;_zIndex=null;styleMode="none";get rootStyles(){return this._rootStyles}get zIndex(){return this._zIndex}get editor(){return this.highlights.editor}get viewport(){return this.highlights.viewport}get status(){return this._status}get user(){return this.authService.getUser()}get text(){return this.highlights.text.delta}get config(){return this._config}connect(e,t){if(!this.isConnected||e!==this.editor){const n=this.status;if(this.isConnected?(this._logger.debug("reconnect"),this.disconnect()):this._logger.debug("connect"),!function(e){return dw(e)&&(wx(e)||function(e){return e.isContentEditable||"true"===e.getAttribute("contenteditable")}(e))}(e))throw new aw(aw.codes.EDITOR_UNSUPPORTED);this.extensionManager.register(this),this.llamaManager.connect(this);const r=t??e,i=getComputedStyle(r),o=parseInt(i.zIndex);if(Number.isFinite(o)?this._zIndex=o+1:this._zIndex=null,"auto"===this.styleMode)if("fixed"===i.position){console.warn("The element",r,'is using "fixed" position. We recommend pulling up position "fixed" to a wrapper element.'),this._rootStyles=Zx(r,["top","right","bottom","left","width","height"]),this._rootStyles.position="fixed";const e=r.style.position;r.style.position="static",this._cleanups.push((()=>{r.style.position=e}))}else i.position.includes("inline-block")?this._rootStyles=Zx(r,["width"]):this._rootStyles=null;else this._rootStyles=null;null!=t&&this.highlights.setViewport(t),this.highlights.setEditor(e),this.textManager.connect(e),this.gbuttonManager.register(this),this.toneManager.register(this),this.authService.addEventListener("reconnect",this.refreshConnection),this._isConnected=!0,this.emit("connected",null),"ok"!==n&&"loading"!==n||(this._status="pending",this.activate()),setTimeout((()=>{try{this.editor.hasAttribute("autofocus")&&document.activeElement!==this.editor&&this.editor.focus()}catch{}}),0),this._syncEditorWithCAPI()}null!=t&&this.highlights.viewport!==t&&this.highlights.setViewport(t)}disconnect(){this.isConnected&&(this._logger.debug("disconnect"),this._isConnected=!1,this.connection.disconnect(),this.toneManager.deregister(this),this.gbuttonManager.deregister(this),this.textManager.disconnect(),this.highlights.clearEditor(),this.highlights.clearViewport(),this._cleanups.forEach((e=>e())),this._cleanups.length=0,this.extensionManager.deregister(this),this.llamaManager.disconnect(),this.alerts.reset(),this.authService.removeEventListener("reconnect",this.refreshConnection),this.emit("disconnected",null))}refreshConnection=async()=>{this.isConnected&&(this.connection.pause(),await this.connection.disconnect(),this.connection.resume())};activate(){if("pending"===this.status){const{isEnabled:e}=iS();e?(this._logger.debug("activated"),this._setStatus("loading"),this.connection.resume()):this._setStatus("disabledByUser")}}disablePlugin(e){this._setStatus("disabledByUser"),wS.count("disableByUser"),this.config.onPluginDisable?.(e)}hideUnderlines(){wS.count("gbutton.hideUnderlines"),this.highlights.displayMode="none"}showUnderlines(){wS.count("gbutton.showUnderlines"),this.highlights.displayMode="all"}async applyAlertReplacement(e,t){const{editor:n}=this,r=e.replacements[t.index??0];if(null==r)return!1;const i=function(){const e=[],t=getSelection();if(null!=t){for(let n=0;n<t.rangeCount;++n){const r=t.getRangeAt(n);e.push([r,new StaticRange(r)])}t.removeAllRanges()}return function(){if(null!=t){t.removeAllRanges();for(const[i,o]of e)if(r=o,(n=i).startContainer===r.startContainer&&n.endContainer===r.endContainer&&n.startOffset===r.startOffset&&n.endOffset===r.endOffset)t.addRange(i);else{const e=Qx(o.startContainer,o.startOffset),n=Qx(o.endContainer,o.endOffset);t.addRange(yx(e.node,e.offset,n.node,n.offset,{adjustToContain:!0}))}}var n,r}}();if(wx(n)){const t=function(e){const t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection;return()=>{null!=t&&null!=n&&e.setSelectionRange(t,n,r??void 0)}}(n),i=n.scrollLeft,o=n.scrollTop;n.setSelectionRange(e.begin,e.end,"forward"),n.dispatchEvent(new InputEvent("beforeinput",{bubbles:!0,cancelable:!1,inputType:"insertReplacementText",targetRanges:[],data:r})),t(),n.setRangeText(r,e.begin,e.end,"preserve"),n.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!1,inputType:"insertReplacementText",targetRanges:[],data:r})),n.dispatchEvent(new Event("change",{bubbles:!0})),n.addEventListener("scroll",(()=>{n.scrollTo({left:i,top:o})}),{once:!0})}else{const t=this.textManager.getRange(e.begin,e.end),i=getSelection();null!=i&&i.addRange(t);const o=function(e){const t=new DataTransfer;return t.setData("text/text",e),t.setData("text/html",e),t.setData("application/json",JSON.stringify({source:"Grammarly",text:e})),t}(r);n.dispatchEvent(new InputEvent("beforeinput",{bubbles:!0,cancelable:!1,inputType:"insertReplacementText",targetRanges:[new StaticRange(t)],dataTransfer:o})),await Promise.resolve();const a=this.textManager.getRange(e.begin,e.end);a.deleteContents(),a.insertNode(document.createTextNode(r)),n.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!1,inputType:"insertReplacementText",targetRanges:[],dataTransfer:o}))}return i(),!0}setConfig(e){const t={...this.config,...e};this._config=t,this.connection.setConfig(this._config)}_updateStatus(e){if(null==e||qS(this._status))return;const t="idle"!==e?"loading":"ok";this._setStatus(t)}_setStatus(e){this._status=e,this.emit("status",e),"pending"===e||qS(e)?this.connection.pause():this.connection.resume()}handleFatalError(e){this._logger.error(e,"FatalError - disabling plugin"),wS.count("error"),this.config.onPluginError?.(e),this._setStatus("error")}_handleExtensionStatus(e){["error","disabledByUser"].includes(this.status)||(e&&"disabledByExtension"!==this.status?(qx(),this._logger.debug("disabling plugin in favor of browser extension"),this._setStatus("disabledByExtension")):e||"disabledByExtension"!==this.status||(this._logger.debug("re-enabling plugin because browser extension no longer detected"),this._setStatus("pending")))}_setupManagers(){gS.getInstance().setAuthProvider(this.authService),this.extensionManager.addEventListener("status",(e=>{this._handleExtensionStatus(e.detail.detected)})),this.connection.addEventListener("status",(e=>{this._updateStatus(e.detail)})),this.connection.addEventListener("suggestionAdded",(e=>{this.alerts.addRawAlert(e.detail.alert)})),this.connection.addEventListener("suggestionRemoved",(e=>{this.alerts.removeAlert(e.detail.alertId)})),this.connection.addEventListener("error",(e=>{this.handleFatalError(e.detail)})),this.textManager.addEventListener("change",(()=>{this._syncEditorWithCAPI()})),this.alerts.addEventListener("change",(e=>{this.highlights.render(e.detail)})),window.addEventListener(tS,(()=>{const{isEnabled:e}=iS();e&&!["error","disabledByExtension","pending"].includes(this.status)&&this._setStatus("ok")})),this.connection.addEventListener("textInfo",this.onTextStats)}onTextStats=function(e,t){var n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout((()=>{e.apply(this,i)}),t)}}((e=>{const{onTextStats:t}=this.config;null!=t&&t(function(e){var{charsCount:t,wordsCount:n,readabilityScore:r,readingTime:i,speakingTime:o}=e;return{charsCount:t,wordsCount:n,readabilityScore:r,readingTime:i,speakingTime:o,session:US(e)}}(e.detail.data))}),500);_syncEditorWithCAPI(){this.connection.setText(this.text)}}function Zx(e,t){const n=[e.style,...Xx(e).map((e=>e.style)).reverse()],r=document.createElement("span");return t.forEach((e=>{const t=function(e,t){return e.find((e=>""!==e.getPropertyValue(t)))?.getPropertyValue(t)}(n,e);null==t?r.style.removeProperty(e):r.style.setProperty(e,t)})),r.style}function Xx(e){const t=document.styleSheets,n=[];for(const r of t)for(const t of r.cssRules)t instanceof CSSStyleRule&&e.matches(t.selectorText)&&n.push(t);return n}function eE(e){if(null!=e&&""!==e)return e;const t=function(){if(document.currentScript instanceof HTMLScriptElement)return document.currentScript;throw new aw(aw.codes.BROWSER_UNSUPPORTED)}(),n=t.src;if(n){const e=new URL(n).searchParams.get("clientId");if(null!=e)return e}const r=t.getAttribute("clientId");if(null!=r)return r;throw new aw(aw.codes.EDITOR_MISSING_CLIENT_ID)}var tE={};function nE(e,t){tE[e]=t}var rE={neutral:{60:"#404040",50:"#737373",30:"#BFBFBF",0:"#FFFFFF"},neutral2:{60:"#4D536E",50:"#6D758D",40:"#9FA6BF",30:"#C6CBDE",0:"#FFFFFF"},blue:{50:"#4a6ee0"},blue2:{60:"#3659B5",50:"#4A6EE0",40:"#638EEB",10:"#DBEBFF",1:"#EDF5FF"},red:{50:"#EA1537",30:"#F27388"},yellow:{50:"#FFA600"},cyan:{30:"#75E1EB"}},iE=Object.keys(rE).map((e=>Object.entries(rE[e]).map((t=>{var[n,r]=t;return"--grammarly-colors-".concat(e,"-").concat(n,": ").concat(r,";")})).join("\n"))).join("\n"),oE="\n:host {\n  --grammarly-common-font-family: Arial, sans-serif;\n  ".concat(iE,"\n}\n");var aE="--grammarly-color-scheme",sE={top:"--grammarly-button-position-top",bottom:"--grammarly-button-position-bottom",right:"--grammarly-button-position-right",left:"--grammarly-button-position-left",zIndex:"--grammarly-button-z-index"};function uE(){return(uE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(n),!0).forEach((function(t){dE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hE=e=>t.createElement("svg",fE({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M8 8L12 12M16 16L12 12M12 12L16 8M12 12L8 16",stroke:"#6D758D",strokeLinecap:"round"})),pE=e=>t.createElement("svg",fE({className:"logoIcon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18C14.4184 18 18 14.4181 18 10C18 5.58157 14.4184 2 10 2C5.58191 2 2 5.58157 2 10C2 14.4181 5.58191 18 10 18ZM11.6053 12.1688C11.3392 12.1688 11.0929 11.9894 11.0456 11.7275C10.9834 11.3838 11.246 11.0843 11.5785 11.0843H14.5218V14.1716C14.5218 14.5041 14.2227 14.7668 13.8787 14.7048C13.6168 14.6575 13.4376 14.4109 13.4376 14.1452V13.6297L13.5395 13.0593C12.6787 14.0537 11.415 14.6683 10.0035 14.6683C7.31658 14.6683 5.15624 12.4447 5.31241 9.72119C5.44702 7.38067 7.33989 5.46658 9.67902 5.30971C11.4755 5.18936 13.0731 6.07736 13.9622 7.46519C14.1027 7.70728 14.0345 8.0151 13.8008 8.17719C13.5545 8.34797 13.2168 8.27736 13.046 8.03145C12.4032 7.1278 11.2818 6.36015 10.0035 6.36015C7.55102 6.36015 5.66893 8.82067 6.65745 11.3977C7.09293 12.533 8.12493 13.3459 9.32632 13.5344C10.8021 13.7661 12.1521 13.2412 12.9295 12.1007L12.4435 12.1688H11.6053Z",fill:"currentColor"})),gE=e=>t.createElement("svg",fE({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z",fill:"#6D758D"}),t.createElement("path",{d:"M13.5 18C13.5 18.8284 12.8284 19.5 12 19.5C11.1716 19.5 10.5 18.8284 10.5 18C10.5 17.1716 11.1716 16.5 12 16.5C12.8284 16.5 13.5 17.1716 13.5 18Z",fill:"#6D758D"}),t.createElement("path",{d:"M13.5 6C13.5 6.82843 12.8284 7.5 12 7.5C11.1716 7.5 10.5 6.82843 10.5 6C10.5 5.17157 11.1716 4.5 12 4.5C12.8284 4.5 13.5 5.17157 13.5 6Z",fill:"#6D758D"})),mE=e=>t.createElement("svg",fE({width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M0.5 5.75C0.5 5.63546 0.523071 5.51741 0.564532 5.40996L2.81237 1.14304L2.82116 1.12635L2.82867 1.10905C2.98365 0.751915 3.33972 0.5 3.75 0.5L9.5 0.5C10.0539 0.5 10.5 0.946142 10.5 1.5L10.5 7C10.5 7.27168 10.3868 7.5261 10.2064 7.70645L5.62 12.2929L5.1884 11.8613C5.07246 11.7379 5.00516 11.5863 5.00028 11.4284L5.01556 11.2527L5.66957 8.10161L5.79443 7.5H5.18L1 7.5C0.726142 7.5 0.5 7.27386 0.5 7V5.75ZM13 7.5C12.7239 7.5 12.5 7.27614 12.5 7L12.5 1C12.5 0.723858 12.7239 0.5 13 0.5H14C14.2761 0.5 14.5 0.723858 14.5 1L14.5 7C14.5 7.27614 14.2761 7.5 14 7.5H13Z",stroke:"#6D758D"})),vE=e=>t.createElement("svg",fE({width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M14.5 7.25C14.5 7.36454 14.4769 7.48259 14.4355 7.59004L12.1876 11.857C12.1818 11.8681 12.1763 11.8794 12.1713 11.891C12.0163 12.2481 11.6603 12.5 11.25 12.5H5.5C4.94614 12.5 4.5 12.0539 4.5 11.5V6C4.5 5.72832 4.6132 5.4739 4.79355 5.29355L9.38 0.707107L9.8116 1.13871C9.92753 1.2621 9.99484 1.41369 9.99972 1.57157L9.98444 1.74729L9.33043 4.89839C9.29986 5.04568 9.33723 5.19891 9.43218 5.31559C9.52713 5.43227 9.66957 5.5 9.82 5.5H14C14.2739 5.5 14.5 5.72614 14.5 6V7.25ZM2 5.5C2.27614 5.5 2.5 5.72386 2.5 6V12C2.5 12.2761 2.27614 12.5 2 12.5H1C0.723858 12.5 0.5 12.2761 0.5 12V6C0.5 5.72386 0.723858 5.5 1 5.5H2Z",stroke:"#6D758D",strokeLinejoin:"round"}));function yE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function _E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.filter(Boolean),o=i.map((t=>{var n=t;return e[n],e[n]}));return yE.apply(null,o)}var bE={heading:"heading_2q5td","heading--h5":"heading--h5_nieP3"};nE("nts/Heading/Heading.module.css",".heading_2q5td{display:block;font-family:var(--grammarly-common-font-family);margin:0;font-weight:400;font-size:inherit}.heading--h5_nieP3{text-transform:uppercase;font-size:10px;line-height:16px;letter-spacing:.04em;color:#8c8c8c}");var wE=["color","padding"];function SE(e){return wE.reduce(((t,n)=>(null!=e[n]&&(t[n]=e[n]),t)),{})}var xE=e=>{var{level:n,semanticOnly:r=!1}=e,i=cE(e,["level","semanticOnly"]),o=n,a=_E(bE,"heading",r?null:"heading--".concat(n));return t.createElement(o,fE({className:a,style:SE(e)},i))},EE="icon-button_2Xf5h",CE="icon-button__icon_68w7x",kE="icon-button__label_3H3l7";nE("onButton/IconButton.module.css",".icon-button_2Xf5h{display:inline-flex;align-items:center;background-color:transparent;border:0;padding:0;border-radius:4px;line-height:21px;transition-duration:.2s;transition-property:border,background,color;vertical-align:middle;cursor:pointer;user-select:none}.icon-button__icon_68w7x{display:inline-flex;align-items:center;justify-content:center;fill:var(--grammarly-colors-neutral-50);stroke:var(--grammarly-colors-neutral-50);min-height:32px;min-width:32px;transition:fill .2s,stroke .2s}.icon-button_2Xf5h:hover{background:rgba(64,64,64,.08)}.icon-button__label_3H3l7{padding-right:12px;color:#222}");var TE=e=>{var{icon:n,accessibilityLabel:r,children:i}=e,o=cE(e,["icon","accessibilityLabel","children"]),a=n;return t.createElement("button",fE({className:EE,"aria-label":r},o),t.createElement("i",{className:CE,role:"icon"},t.createElement(a,null)),null!=i?t.createElement("div",{className:kE},i):null)},IE={card:"card_3f218",card__header:"card__header_3xKuS","card__section-title":"card__section-title_6vNvQ",card__section:"card__section_2N7gH",card__footer:"card__footer_am6xe",card__row:"card__row_39fMg","card__row--padded":"card__row--padded_gSd7R","card__footer--padded":"card__footer--padded_1toHS","card__footer--bordered":"card__footer--bordered_l0QPz"};nE("omponents/Card/Card.module.css",".card_3f218{display:flex;flex-direction:column;align-items:flex-start;text-align:left;padding:8px 0;background:#fff;box-shadow:0 0 1px rgba(14,16,26,.25),0 1px 8px rgba(26,33,52,.1);border-radius:8px;font-family:var(--grammarly-common-font-family)}.card__header_3xKuS{padding:0 8px 0 16px;min-height:32px;font-size:13px;line-height:18px;display:flex;align-items:center;justify-content:space-between;color:var(--grammarly-colors-neutral-50)}.card__section-title_6vNvQ{text-transform:uppercase;color:#8c8c8c;font-size:10px;padding:4px 16px}.card__footer_am6xe,.card__header_3xKuS,.card__row_39fMg,.card__section_2N7gH{box-sizing:border-box;width:100%}.card__section_2N7gH+.card__section_2N7gH{margin-top:8px;padding-top:8px;border-top:1px solid rgba(0,0,0,.1)}.card__row--padded_gSd7R{padding:8px 16px}.card__footer_am6xe{font-size:13px;line-height:18px}.card__footer--padded_1toHS{padding:12px 16px 4px}.card__footer--bordered_l0QPz{box-shadow:inset 0 1px 0 hsla(0,0%,74.9%,.25)}.card__row_39fMg+.card__footer--bordered_l0QPz,.card__section_2N7gH+.card__footer--bordered_l0QPz{margin-top:4px}");var OE=e=>t.createElement("div",fE({className:IE.card},e));function NE(e){var[t,n]=I(null);function r(t){var r=getComputedStyle(t).getPropertyValue(e);n(r?String(r).trim():r)}var i=_((e=>{null!==e&&r(e)}),[]);return S((()=>{function e(e){e.target instanceof Element&&r(e.target)}return window.addEventListener("grammarly-theme-change",e),function(){window.removeEventListener("grammarly-theme-change",e)}}),[]),{propertyValue:t,ref:i}}OE.Header=e=>{var{onClose:n,children:r}=e,i=cE(e,["onClose","children"]);return t.createElement("div",fE({className:IE.card__header},i),t.createElement("div",null,r),n&&t.createElement(TE,{style:{marginLeft:8},onClick:()=>n(),icon:hE,accessibilityLabel:"Close"}))},OE.Section=e=>{var{title:n,children:r}=e,i=cE(e,["title","children"]);return t.createElement("div",fE({className:IE.card__section},i),null!=n?t.createElement("div",{className:IE["card__section-title"]},t.createElement(xE,{level:"h5"},n)):null,r)},OE.Row=e=>{var{padded:n=!0}=e,r=cE(e,["padded"]),i=_E(IE,"card__row",n&&"card__row--padded");return t.createElement("div",fE({className:i},r))},OE.Footer=e=>{var{padded:n=!0,bordered:r=!1}=e,i=cE(e,["padded","bordered"]),o=_E(IE,"card__footer",n&&"card__footer--padded",r&&"card__footer--bordered");return t.createElement("div",fE({className:o},i))};var AE=e=>{var{mode:n}=e,r=cE(e,["mode"]),{propertyValue:i,ref:o}=NE(aE),a=null!=n?n:"dark"===i?"dark":"light";return S((()=>{function e(){document.documentElement.dispatchEvent(new Event("grammarly-theme-change",{bubbles:!0}))}return window.addEventListener("load",e),function(){window.removeEventListener("grammarly-theme-change",e)}}),[]),t.createElement("div",fE({ref:o,className:"grammarly-color-scheme-".concat(a)},r))},RE="emoji_2Kt-k",PE="emoji-alt_DWw81";nE("ponents/Emoji/Emoji.module.css",".emoji-alt_DWw81,.emoji_2Kt-k{display:block;height:auto;font-family:Arial,san-serif}.emoji-alt_DWw81{line-height:1}");var LE=e=>{var{code:n,character:r,width:i=24,onError:o,alt:a}=e,s=cE(e,["code","character","width","onError","alt"]),[u,c]=I(!1);S((()=>{c(!1)}),[n]);var l=(e=>"".concat("https://assets.grammarly.com/emoji/v1/").concat(e,".svg"))(n);return u?t.createElement("span",fE({className:PE,style:{fontSize:i,width:i},"aria-label":a},s),r):t.createElement("img",fE({className:RE,src:l,width:i,onError:function(e){c(!0),null==o||o(e)},alt:a},s))};nE("atingGButton/FGB-animation.css","@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes ripple{0%{opacity:.75;transform:scale(1)}50%,to{opacity:0;transform:scale(1.55)}}@keyframes glow{0%{transform:scale(1)}50%{transform:scale(1.11)}to{transform:scale(1)}}@keyframes icon-fade-out{0%{opacity:1;transform:scale(1)}50%,to{opacity:0;transform:scale(.66)}}@keyframes icon-fade-in{0%,50%{opacity:0;transform:scale(.66)}to{opacity:1;transform:scale(1)}}@keyframes badge-fade-in{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes badge-fade-out{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes fill-primary-to-warning{0%{fill:var(--grammarly-fgb-primary)}to{fill:var(--grammarly-fgb-warning)}}@keyframes fill-warning-to-primary{0%{fill:var(--grammarly-fgb-warning)}to{fill:var(--grammarly-fgb-primary)}}@keyframes fill-secondary-to-warning{0%{fill:var(--grammarly-fgb-secondary)}to{fill:var(--grammarly-fgb-warning)}}@keyframes fill-warning-to-secondary{0%{fill:var(--grammarly-fgb-warning)}to{fill:var(--grammarly-fgb-secondary)}}@keyframes fill-primary-to-error{0%{fill:var(--grammarly-fgb-primary)}to{fill:var(--grammarly-fgb-error)}}@keyframes fill-error-to-primary{0%{fill:var(--grammarly-fgb-error)}to{fill:var(--grammarly-fgb-primary)}}@keyframes fill-error-to-secondary{0%{fill:var(--grammarly-fgb-error)}to{fill:var(--grammarly-fgb-secondary)}}@keyframes fill-secondary-to-error{0%{fill:var(--grammarly-fgb-secondary)}to{fill:var(--grammarly-fgb-error)}}@keyframes fill-primary-to-secondary{0%{fill:var(--grammarly-fgb-primary)}to{fill:var(--grammarly-fgb-secondary)}}@keyframes fill-secondary-to-primary{0%{fill:var(--grammarly-fgb-secondary)}to{fill:var(--grammarly-fgb-primary)}}");nE("/FloatingGButton/FGB-setup.css",".svg-base,.svg-default,.svg-disabled,.svg-error,.svg-ripple,.svg-success,.svg-temp-error{display:none;transform-origin:center}.svg-ripple path{opacity:.75}.svg-base path,.svg-ripple path{fill:var(--grammarly-fgb-primary)}.svg-default path,.svg-disabled .svg-disabled-mask,.svg-error .svg-error-mask,.svg-success path,.svg-temp-error path{fill:var(--grammarly-fgb-base)}.svg-loading-path{fill:var(--grammarly-fgb-primary)}.svg-disabled .svg-disabled-fill{fill:var(--grammarly-fgb-secondary)}.svg-disabled-group,.svg-error-group{transform-origin:20px 8px}");nE("FloatingGButton/FGB-states.css",".f-g-button__icon.default .svg-ripple,.f-g-button__icon.disabled .svg-ripple,.f-g-button__icon.error .svg-ripple,.f-g-button__icon.loading .svg-ripple,.f-g-button__icon.warning .svg-ripple{transform:scale(1)}.f-g-button__icon.default .svg-base,.f-g-button__icon.default .svg-default,.f-g-button__icon.default .svg-ripple,.f-g-button__icon.error-alt .svg-base,.f-g-button__icon.error-alt .svg-default,.f-g-button__icon.error-alt .svg-error,.f-g-button__icon.error-alt .svg-ripple,.f-g-button__icon.error .svg-base,.f-g-button__icon.error .svg-default,.f-g-button__icon.error .svg-error,.f-g-button__icon.error .svg-ripple,.f-g-button__icon.success .svg-base,.f-g-button__icon.success .svg-ripple,.f-g-button__icon.success .svg-success{display:unset}.f-g-button__icon.error-alt .svg-base path,.f-g-button__icon.error .svg-base path{fill:var(--grammarly-fgb-secondary)}.f-g-button__icon.error-alt .svg-error .svg-error-fill,.f-g-button__icon.error .svg-error .svg-error-fill{fill:var(--grammarly-fgb-error)}.f-g-button__icon.warning-alt .svg-base,.f-g-button__icon.warning-alt .svg-default,.f-g-button__icon.warning-alt .svg-error,.f-g-button__icon.warning-alt .svg-ripple,.f-g-button__icon.warning .svg-base,.f-g-button__icon.warning .svg-default,.f-g-button__icon.warning .svg-error,.f-g-button__icon.warning .svg-ripple{display:unset}.f-g-button__icon.warning-alt .svg-error .svg-error-fill,.f-g-button__icon.warning .svg-error .svg-error-fill{fill:var(--grammarly-fgb-warning)}.f-g-button__icon.disabled .svg-base,.f-g-button__icon.disabled .svg-default,.f-g-button__icon.disabled .svg-disabled,.f-g-button__icon.disabled .svg-ripple{display:unset}.f-g-button__icon.disabled .svg-base path{fill:var(--grammarly-fgb-secondary)}");nE("onents/FloatingGButton/FGB.css",".f-g-button{text-transform:none;overflow:visible;margin:0;padding:0;border:none;cursor:pointer;font-size:0;font-family:sans-serif;background-color:var(--grammarly-fgb-base);border-radius:14px;display:block;--grammarly-animation-long:0.7s;--grammarly-animation-medium:0.35s;--grammarly-animation-short:0.175s;--grammarly-animation-delay-short:var(--grammarly-animation-long);--grammarly-animation-delay-medium:calc(1.5s + var(--grammarly-animation-medium));--grammarly-animation-delay-long:calc(1.5s + var(--grammarly-animation-long));--grammarly-fgb-base:var(--grammarly-colors-neutral-60);--grammarly-fgb-primary:var(--grammarly-colors-neutral-0);--grammarly-fgb-secondary:var(--grammarly-colors-neutral-30);--grammarly-fgb-error:#ff453a;--grammarly-fgb-warning:#ff9f0a}.f-g-button:hover{--grammarly-fgb-base:#595959}.f-g-button:active{--grammarly-fgb-base:#262626}.grammarly-color-scheme-dark .f-g-button{--grammarly-fgb-base:var(--grammarly-colors-neutral-0);--grammarly-fgb-primary:var(--grammarly-colors-neutral-60);--grammarly-fgb-secondary:var(--grammarly-colors-neutral-50);--grammarly-fgb-error:#ff453a;--grammarly-fgb-warning:#d68000}.grammarly-color-scheme-dark .f-g-button:hover{--grammarly-fgb-base:#f2f2f2}.grammarly-color-scheme-dark .f-g-button:active{--grammarly-fgb-base:#e5e5e5}.f-g-button__icon{width:28px;height:28px}.f-g-button__loading-icon{width:28px;height:28px;animation:spin 1s linear infinite}.f-g-button__count{font-style:normal;font-weight:700;font-size:12px;line-height:14px;margin-right:8px;display:inline-block;color:var(--grammarly-fgb-primary);width:auto;transition:width .25s,margin-right .25s}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.f-g-button__count{transition:none}}}.f-g-button__count--hidden{width:0;margin-right:0}.f-g-button__icon:is(.counter-update,.default-to-loading,.loading-to-default,.error-to-loading,.warning-to-loading,.disabled-to-loading){animation:full-animation-timer var(--grammarly-animation-medium)}.f-g-button__icon:is(.error-to-default,.warning-to-default,.disabled-to-default){animation:full-animation-timer var(--grammarly-animation-long)}.f-g-button__icon:is(.default-to-disabled,.loading-to-disabled,.error-to-disabled,.warning-to-disabled){animation:full-animation-timer calc(var(--grammarly-animation-delay-short) + var(--grammarly-animation-short))}.f-g-button__icon:is(.default-to-error,.default-to-warning,.loading-to-error,.loading-to-warning,.error-to-warning,.warning-to-error,.disabled-to-error,.disabled-to-warning){\n  /* ! appears and then badge */animation:full-animation-timer calc(var(--grammarly-animation-delay-medium) + var(--grammarly-animation-long))}.f-g-button__icon.counter-update .svg-ripple{animation:ripple var(--grammarly-animation-long) linear forwards}.f-g-button__icon.counter-update .svg-base,.f-g-button__icon.counter-update .svg-default,.f-g-button__icon.counter-update .svg-error,.f-g-button__icon.counter-update .svg-success{animation:glow var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.default-to-loading .svg-ripple,.f-g-button__icon.disabled-to-loading .svg-ripple,.f-g-button__icon.error-alt-to-loading .svg-ripple,.f-g-button__icon.error-to-loading .svg-ripple,.f-g-button__icon.loading-to-default .svg-ripple,.f-g-button__icon.loading-to-disabled .svg-ripple,.f-g-button__icon.loading-to-success .svg-ripple,.f-g-button__icon.loading-to-warning-alt .svg-ripple,.f-g-button__icon.success-to-loading .svg-ripple,.f-g-button__icon.warning-alt-to-loading .svg-ripple,.f-g-button__icon.warning-to-loading .svg-ripple{display:none}.f-g-button__icon.default-to-disabled .svg-ripple,.f-g-button__icon.default-to-error-alt .svg-ripple,.f-g-button__icon.default-to-success .svg-ripple,.f-g-button__icon.default-to-warning-alt .svg-ripple,.f-g-button__icon.disabled-to-default .svg-ripple,.f-g-button__icon.disabled-to-error-alt .svg-ripple,.f-g-button__icon.disabled-to-success .svg-ripple,.f-g-button__icon.disabled-to-warning-alt .svg-ripple,.f-g-button__icon.error-alt-to-default .svg-ripple,.f-g-button__icon.error-alt-to-disabled .svg-ripple,.f-g-button__icon.error-alt-to-success .svg-ripple,.f-g-button__icon.error-alt-to-warning-alt .svg-ripple,.f-g-button__icon.error-to-default .svg-ripple,.f-g-button__icon.error-to-disabled .svg-ripple,.f-g-button__icon.error-to-success .svg-ripple,.f-g-button__icon.error-to-warning-alt .svg-ripple,.f-g-button__icon.success-to-default .svg-ripple,.f-g-button__icon.success-to-disabled .svg-ripple,.f-g-button__icon.success-to-error-alt .svg-ripple,.f-g-button__icon.warning-alt-to-default .svg-ripple,.f-g-button__icon.warning-alt-to-disabled .svg-ripple,.f-g-button__icon.warning-alt-to-error-alt .svg-ripple,.f-g-button__icon.warning-alt-to-success .svg-ripple,.f-g-button__icon.warning-to-default .svg-ripple,.f-g-button__icon.warning-to-disabled .svg-ripple,.f-g-button__icon.warning-to-error-alt .svg-ripple,.f-g-button__icon.warning-to-success .svg-ripple{animation:ripple var(--grammarly-animation-long) linear forwards}.f-g-button__icon.default-to-error .svg-ripple,.f-g-button__icon.default-to-warning .svg-ripple,.f-g-button__icon.disabled-to-error .svg-ripple,.f-g-button__icon.disabled-to-warning .svg-ripple,.f-g-button__icon.error-alt-to-warning .svg-ripple,.f-g-button__icon.error-to-warning .svg-ripple,.f-g-button__icon.success-to-error .svg-ripple,.f-g-button__icon.success-to-warning-alt .svg-ripple,.f-g-button__icon.success-to-warning .svg-ripple,.f-g-button__icon.warning-alt-to-error .svg-ripple,.f-g-button__icon.warning-to-error .svg-ripple{animation:ripple var(--grammarly-animation-long) linear forwards,ripple var(--grammarly-animation-long) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.loading-to-error .svg-ripple,.f-g-button__icon.loading-to-warning .svg-ripple{display:unset;opacity:0;animation:ripple var(--grammarly-animation-long) linear forwards;animation-delay:var(--grammarly-animation-delay-medium)}.f-g-button__icon.default-to-disabled .svg-base,.f-g-button__icon.default-to-disabled .svg-default,.f-g-button__icon.default-to-error-alt .svg-base,.f-g-button__icon.default-to-error-alt .svg-default,.f-g-button__icon.default-to-success .svg-base,.f-g-button__icon.default-to-warning-alt .svg-base,.f-g-button__icon.default-to-warning-alt .svg-default,.f-g-button__icon.disabled-to-default .svg-base,.f-g-button__icon.disabled-to-default .svg-default,.f-g-button__icon.disabled-to-error-alt .svg-base,.f-g-button__icon.disabled-to-error-alt .svg-default,.f-g-button__icon.disabled-to-success .svg-base,.f-g-button__icon.disabled-to-warning-alt .svg-base,.f-g-button__icon.disabled-to-warning-alt .svg-default,.f-g-button__icon.error-alt-to-default .svg-base,.f-g-button__icon.error-alt-to-default .svg-default,.f-g-button__icon.error-alt-to-disabled .svg-base,.f-g-button__icon.error-alt-to-disabled .svg-default,.f-g-button__icon.error-alt-to-success .svg-base,.f-g-button__icon.error-alt-to-warning-alt .svg-base,.f-g-button__icon.error-alt-to-warning-alt .svg-default,.f-g-button__icon.error-to-default .svg-base,.f-g-button__icon.error-to-default .svg-default,.f-g-button__icon.error-to-disabled .svg-base,.f-g-button__icon.error-to-disabled .svg-default,.f-g-button__icon.error-to-success .svg-base,.f-g-button__icon.error-to-warning-alt .svg-base,.f-g-button__icon.error-to-warning-alt .svg-default,.f-g-button__icon.success-to-default .svg-base,.f-g-button__icon.success-to-disabled .svg-base,.f-g-button__icon.success-to-error-alt .svg-base,.f-g-button__icon.success-to-warning-alt .svg-base,.f-g-button__icon.warning-alt-to-default .svg-base,.f-g-button__icon.warning-alt-to-default .svg-default,.f-g-button__icon.warning-alt-to-disabled .svg-base,.f-g-button__icon.warning-alt-to-disabled .svg-default,.f-g-button__icon.warning-alt-to-error-alt .svg-base,.f-g-button__icon.warning-alt-to-error-alt .svg-default,.f-g-button__icon.warning-alt-to-success .svg-base,.f-g-button__icon.warning-to-default .svg-base,.f-g-button__icon.warning-to-default .svg-default,.f-g-button__icon.warning-to-disabled .svg-base,.f-g-button__icon.warning-to-disabled .svg-default,.f-g-button__icon.warning-to-error-alt .svg-base,.f-g-button__icon.warning-to-error-alt .svg-default,.f-g-button__icon.warning-to-success .svg-base{animation:glow var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.default-to-error .svg-base,.f-g-button__icon.default-to-warning .svg-base,.f-g-button__icon.disabled-to-error .svg-base,.f-g-button__icon.disabled-to-warning .svg-base,.f-g-button__icon.error-alt-to-warning .svg-base,.f-g-button__icon.error-to-warning .svg-base,.f-g-button__icon.success-to-error .svg-base,.f-g-button__icon.success-to-warning .svg-base,.f-g-button__icon.warning-alt-to-error .svg-base,.f-g-button__icon.warning-to-error .svg-base{animation:glow var(--grammarly-animation-medium) linear forwards,glow var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.default-to-loading .svg-base,.f-g-button__icon.default-to-loading .svg-default,.f-g-button__icon.default-to-success .svg-default,.f-g-button__icon.disabled-to-loading .svg-base,.f-g-button__icon.disabled-to-loading .svg-default,.f-g-button__icon.disabled-to-loading .svg-disabled,.f-g-button__icon.disabled-to-success .svg-default,.f-g-button__icon.disabled-to-success .svg-disabled,.f-g-button__icon.error-alt-to-loading .svg-base,.f-g-button__icon.error-alt-to-loading .svg-default,.f-g-button__icon.error-alt-to-loading .svg-error,.f-g-button__icon.error-alt-to-success .svg-default,.f-g-button__icon.error-to-loading .svg-base,.f-g-button__icon.error-to-loading .svg-default,.f-g-button__icon.error-to-loading .svg-error,.f-g-button__icon.error-to-success .svg-default,.f-g-button__icon.error-to-success .svg-error,.f-g-button__icon.success-to-default .svg-success,.f-g-button__icon.success-to-disabled .svg-success,.f-g-button__icon.success-to-error-alt .svg-success,.f-g-button__icon.success-to-error .svg-success,.f-g-button__icon.success-to-loading .svg-base,.f-g-button__icon.success-to-loading .svg-success,.f-g-button__icon.success-to-warning-alt .svg-success,.f-g-button__icon.success-to-warning .svg-success,.f-g-button__icon.warning-alt-to-loading .svg-base,.f-g-button__icon.warning-alt-to-loading .svg-default,.f-g-button__icon.warning-alt-to-loading .svg-error,.f-g-button__icon.warning-alt-to-success .svg-default,.f-g-button__icon.warning-to-loading .svg-base,.f-g-button__icon.warning-to-loading .svg-default,.f-g-button__icon.warning-to-loading .svg-error,.f-g-button__icon.warning-to-success .svg-default,.f-g-button__icon.warning-to-success .svg-error{animation:icon-fade-out var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.default-to-success .svg-success,.f-g-button__icon.disabled-to-success .svg-success,.f-g-button__icon.error-alt-to-success .svg-success,.f-g-button__icon.error-to-success .svg-success,.f-g-button__icon.loading-to-default .svg-base,.f-g-button__icon.loading-to-default .svg-default,.f-g-button__icon.loading-to-disabled .svg-base,.f-g-button__icon.loading-to-disabled .svg-default,.f-g-button__icon.loading-to-error-alt .svg-base,.f-g-button__icon.loading-to-error-alt .svg-default,.f-g-button__icon.loading-to-success .svg-base,.f-g-button__icon.loading-to-success .svg-success,.f-g-button__icon.loading-to-warning-alt .svg-base,.f-g-button__icon.loading-to-warning-alt .svg-default,.f-g-button__icon.success-to-default .svg-default,.f-g-button__icon.success-to-disabled .svg-default,.f-g-button__icon.success-to-error-alt .svg-default,.f-g-button__icon.success-to-warning-alt .svg-default,.f-g-button__icon.warning-alt-to-success .svg-success,.f-g-button__icon.warning-to-success .svg-success{display:unset;animation:icon-fade-in var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.default-to-error .svg-default,.f-g-button__icon.default-to-warning .svg-default,.f-g-button__icon.disabled-to-error .svg-default,.f-g-button__icon.disabled-to-warning .svg-default,.f-g-button__icon.error-alt-to-warning .svg-default,.f-g-button__icon.error-to-warning .svg-default,.f-g-button__icon.warning-alt-to-error .svg-default,.f-g-button__icon.warning-to-error .svg-default{animation:icon-fade-out var(--grammarly-animation-medium) linear forwards,icon-fade-in var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.default-to-error .svg-temp-error,.f-g-button__icon.default-to-warning .svg-temp-error,.f-g-button__icon.disabled-to-error .svg-temp-error,.f-g-button__icon.disabled-to-warning .svg-temp-error,.f-g-button__icon.error-alt-to-warning .svg-temp-error,.f-g-button__icon.error-to-warning .svg-temp-error,.f-g-button__icon.loading-to-error .svg-temp-error,.f-g-button__icon.loading-to-warning .svg-temp-error,.f-g-button__icon.success-to-error .svg-temp-error,.f-g-button__icon.success-to-warning .svg-temp-error,.f-g-button__icon.warning-alt-to-error .svg-temp-error,.f-g-button__icon.warning-to-error .svg-temp-error{display:unset;animation:icon-fade-in var(--grammarly-animation-medium) linear forwards,icon-fade-out var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.loading-to-error .svg-base,.f-g-button__icon.loading-to-warning .svg-base{display:unset;animation:icon-fade-in var(--grammarly-animation-medium) linear forwards,glow var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.loading-to-error .svg-default,.f-g-button__icon.loading-to-warning .svg-default,.f-g-button__icon.success-to-error .svg-default,.f-g-button__icon.success-to-warning .svg-default{display:unset;opacity:0;animation:icon-fade-in var(--grammarly-animation-medium) linear forwards;animation-delay:var(--grammarly-animation-delay-medium)}.f-g-button__icon.default-to-disabled .svg-disabled,.f-g-button__icon.default-to-error-alt .svg-error,.f-g-button__icon.default-to-error .svg-error,.f-g-button__icon.default-to-warning-alt .svg-error,.f-g-button__icon.default-to-warning .svg-error,.f-g-button__icon.disabled-to-error-alt .svg-error,.f-g-button__icon.disabled-to-error .svg-error,.f-g-button__icon.disabled-to-warning-alt .svg-error,.f-g-button__icon.disabled-to-warning .svg-error,.f-g-button__icon.error-alt-to-disabled .svg-disabled,.f-g-button__icon.error-to-disabled .svg-disabled,.f-g-button__icon.loading-to-disabled .svg-disabled,.f-g-button__icon.loading-to-error-alt .svg-error,.f-g-button__icon.loading-to-error .svg-error,.f-g-button__icon.loading-to-warning-alt .svg-error,.f-g-button__icon.loading-to-warning .svg-error,.f-g-button__icon.success-to-disabled .svg-disabled,.f-g-button__icon.success-to-error-alt .svg-error,.f-g-button__icon.success-to-error .svg-error,.f-g-button__icon.success-to-warning-alt .svg-error,.f-g-button__icon.success-to-warning .svg-error,.f-g-button__icon.warning-alt-to-disabled .svg-disabled,.f-g-button__icon.warning-to-disabled .svg-disabled{display:unset}.f-g-button__icon.default-to-error .svg-error-group,.f-g-button__icon.default-to-warning .svg-error-group,.f-g-button__icon.disabled-to-error .svg-error-group,.f-g-button__icon.disabled-to-warning .svg-error-group,.f-g-button__icon.loading-to-error .svg-error-group,.f-g-button__icon.loading-to-warning .svg-error-group,.f-g-button__icon.success-to-error .svg-error-group,.f-g-button__icon.success-to-warning .svg-error-group{transform:scale(0);animation:badge-fade-in var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-long)}.f-g-button__icon.default-to-disabled .svg-disabled-group,.f-g-button__icon.default-to-error-alt .svg-error-group,.f-g-button__icon.default-to-warning-alt .svg-error-group,.f-g-button__icon.disabled-to-error-alt .svg-error-group,.f-g-button__icon.disabled-to-warning-alt .svg-error-group,.f-g-button__icon.error-alt-to-disabled .svg-disabled-group,.f-g-button__icon.error-to-disabled .svg-disabled-group,.f-g-button__icon.loading-to-disabled .svg-disabled-group,.f-g-button__icon.loading-to-error-alt .svg-error-group,.f-g-button__icon.loading-to-warning-alt .svg-error-group,.f-g-button__icon.success-to-disabled .svg-disabled-group,.f-g-button__icon.success-to-error-alt .svg-error-group,.f-g-button__icon.success-to-warning-alt .svg-error-group,.f-g-button__icon.warning-alt-to-disabled .svg-disabled-group,.f-g-button__icon.warning-to-disabled .svg-disabled-group{transform:scale(0);animation:badge-fade-in var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-short)}.f-g-button__icon.disabled-to-default .svg-disabled-group,.f-g-button__icon.disabled-to-error-alt .svg-disabled-group,.f-g-button__icon.disabled-to-error .svg-disabled-group,.f-g-button__icon.disabled-to-warning-alt .svg-disabled-group,.f-g-button__icon.disabled-to-warning .svg-disabled-group,.f-g-button__icon.error-alt-to-default .svg-error-group,.f-g-button__icon.error-alt-to-disabled .svg-error-group,.f-g-button__icon.error-alt-to-success .svg-error-group,.f-g-button__icon.error-to-default .svg-error-group,.f-g-button__icon.error-to-disabled .svg-error-group,.f-g-button__icon.warning-alt-to-default .svg-error-group,.f-g-button__icon.warning-alt-to-disabled .svg-error-group,.f-g-button__icon.warning-alt-to-success .svg-error-group,.f-g-button__icon.warning-to-default .svg-error-group,.f-g-button__icon.warning-to-disabled .svg-error-group{animation:badge-fade-out var(--grammarly-animation-short) linear forwards}.f-g-button__icon.error-alt-to-warning .svg-error-group,.f-g-button__icon.error-to-warning .svg-error-group,.f-g-button__icon.warning-alt-to-error .svg-error-group,.f-g-button__icon.warning-to-error .svg-error-group{animation:badge-fade-out var(--grammarly-animation-short) linear forwards,badge-fade-in var(--grammarly-animation-short) var(--grammarly-animation-delay-long) linear forwards}.f-g-button__icon.error-alt-to-warning-alt .svg-error-group,.f-g-button__icon.error-to-warning-alt .svg-error-group,.f-g-button__icon.warning-alt-to-error-alt .svg-error-group,.f-g-button__icon.warning-to-error-alt .svg-error-group{animation:badge-fade-out var(--grammarly-animation-short) linear forwards,badge-fade-in var(--grammarly-animation-short) var(--grammarly-animation-delay-short) linear forwards}.f-g-button__icon.default-to-warning-alt .svg-error-fill,.f-g-button__icon.default-to-warning .svg-error-fill,.f-g-button__icon.disabled-to-warning-alt .svg-error-fill,.f-g-button__icon.disabled-to-warning .svg-error-fill,.f-g-button__icon.loading-to-warning-alt .svg-error-fill,.f-g-button__icon.loading-to-warning .svg-base path,.f-g-button__icon.loading-to-warning .svg-error-fill,.f-g-button__icon.success-to-warning-alt .svg-error-fill,.f-g-button__icon.success-to-warning .svg-error-fill{fill:var(--grammarly-fgb-warning)}.f-g-button__icon.default-to-error-alt .svg-error-fill,.f-g-button__icon.default-to-error .svg-error-fill,.f-g-button__icon.disabled-to-error-alt .svg-error-fill,.f-g-button__icon.disabled-to-error .svg-error-fill,.f-g-button__icon.loading-to-error-alt .svg-error-fill,.f-g-button__icon.loading-to-error .svg-base path,.f-g-button__icon.loading-to-error .svg-error-fill,.f-g-button__icon.success-to-error-alt .svg-error-fill,.f-g-button__icon.success-to-error .svg-error-fill{fill:var(--grammarly-fgb-error)}.f-g-button__icon.loading-to-disabled .svg-base path,.f-g-button__icon.loading-to-error-alt .svg-base path{fill:var(--grammarly-fgb-secondary)}.f-g-button__icon.warning-to-error .svg-error-fill{animation:fill-primary-to-error var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-long)}.f-g-button__icon.error-alt-to-warning .svg-error-fill,.f-g-button__icon.error-to-warning .svg-error-fill{animation:fill-primary-to-warning var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-long)}.f-g-button__icon.warning-alt-to-error-alt .svg-error-fill,.f-g-button__icon.warning-alt-to-error .svg-error-fill,.f-g-button__icon.warning-to-error-alt .svg-error-fill{animation:fill-primary-to-error var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-short)}.f-g-button__icon.error-alt-to-warning-alt .svg-error-fill,.f-g-button__icon.error-to-warning-alt .svg-error-fill{animation:fill-primary-to-warning var(--grammarly-animation-short) linear forwards;animation-delay:var(--grammarly-animation-delay-short)}.f-g-button__icon.default-to-warning .svg-base path,.f-g-button__icon.success-to-warning .svg-base path{animation:fill-primary-to-warning var(--grammarly-animation-medium) linear forwards,fill-warning-to-primary var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.disabled-to-warning .svg-base path,.f-g-button__icon.error-alt-to-warning .svg-base path,.f-g-button__icon.error-to-warning .svg-base path{animation:fill-secondary-to-warning var(--grammarly-animation-medium) linear forwards,fill-warning-to-primary var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.disabled-to-error .svg-base path{animation:fill-secondary-to-error var(--grammarly-animation-medium) linear forwards,fill-error-to-secondary var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.default-to-error .svg-base path,.f-g-button__icon.success-to-error .svg-base path,.f-g-button__icon.warning-alt-to-error .svg-base path,.f-g-button__icon.warning-to-error .svg-base path{animation:fill-primary-to-error var(--grammarly-animation-medium) linear forwards,fill-error-to-secondary var(--grammarly-animation-medium) var(--grammarly-animation-delay-medium) linear forwards}.f-g-button__icon.default-to-disabled .svg-base path,.f-g-button__icon.default-to-error-alt .svg-base path,.f-g-button__icon.success-to-disabled .svg-base path,.f-g-button__icon.success-to-error-alt .svg-base path,.f-g-button__icon.warning-alt-to-disabled .svg-base path,.f-g-button__icon.warning-alt-to-error-alt .svg-base path,.f-g-button__icon.warning-to-disabled .svg-base path,.f-g-button__icon.warning-to-error-alt .svg-base path{animation:fill-primary-to-secondary var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.disabled-to-default .svg-base path,.f-g-button__icon.disabled-to-success .svg-base path,.f-g-button__icon.disabled-to-warning-alt .svg-base path,.f-g-button__icon.error-alt-to-default .svg-base path,.f-g-button__icon.error-alt-to-success .svg-base path,.f-g-button__icon.error-alt-to-warning-alt .svg-base path,.f-g-button__icon.error-to-default .svg-base path,.f-g-button__icon.error-to-success .svg-base path,.f-g-button__icon.error-to-warning-alt .svg-base path{animation:fill-secondary-to-primary var(--grammarly-animation-medium) linear forwards}.f-g-button__icon.loading-to-warning .svg-base path{animation:fill-warning-to-primary var(--grammarly-animation-medium) linear forwards;animation-delay:var(--grammarly-animation-delay-medium)}.f-g-button__icon.loading-to-error .svg-base path{animation:fill-error-to-secondary var(--grammarly-animation-medium) linear forwards;animation-delay:var(--grammarly-animation-delay-medium)}");var ME=28,DE={fillRule:"evenodd",clipRule:"evenodd"},FE=e=>t.createElement("div",fE({className:"f-g-button__loading-icon"},e),t.createElement("svg",{width:ME,height:ME,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{className:"svg-loading-path",fill:"white",d:"M20.623 13.237a6.666 6.666 0 10-2.13 5.687l-.812-.89a5.462 5.462 0 111.746-4.66l1.196-.137z"}))),zE=e=>{var{iconState:n}=e,r=cE(e,["iconState"]);return t.createElement("div",fE({className:"f-g-button__icon ".concat(n)},r),t.createElement("svg",{className:"svg",width:ME,height:ME,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement(BE,{className:"svg-ripple"},t.createElement("path",fE({d:"M23 14a9 9 0 11-18 0 9 9 0 0118 0z"},DE))),t.createElement(BE,{className:"svg-base"},t.createElement("path",fE({d:"M23 14a9 9 0 11-18 0 9 9 0 0118 0z"},DE))),t.createElement(BE,{className:"svg-default"},t.createElement("path",fE({d:"M15.177 15.941c.053.295.33.497.63.497h.942l.547-.077c-.875 1.283-2.393 1.874-4.054 1.613-1.351-.212-2.512-1.127-3.002-2.404-1.112-2.899 1.005-5.667 3.764-5.667 1.438 0 2.7.864 3.423 1.88a.613.613 0 00.85.164.603.603 0 00.18-.8A5.28 5.28 0 0013.64 8.72c-2.631.177-4.76 2.33-4.912 4.963-.176 3.064 2.254 5.566 5.277 5.566 1.588 0 3.01-.692 3.978-1.81l-.114.641v.58c0 .3.201.576.496.63a.61.61 0 00.723-.6v-3.473h-3.31a.61.61 0 00-.6.723z"},DE))),t.createElement(BE,{className:"svg-success"},t.createElement("path",fE({d:"M19.552 10.506c.22.219.223.575.004.796l-7.54 7.623-3.572-3.613a.563.563 0 01.8-.79l2.773 2.803 6.74-6.814a.563.563 0 01.795-.005z"},DE))),t.createElement(BE,{className:"svg-temp-error"},t.createElement("path",{d:"M15.067 9.5h-2.133l.191 6.875h1.755l.187-6.875zm-1.064 9.943c.613 0 1.145-.513 1.15-1.15a1.165 1.165 0 00-1.15-1.142 1.146 1.146 0 100 2.292z"})),t.createElement(BE,{className:"svg-error"},t.createElement("g",{className:"svg-error-group"},t.createElement("path",fE({className:"svg-error-mask",d:"M23.89 11.89a5.5 5.5 0 11-7.78-7.78 5.5 5.5 0 017.78 7.78z"},DE)),t.createElement("path",{className:"svg-error-fill",d:"M22.121 10.121A3 3 0 1117.88 5.88a3 3 0 014.242 4.242z"}))),t.createElement(BE,{className:"svg-disabled"},t.createElement("g",{className:"svg-disabled-group"},t.createElement("circle",{className:"svg-disabled-mask",cx:"20",cy:"8",r:"5.5"}),t.createElement("path",fE({className:"svg-disabled-fill",d:"M21.379 5.914a2.501 2.501 0 00-3.465 3.465l3.465-3.465zm.707.707l-3.465 3.465a2.501 2.501 0 003.465-3.465zm-4.56-1.096a3.5 3.5 0 114.949 4.95 3.5 3.5 0 01-4.95-4.95z"},DE))))))},BE=e=>t.createElement("g",{className:e.className},t.createElement("rect",{width:ME,height:ME}),e.children),jE=e=>{var{count:n,state:r}=e,i="disabled"===r||0===n,o=["f-g-button__count",i?"f-g-button__count--hidden":null].filter(Boolean).join(" ");return t.createElement("div",{className:o},i?"":n)};function HE(e){var t=T();return S((()=>{t.current=e}),[e]),t.current}var UE=t.forwardRef((function(e,n){var{count:r=0,state:i="default",mode:o="interactive"}=e,a=cE(e,["count","state","mode"]),[s,u]=I(i),c=HE(r),l=HE(i);S((()=>{var e=function(e){var{state:t,prevState:n,count:r,prevCount:i}=e;return null!=n&&t!==n?"".concat(n," ").concat(n,"-to-").concat(t):null==n&&"disabled"===t?"default default-to-".concat(t):null!=i&&r!==i?"".concat(t," counter-update"):t}({state:i,prevState:l,count:r,prevCount:c});u(e)}),[r,i]);var f=["f-g-button","f-g-button--".concat(i)].join(" ");return t.createElement("button",fE({className:f,ref:n},a),t.createElement("div",{style:{display:"flex",alignItems:"center"}},"loading"===i?t.createElement(FE,null):t.createElement(zE,{iconState:s,onAnimationEnd:e=>{"full-animation-timer"===e.animationName&&u(i)}}),t.createElement(jE,{count:r,state:i})))}));nE("ents/MenuButton/MenuButton.css",".menu-button{display:flex;align-items:center;width:100%;font-family:Arial;font-size:14px;font-style:normal;font-weight:400;color:#222;padding:8px 16px;cursor:pointer;background:transparent;border:none;text-align:inherit;white-space:nowrap}.menu-button:focus-visible,.menu-button:hover{background:rgba(64,64,64,.08)}");var VE=e=>{var n=uE({},e);return t.createElement("button",fE({className:"menu-button"},n))},WE={block:["slide"],inline:["slide"]};function GE(e,t,n){var{offset:r,strategies:i=WE,elementAnchor:o,targetAnchor:a}=n,s=Math.max(document.documentElement.clientWidth,window.innerWidth),u=Math.max(document.documentElement.clientHeight,window.innerHeight),{top:c,right:l,bottom:f,left:d}=t.getBoundingClientRect(),{width:h,height:p}=e.getBoundingClientRect();return{top:qE(c,f,p,o.block,a.block,r.block,u,i.block),left:qE(d,l,h,o.inline,a.inline,r.inline,s,i.inline)}}function qE(e,t,n,r,i,o,a,s){var u=("begin"===i?e:t)-("end"===r?n+o:-o),c=u,l=a-u-n,f=Math.min(c,l);if(f>=20)return u;var d=[{position:u,minMargin:f},...s.map((s=>{if("flip"===s){var u=("begin"!==i?e:t)-("end"!==r?n+o:-o);return{minMargin:Math.min(u,a-u-n),position:u}}if("slide"===s){var f=(l+c)/2;if(c<l){var d=Math.min(20,f);return{position:d,minMargin:d}}var h=a-n-Math.min(20,(l+c)/2);return{position:h,minMargin:a-n-h}}return{}}))];for(var h of d)if(null!=h.minMargin&&h.minMargin>=20)return h.position;return d.sort(((e,t)=>t.minMargin-e.minMargin))[0].position}function $E(e,t){S((()=>{var n=n=>{null==e.current||n.composedPath().includes(e.current)||t(n)};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}}),[e,t])}nE("components/Popover/Popover.css",".popup-content{position:fixed;z-index:9999;animation:visibleAnimation .1s linear}@keyframes visibleAnimation{0%{opacity:0}}.popup-content:focus{outline:none}");var KE=e=>{var{source:n,onClose:r,options:i={}}=e,o=cE(e,["source","onClose","options"]),a=T(null),{manageFocus:s=!0}=i;return S((()=>{var e;s&&(null===(e=a.current)||void 0===e||e.focus())}),[]),S((()=>function(){var e=null==n?void 0:n.firstElementChild;s&&null!=e&&e.focus()}),[n]),$E(a,(e=>{r(e)})),S((()=>{var e,t=null==n?void 0:n.firstElementChild;if(null!=a.current&&null!=t){var r=fE({offset:{inline:0,block:0},elementAnchor:{inline:"end",block:"end"},targetAnchor:{inline:"end",block:"begin"},strategies:{inline:["flip","slide"],block:["flip","slide"]}},null!==(e=i.position)&&void 0!==e?e:{}),o=GE(a.current,t,r);a.current.style.top="".concat(o.top,"px"),a.current.style.left="".concat(o.left,"px")}})),S((()=>{var e=()=>r();return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),t.createElement("div",fE({className:"popup-content",role:"dialog",tabIndex:-1,ref:a},o))},YE=e=>{var{active:r=!1,activator:i,onClose:o,options:a,children:s}=e,u=T(null),c=t.createElement(KE,{source:u.current,onClose:o,options:a},s);return t.createElement("div",{ref:u},n.only(i),r&&c)};function QE(e,t,n){return["strength-meter__step",n>e/t?"strength-meter__step--on":null].filter(Boolean).join(" ")}nE("trengthMeter/StrengthMeter.css",".strength-meter{display:flex;padding:2px;gap:3px}.strength-meter__step{border-radius:1px;width:5px;height:5px;background:#e7e9f5}.strength-meter__step--on{background:var(--grammarly-colors-blue-50)}");var JE=e=>{var{strength:n=0,steps:r=5}=e;if(r<0||!isFinite(r))throw new Error("StrengthMeter: invalid step count: ".concat(r));var i,o=(i=n,isFinite(i)?Math.max(0,Math.min(1,i)):0);return t.createElement("div",{className:"strength-meter"},Array.from(Array(r).keys()).map((e=>t.createElement("div",{key:e,className:QE(e,r,o)}))))};nE("c/components/Switch/Switch.css",".switch{position:relative;box-sizing:border-box;width:48px;height:20px;border-radius:32px;user-select:none;cursor:pointer;font-family:Arial,sans-serif;font-weight:700;font-size:10px;line-height:16px;color:var(--grammarly-colors-neutral-0);letter-spacing:.04em;text-transform:uppercase;display:flex;flex-direction:row;transition:background-color .3s}.switch.simulate-focused,.switch:focus-within{outline:3px solid #79a8f2}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.switch__label{display:flex;box-sizing:border-box;width:24px;margin:0 5px;justify-content:center;align-items:center}.switch__slider{position:absolute;left:2px;top:2px;width:16px;height:16px;border-radius:8px;background:#fff;display:inline-block;transition:left .2s,background-color .2s}.switch--active .switch__slider{left:30px}.switch--active{background:var(--grammarly-colors-blue-50);text-align:left}.switch--active:not(.switch--disabled).simulate-hover,.switch--active:not(.switch--disabled):hover{background:var(--grammarly-colors-blue2-40)}.switch--active:not(.switch--disabled).simulate-active,.switch--active:not(.switch--disabled):active{background:var(--grammarly-colors-blue2-60)}.switch--inactive{flex-direction:row-reverse;background:var(--grammarly-colors-neutral2-50);text-align:right}.switch--inactive:not(.switch--disabled).simulate-hover,.switch--inactive:not(.switch--disabled):hover{background:var(--grammarly-colors-neutral2-40)}.switch--inactive:not(.switch--disabled).simulate-active,.switch--inactive:not(.switch--disabled):active{background:var(--grammarly-colors-neutral2-60)}.switch--disabled{background:var(--grammarly-colors-neutral2-30);text-align:left;cursor:not-allowed}");var ZE=e=>t.createElement("input",fE({className:"sr-only",type:"checkbox"},e)),XE=e=>{var{checked:n=!1,disabled:r=!1,className:i,onClick:o,onChange:a,id:s,"aria-label":u,"aria-labelledby":c}=e,l=cE(e,["checked","disabled","className","onClick","onChange","id","aria-label","aria-labelledby"]),f={checked:n,disabled:r,id:s,"aria-label":u,"aria-labelledby":c,onChange:()=>{}},d=yE("switch",n?"switch--active":"switch--inactive",r&&"switch--disabled",i);return t.createElement("div",fE({className:d,onClick:e=>{r||null==o||o(e)},onChange:a},l),t.createElement(ZE,fE({},f)),t.createElement("div",{className:"switch__label"},n?"On":"Off"),t.createElement("div",{className:"switch__slider"}))};nE("ents/TextButton/TextButton.css",".text-button{display:inline-block;margin:0;padding:2px 4px;box-sizing:border-box;border-radius:4px;cursor:pointer;vertical-align:baseline;font-size:inherit;line-height:1.4;font-family:Arial,sans-serif;font-weight:700;color:var(--grammarly-colors-blue-50);background:none;border:none;transition:background-color .3s}.text-button:disabled{color:var(--grammarly-colors-neutral2-40);cursor:not-allowed}.text-button:not(:disabled).simulate-hover,.text-button:not(:disabled):hover{background:var(--grammarly-colors-blue2-1)}.text-button:not(:disabled).simulate-active,.text-button:not(:disabled):active{background:var(--grammarly-colors-blue2-10)}.text-button.simulate-focused,.text-button:focus-within{outline:3px solid #79a8f2}");var eC=e=>{var{className:n}=e,r=cE(e,["className"]),i=yE("text-button",n);return t.createElement("button",fE({className:i},r))};nE("components/Tooltip/Tooltip.css",".tooltip__body{display:inline-block;box-sizing:border-box;padding:4px 8px;border-radius:4px;background:var(--grammarly-colors-neutral-60);font-family:var(--grammarly-common-font-family);font-size:12px;line-height:18px;white-space:nowrap;color:var(--grammarly-colors-neutral-0)}.grammarly-color-scheme-dark .tooltip__body{background:var(--grammarly-colors-neutral-0);color:var(--grammarly-colors-neutral-60)}");var tC=t.forwardRef((function(e,n){return t.createElement("div",fE({ref:n,className:"tooltip__body"},e))})),nC={inline:8,block:0},rC={inline:0,block:8};var iC=e=>{var{position:n="bottom",visible:r=!1,content:i,children:o}=e,a=cE(e,["position","visible","content","children"]),[s,u]=I(r),c=()=>{u(!0)},l=()=>{u(!1)};if(S((()=>{null!=i&&""!==i||l()}),[i]),null==i||""===i)return t.createElement(t.Fragment,null,o);var f,d=yE("tooltip__wrapper"),h=t.createElement("div",fE({className:d,onFocus:c,onBlur:l,onMouseOver:c,onMouseLeave:l},a),o),p="string"!=typeof(f=n)?f:"left"===f||"right"===f?{offset:nC,elementAnchor:{inline:"left"===f?"end":"begin",block:"begin"},targetAnchor:{inline:"left"===f?"begin":"end",block:"begin"}}:"bottom"===f||"top"===f?{offset:rC,elementAnchor:{inline:"begin",block:"bottom"===f?"begin":"end"},targetAnchor:{inline:"begin",block:"bottom"===f?"end":"begin"}}:void 0;return t.createElement(YE,{active:s,activator:h,onClose:l,options:{manageFocus:!1,position:p}},t.createElement(tC,{"data-grammarly-tag":"Tooltip"},i))};function oC(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,n]=I(e),r=_((()=>n((e=>!e))),[]);return[t,r]}nE("neDetailCard/ToneDetailRow.css",".tone-detail-row{display:flex;align-items:center;justify-content:space-between;line-height:21px;font-size:14px;height:32}.tone-detail-row__emoji{margin-right:10px}.tone-detail-row__name{flex:1;text-transform:capitalize}.tone-detail-row__strength{display:flex}.tone-detail-row__actions{margin-left:24px;margin-right:-8px}");var aC={CORRECT:"EMOTION_LIKE",INCORRECT:"EMOTION_DISLIKE"},sC=e=>{var{onClose:n}=e;return S((()=>{var e=setTimeout(n,2e3);return()=>{clearTimeout(e)}}),[]),t.createElement(OE,null,t.createElement(OE.Header,{onClose:n},t.createElement(xE,{level:"h4",semanticOnly:!0},"Thank you for the feedback!")))},uC=e=>{var{onClose:n,onFeedback:r}=e,[i,o]=oC(!1);function a(e){o(),e.stopPropagation()}return i?t.createElement(sC,{onClose:n}):t.createElement(OE,null,t.createElement(OE.Header,{onClose:n},t.createElement(xE,{level:"h4",semanticOnly:!0},"Help us improve")),t.createElement(OE.Row,{padded:!1},t.createElement(VE,{onClick:e=>{r(aC.CORRECT),a(e)}},t.createElement(vE,{role:"presentation",style:{marginRight:12}}),"Tone seems correct")),t.createElement(OE.Row,{padded:!1},t.createElement(VE,{onClick:e=>{r(aC.INCORRECT),a(e)}},t.createElement(mE,{role:"presentation",style:{marginRight:12}}),"Tone seems incorrect")))},cC=e=>{var{onFeedback:n}=e,[r,i]=oC(!1),o=()=>{i()},a=t.createElement(TE,{icon:gE,accessibilityLabel:"Provide feedback",onClick:o});return t.createElement(YE,{active:r,activator:a,onClose:o},t.createElement(uC,{onClose:o,onFeedback:n}))},lC=e=>{var{tone:n,onFeedback:r}=e;return t.createElement("div",{className:"tone-detail-row"},t.createElement("div",{className:"tone-detail-row__emoji",role:"presentation"},t.createElement(LE,{code:n.emojiId,character:n.emoji,alt:n.name})),t.createElement("div",{className:"tone-detail-row__name"},n.name),t.createElement("div",{className:"tone-detail-row__strength","aria-label":n.intensityLabel},t.createElement(iC,{content:n.intensityLabel,position:"top",role:"presentation"},t.createElement(JE,{strength:n.confidence}))),t.createElement("div",{className:"tone-detail-row__actions"},t.createElement(cC,{onFeedback:function(e){r({emotion:n.name,type:e})}})))};nE("eDetailCard/ToneDetailCard.css",".tone-detail-card__intro{margin:0;font-size:15px;line-height:21px;font-weight:700}");var fC=e=>{var{tones:n,onClose:r,onFeedback:i,footer:o}=e,a=cE(e,["tones","onClose","onFeedback","footer"]),s=function(e){var t=e.reduce(((e,t)=>e+t.confidence),0);return e.sort(((e,t)=>t.confidence-e.confidence)).map((e=>{var n=e.confidence<.25?"Slight":e.confidence<.5?"Moderate":e.confidence/t>.5?"Very strong":"Strong";return fE(fE({},e),{},{intensityLabel:"".concat(n," intensity")})}))}(n);return t.createElement("div",{className:"tone-detail-card"},t.createElement(OE,fE({"data-grammarly-tag":"ToneDetail"},a),t.createElement(OE.Header,{onClose:r},t.createElement(xE,{level:"h3",semanticOnly:!0},"Grammarly tone detector")),t.createElement(OE.Section,null,t.createElement(OE.Row,null,t.createElement("p",{className:"tone-detail-card__intro"},"How your text may sound to readers:")),t.createElement(OE.Row,{style:{paddingTop:0}},s.map((e=>t.createElement(lC,{key:e.name,tone:e,onFeedback:i}))))),o))};function dC(e,t){return(dC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hC={error:null},pC=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=hC,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,dC(t,n),r.getDerivedStateFromError=function(e){return{error:e}};var i=r.prototype;return i.reset=function(){this.updatedWithError=!1,this.setState(hC)},i.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},i.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},i.componentDidUpdate=function(e){var t,n,r,i,o=this.state.error,a=this.props.resetKeys;null===o||this.updatedWithError?null!==o&&(void 0===(r=e.resetKeys)&&(r=[]),void 0===(i=a)&&(i=[]),r.length!==i.length||r.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,a),this.reset()):this.updatedWithError=!0},i.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,i=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(m(i))return i;if("function"==typeof n)return n(o);if(r)return d(r,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(r);function gC(e,t){const[n,r]=I(e.get(t));return S((()=>{const n=e=>{r(e.detail.value)};return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}),[e,t]),n}var mC="container_F5u7S";nE("on/GButtonContainer.module.css",".container_F5u7S{color:var(--gr-color-neutral-60);position:fixed}");const vC=({manager:e,...n})=>{const{propertyValue:r,ref:i}=NE(sE.left),{propertyValue:o,ref:a}=NE(sE.top),s=Boolean(r),u=Boolean(o),c={right:s?void 0:`var(${sE.right}, 24px)`,left:s?`var(${sE.left}, 24px)`:void 0,bottom:u?void 0:`var(${sE.bottom}, 24px)`,top:u?`var(${sE.top}, 24px)`:void 0,zIndex:`var(${sE.zIndex}, 1000)`},l=[i,a];return t.createElement("div",{ref:e=>{l.forEach((t=>t(e)))},"data-grammarly-tag":"GButtonContainer",className:mC,part:"g-button-container",style:{...c}},t.createElement("div",{style:{display:"flex",gap:8,flexDirection:u?"column-reverse":"column",alignItems:s?"flex-start":"flex-end"},...n}))},yC=e=>{const{propertyValue:n,ref:r}=NE(sE.left),i=Boolean(n);return t.createElement("div",{ref:r,style:{display:"flex",gap:8,flexDirection:i?"row-reverse":"row"},...e})},_C=f({message:null,show(){}});const bC=f({activePopup:null,setActivePopup(){}});var wC={starIcon:"starIcon_90nwW",active:"active_3Loih"};nE("erfeedback/StarIcon.module.css",".starIcon_90nwW{cursor:pointer}.starIcon_90nwW path{fill:#f0f2fc;stroke:#6d758d;transition:fill .2s,stroke .2s}.active_3Loih path{fill:var(--grammarly-colors-yellow-50);stroke:var(--grammarly-colors-yellow-50)}");const SC=({value:e,hoverState:n,onHover:r,onClick:i,...o})=>{function a(){r(e)}return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",tabIndex:0,role:"button","aria-label":1===e?"1 star":`${e} stars`,onFocus:a,onMouseEnter:a,onClick:()=>i(e),onKeyPress:function(t){[" ","Enter"].includes(t.key)&&i(e)},className:[wC.starIcon,n>=e?wC.active:null].join(" ")},t.createElement("path",{d:"M12 0 15.1035 7.7284 23.4127 8.2918 17.0216 13.6316 19.0534 21.7082 12 17.28 4.9466 21.7082 6.9784 13.6316.5873 8.2918 8.8965 7.7284 12 0Z",fill:"currentcolor",stroke:"currentcolor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};var xC={container:"container__pNvg",step:"step_14fii",starContainer:"starContainer_2YKYE",starLabelRange:"starLabelRange_1SNds",starLabelRangeMin:"starLabelRangeMin_3ZDdW",starLabelRangeMax:"starLabelRangeMax_1eY6H",starLabel:"starLabel_2IBtg",primary:"primary_1gY-9",secondary:"secondary_13MgY",titleBar:"titleBar_12d7j",titleBarText:"titleBarText_1uV3N"};nE("edback/UserFeedback.module.css",'.container__pNvg{padding:0 8px;box-sizing:border-box;width:100%;font-family:var(--grammarly-common-font-family);line-height:21px;color:#0e101a}.container__pNvg div.step_14fii{text-align:left;padding:0 8px 8px;font-size:14px}.container__pNvg .starContainer_2YKYE{display:grid;grid-template-columns:repeat(5,1fr);justify-items:center;padding:8px 0}.container__pNvg .starLabelRange_1SNds{display:grid;grid-template-columns:repeat(2,1fr);font-size:12px;color:var(--grammarly-colors-neutral-50)}.container__pNvg .starLabelRangeMin_3ZDdW{text-align:left}.container__pNvg .starLabelRangeMax_1eY6H{text-align:right}.container__pNvg .starLabel_2IBtg{font-weight:700;font-size:14px;text-align:center}.container__pNvg h1{font-weight:700;font-size:15px;color:#222;margin:8px 0}.container__pNvg p{margin:8px 0}.container__pNvg p[contenteditable]{text-align:left;padding:13.5px 8px;background:var(--grammarly-colors-neutral-0);border:1px solid var(--grammarly-colors-blue-50);box-sizing:border-box;border-radius:4px;font-weight:400;font-size:14px;margin:8px 0 16px}.container__pNvg p[contenteditable]:empty:before{content:"Tell us what you think";color:var(--grammarly-colors-neutral-50)}.container__pNvg .primary_1gY-9,.container__pNvg .secondary_13MgY{border:none;border-radius:4px;font-size:14px;line-height:32px;padding:0 8px;cursor:pointer;margin-right:8px;display:inline;width:auto}.container__pNvg .primary_1gY-9{background:var(--grammarly-colors-blue-50);font-weight:700}.container__pNvg .primary_1gY-9,.container__pNvg .primary_1gY-9:hover{color:var(--grammarly-colors-neutral-0)}.container__pNvg .primary_1gY-9:disabled{color:var(--grammarly-colors-neutral-30);background:#f0f2fc}.container__pNvg .secondary_13MgY{color:var(--grammarly-colors-neutral-50);background:transparent;font-weight:400}.container__pNvg .secondary_13MgY:hover{background:#f9faff;color:#4a6ee0;cursor:pointer}.container__pNvg .titleBar_12d7j{display:flex;flex-direction:row;align-items:center}.container__pNvg .titleBarText_1uV3N{display:flex;width:100%;color:var(--grammarly-colors-neutral-60);font-size:calc(0.75px*var(--rem));font-weight:400;letter-spacing:calc(0px*var(--rem));line-height:calc(1.125px*var(--rem));padding-left:8px}.container__pNvg .titleBarText_1uV3N svg{margin-right:12px;width:16px;height:16px}');const EC=({onShow:e=(()=>{}),onHide:n=(()=>{}),manager:r,initiatedBy:i})=>{const o=T(null),[a,s]=I(1),[u,c]=I(0),[l,f]=I(0),[d,h]=I(""),p=r.authService.getClientId(),g=r.feedback;S((()=>(wS.track("userFeedbackPopupShow",(()=>[p,i])),e(),function(){g.recordFeedbackRequest()})),[]),S((()=>{2===a&&o.current?.focus()}),[a]);function m(e){c(e)}function v(e){f(e),s(2)}let y=!1;async function _(){if(!y&&l>0){wS.track("userFeedbackFormSuccess",(()=>[p,l,d]));try{await g.submitFeedback({rating:l,comment:d,url:fw(window),containerId:cS()}),y=!0}catch(e){ew.error("Failed to submit feedback",e)}}}return t.createElement("div",{className:xC.container},t.createElement("div",{className:xC.titleBar},t.createElement("div",{className:xC.titleBarText},t.createElement(pE,null)," ",3!==a?"Help us improve":""),t.createElement("div",{className:xC.titleBarAction},t.createElement(TE,{icon:hE,accessibilityLabel:"Close",tabIndex:0,onClick:async function(){wS.track("userFeedbackPopupClose",(()=>[p,"close"])),await _(),n()}}))),1===a?t.createElement("div",{className:xC.step,onMouseLeave:function(){c(0)}},t.createElement("h1",null,"How valuable were Grammarly's writing suggestions to you?"),t.createElement("div",{className:xC.starContainer},t.createElement(SC,{value:1,hoverState:u,onHover:m,onClick:v}),t.createElement(SC,{value:2,hoverState:u,onHover:m,onClick:v}),t.createElement(SC,{value:3,hoverState:u,onHover:m,onClick:v}),t.createElement(SC,{value:4,hoverState:u,onHover:m,onClick:v}),t.createElement(SC,{value:5,hoverState:u,onHover:m,onClick:v})),0===u?t.createElement("div",{className:xC.starLabelRange},t.createElement("div",{className:xC.starLabelRangeMin},"Not at all valuable"),t.createElement("div",{className:xC.starLabelRangeMax},"Extremely valuable")):null,0!==u?t.createElement("div",{className:xC.starLabel},{1:"Not at all valuable",2:"Slightly valuable",3:"Somewhat valuable",4:"Very valuable",5:"Extremely valuable"}[u]):null):null,2===a?t.createElement("div",{className:xC.step},t.createElement("h1",{id:"grammarly-user-feedback-comment"},l>3?"What aspect of Grammarly did you find most valuable?":"How can Grammarly improve to be more valuable to you?"),t.createElement("p",{ref:o,contentEditable:!0,onInput:e=>h(e.currentTarget.innerText.trim()),"aria-labelledby":"grammarly-user-feedback-comment"}),t.createElement("div",null,t.createElement("button",{className:xC.primary,disabled:""===d&&l<5,onClick:async function(){await _(),setTimeout((()=>n()),7e3),s(3)}},"Submit"),t.createElement("button",{className:xC.secondary,onClick:async function(){wS.track("userFeedbackPopupClose",(()=>[p,"dismissButton"])),await _(),n()}},"Dismiss"))):null,3===a?t.createElement("div",{className:xC.step},t.createElement("h1",null,"Thank you!"),t.createElement("p",null,"Your feedback helps us improve."),t.createElement("div",null,t.createElement("button",{className:xC.primary,onClick:async function(){wS.track("userFeedbackPopupClose",(()=>[p,"complete"])),n()}},"Done"))):null)};var CC="containerIsCard_mRO6x",kC="visible_1Hyl7";nE("ck/UserFeedbackCard.module.css",".containerIsCard_mRO6x{width:320px;position:fixed;z-index:9999;font-family:var(--gr-common-font);border-radius:8px;box-shadow:0 0 1px rgb(14 16 26/25%)}@keyframes visibleAnimation_37Qyv{0%{opacity:0}}.visible_1Hyl7{animation:visibleAnimation_37Qyv .25s ease-in;animation-iteration-count:1}");const TC=({manager:e,initiatedBy:n,position:r,onHide:i,onShow:o})=>{const a=T(null),s=[kC],u={};null!=r&&(s.push(CC),u.top=`${r.top}px`,u.left=`${r.left}px`),S((()=>{const e=a.current;null!=e&&(e.classList.add(kC),e.addEventListener("animationend",(()=>e.classList.remove(kC)),{once:!0}))}),[]);const c=t.createElement(EC,{onShow:o,onHide:i,manager:e,initiatedBy:n});return t.createElement("div",{ref:a,className:s.join(" "),style:u,role:"dialog","data-grammarly-tag":"GrammarlyFeedback"},r?t.createElement(OE,null,c):c)},IC=hw();var OC="error_3_xc5",NC="button_cTZqS";nE("onnectAccountButton.module.css",".error_3_xc5{color:var(--grammarly-colors-red-50);font-size:12px}.button_cTZqS{text-decoration:none;font:inherit;display:block;width:100%;color:inherit;transition:color .1s ease-in}.button_cTZqS:hover{color:var(--grammarly-colors-neutral-50)}");const AC=({onClose:e,manager:n})=>{const r=n.authService.getClientId(),i=function(e){const[t,n]=I(null);return S((()=>{e.authService.createOAuthRequest({mode:"web_message",redirectUri:e.config.oauth?.redirectUri??window.origin,scopes:["grammarly.capi.all"],state:IC}).then((e=>{n(e)}))}),[]),t}(n),o=b(_C),a=gC(n.authService.state,"clientInfo"),s=function(e){return"failed"===e?"Connection failed":"disconnected"===e?"Your account was disconnected":null}(gC(n.authService.state,"connectedAccountStatus"));return null==i?null:t.createElement("a",{className:NC,href:`${i.authorizeUrl}&close=1`,target:"_blank",rel:"opener",onClick:t=>{if(null==i)return;n.authService.setActiveOAuthRequest(i);const s=i,u=window.open(s.authorizeUrl,"GrammarlyOAuthConsentScreen",function(){const e=Math.min(640,screen.availWidth),t=Math.min(900,screen.availHeight);return`resizable,scrollbars,status,width=${e},height=${t},left=${screen.width-e>>1},top=${screen.height-t>>1}`}());wS.track("connectAccountButtonClick",(()=>[r,null==u])),"Desktop"!==a?.type?(null!=u?t.preventDefault():wS.count("popup.blocked"),window.addEventListener("message",(function t(r){if(r.origin!==s.origin)return;const i=r.data;if("authorization_response"===i.type){if(i.response.state!==IC)return;window.removeEventListener("message",t),u?.close(),n.authService.handleOAuthCallback({code:i.response.code,codeVerifier:s.codeVerifier}).then((()=>{wS.count("auth.success"),o.show("Account Connected!",3e3,"success"),e()}))}else if("authorization_cancel"===i.type){if(i.response.state!==IC)return;wS.count("auth.cancel"),window.removeEventListener("message",t),u?.close(),e()}}))):t.preventDefault()}},"Connect your Grammarly account",null==s?null:t.createElement(t.Fragment,null,t.createElement("br",null),t.createElement("span",{className:OC},s)))};var RC="disablePopup_39Eq_",PC="button_1oBcd";nE("/popups/GButtonMenu.module.css",".disablePopup_39Eq_{min-width:200px;max-width:262px}.disablePopup_39Eq_ a,.disablePopup_39Eq_ a:active,.disablePopup_39Eq_ a:visited{color:inherit}.disablePopup_39Eq_ a.button_1oBcd,.disablePopup_39Eq_ a.button_1oBcd:active,.disablePopup_39Eq_ a.button_1oBcd:visited,.disablePopup_39Eq_ button{font:inherit;display:block;width:100%;border:none;cursor:pointer;transition:color .1s ease-in;margin:0;padding:0;background:none;font-family:inherit;text-align:inherit;text-decoration:none;color:inherit}.disablePopup_39Eq_ a.button_1oBcd:hover,.disablePopup_39Eq_ button:hover{color:var(--grammarly-colors-neutral-50)}.disablePopup_39Eq_ [role=Header]{background-color:hsla(0,0%,90.2%,.16);border-radius:4px;font-size:12px;line-height:18px;margin:0 8px;padding:8px;width:auto}");var LC="label_Id36O";nE("s/GButtonMenuSwitch.module.css",".label_Id36O{cursor:pointer;display:flex;align-items:center;gap:10px;justify-content:space-between}");const MC=({label:e,configKey:n,initialValue:r=!1,onChange:i,...o})=>{const[a,s]=function(e="session"){const[t,n]=I(iS());return[t,t=>{("session"===e?nS:rS)(t),n(iS())}]}("site"),u=n?Boolean(a[n])??r:r;return t.createElement("label",{className:LC,...o},e,t.createElement(XE,{checked:u,onChange:()=>{const e=!u;n&&s({[n]:e}),i?.(e)}}))};var DC={popup:"popup_1R0rq"};nE("button/popups/Popup.module.css",".popup_1R0rq{border-radius:8px;box-shadow:var(--gr-z400);z-index:var(--gr-level1);font-size:14px;font-weight:400}.popup_1R0rq:focus{outline:none}");const FC=({className:e,...n})=>{const r=T(null);S((()=>{r.current?.focus()}),[]);const i=[DC.popup,e??null].join(" ");return t.createElement("div",{role:"dialog",tabIndex:-1,ref:r,className:i,...n})};function zC(e,t,n){S((()=>{function n(n){n.key===e&&t()}return window.addEventListener("keyup",n),()=>{window.removeEventListener("keyup",n)}}),n??[])}const BC={GButtonMenu:({onClose:e,manager:n,...r})=>{const i=gC(n.authService.state,"user");const o=n.authService.getClientId(),a=b(_C),[s,u]=I(!1),c=gC(n.authService.state,"clientInfo"),l=T(null);$E(l,(t=>{e(),t.preventDefault()}));const f=n.gbuttonManager.hasVisibleAlerts(),d=null!=i&&!i.isAnonymous,h=!0===c?.oauthEnabled&&!d,p=n.config.ui?.showToneDetector??!1,g=`?utm_source=${o??""}&utm_medium=developer&utm_campaign=editorPluginGButtonLearnMore`;return t.createElement(FC,{className:RC,"aria-label":"Settings",...r},t.createElement("div",{ref:l},t.createElement(OE,{"data-grammarly-tag":"DisablePluginPopup"},s?t.createElement(TC,{manager:n,initiatedBy:"gButtonMenu",onHide:()=>u(!1)}):t.createElement(t.Fragment,null,t.createElement(OE.Section,null,d?null:t.createElement(OE.Row,{role:"Header"},"Grammarly helps you write clearly and mistake-free."," ",t.createElement("a",{href:`https://www.grammarly.com/${g}`,target:"_blank",rel:"noopener",onClick:()=>{wS.track("learnMoreButtonClick",(()=>[o]))}},"Learn more")),f?t.createElement(OE.Row,null,t.createElement("button",{onClick:()=>{e(),n.gbuttonManager.showFirstHighlight(),wS.track("viewSuggestionsButtonClick",(()=>[o]))}},"View suggestions")):null,h?t.createElement(OE.Row,null,t.createElement(AC,{manager:n,onClose:e})):null,t.createElement(OE.Row,null,t.createElement("button",{onClick:()=>{nS({isEnabled:!1}),n.gbuttonManager.disablePlugin("user-next-visit"),wS.track("turnOffButtonClick",(()=>[o])),e()}},Gb.isElectron()?"Turn off until application restart":"Turn off until next visit"))),t.createElement(OE.Section,null,t.createElement(OE.Row,null,t.createElement(MC,{label:"Show underlines",configKey:"showUnderlines",onChange:e=>{n.gbuttonManager.updateShowUnderlines(e),wS.track("viewSuggestionsToggleClick",(()=>[o,e?"on":"off"]))}})),p?t.createElement(OE.Row,null,t.createElement(MC,{label:"Show detected tone",configKey:"showDetectedTone",onChange:e=>{wS.count(e?"gbutton.showDetectedTone":"gbutton.hideDetectedTone"),wS.track("showDetectedToneToggleClick",(()=>[o,e?"on":"off"]))}})):null),t.createElement(OE.Section,null,t.createElement(OE.Row,null,t.createElement("button",{onClick:()=>{u(!0)}},"Help us improve"))),d?t.createElement(OE.Section,null,t.createElement(OE.Row,null,t.createElement("a",{className:PC,href:"https://app.grammarly.com/",target:"_blank",rel:"noopener",onClick:()=>{wS.track("myGrammarlyButtonClick",(()=>[o]))}},"My Grammarly")),t.createElement(OE.Row,null,t.createElement("button",{onClick:()=>{n.authService.logout(),a.show("Logged out",2e3,"success"),wS.track("logoutButtonClick",(()=>[o])),e()}},"Log out"))):null))))}},jC=({type:e,onClose:n,manager:r})=>{zC("Escape",(()=>{null!=e&&n()}),[e]);const i=BC[e];return null!=i?t.createElement(i,{onClose:n,manager:r}):null};const HC={error:"error",loading:"loading",disabledByExtension:"disabled",disabledByUser:"disabled",ok:"default"};const UC={offset:{inline:0,block:8},elementAnchor:{inline:"end",block:"end"},targetAnchor:{inline:"end",block:"begin"}},VC={accountDisconnected:!1,connectionFailed:!1},WC=({manager:e,linkedButtons:n})=>{const r=gC(e.authService.state,"connectedAccountStatus"),{activePopup:i,setActivePopup:o}=b(bC),a=T(null),s=function(){const[e,t]=I([]),n=T(null);return S((()=>{if(null!=n.current)return;const r=e[0];return null!=r&&(n.current=setTimeout((()=>{n.current=null,t(e.slice(1))}),r.duration)),()=>{null!=n.current&&clearTimeout(n.current)}}),[e]),{state:e[0]?.state,message:e[0]?.message??null,show:(n,r,i)=>{t([...e,{message:n,duration:r,state:i}])}}}(),u=e.authService.getClientId(),c=function(e){const[t,n]=I(0);return S((()=>{e.gbuttonManager.addEventListener("alertCount",(e=>{n(e.detail)}))}),[]),t}(e),l=function(e){const[t,n]=I(e.gbuttonManager.status);return S((()=>{e.gbuttonManager.addEventListener("status",(e=>{n(e.detail)}))}),[]),t}(e);if("pending"===l||"disabledByExtension"===l)return null;if(!e.gbuttonManager.hasPrimary()&&e.isConnected)e.gbuttonManager.setPrimary(e);else if(!e.gbuttonManager.isPrimary(e))return null;"disconnected"!==r||VC.accountDisconnected?"failed"!==r||VC.connectionFailed||(VC.connectionFailed=!0,s.show("Connection failed",4e3,"warning")):(VC.accountDisconnected=!0,s.show("Reconnect your account",4e3,"warning"));const f=s.state??function(e,t,n){const r=HC[e]??"default";return"loading"===r?0===t?"loading":"default":"disconnected"===n||"failed"===n?"warning":r}(l,c,r),d=null===i?s.message??function(e,t){if("error"===e)return"Grammarly is not available";if("disabled"===e)return"Grammarly is off";if(t>0)return`${t} ${function(e,t){return`${e}${1===t?"":"s"}`}("suggestion",t)} available`;if("loading"===e)return"Your content is being reviewed";if("success"===e)return"Keep up the great work!";if(0===t)return"No suggestions yet";return""}(f,c):"",h=null!=s.state?0:c;return t.createElement(pC,{fallback:t.createElement(t.Fragment,null),onError:t=>e.handleFatalError(t)},t.createElement(vC,{manager:e},t.createElement(_C.Provider,{value:s},t.createElement(jC,{manager:e,onClose:()=>{o(null),"failed"===r&&e.authService.setAccountStatus(null),wS.track("gPopupClose",(()=>[u])),a.current?.focus()},type:i}),t.createElement(yC,null,null!=n&&n,t.createElement(iC,{content:d,position:UC,visible:null!=s.message||void 0},t.createElement(UE,{"aria-label":"Grammarly suggestions","data-grammarly-tag":"GrammarlyButton","data-grammarly-status":l.toString(),"data-grammarly-count":c,ref:a,count:h,state:f,onClick:()=>{"disabled"===f?(rS({isEnabled:!0}),wS.track("gButtonEnable",(()=>[u]))):(wS.count("gbutton.expand"),wS.track("gPopupShow",(()=>[u])),o(null!=i?null:"GButtonMenu"))}}))))))};var GC={container:"container_1cDcJ",visible:"visible_1-yyb"};nE("ogenie/ToneDetector.module.css",".container_1cDcJ{transition:opacity .1s;opacity:0}.visible_1-yyb{opacity:1}");nE("nie/FloatingEmogenieButton.css",".floating-emogenie-button{text-transform:none;overflow:visible;margin:0;padding:0;border:none;cursor:pointer;background-color:#404040;border-radius:14px;display:flex;justify-content:center;align-items:center;width:28px;height:28px;animation:visibleAnimation .15s linear}@keyframes visibleAnimation{0%{opacity:0}}.floating-emogenie-button img{display:block;width:16px;height:16px;margin:0;transform:none}");const qC=t.forwardRef((function({emotion:e,...n},r){return t.createElement("button",{className:"floating-emogenie-button",ref:r,...n},t.createElement(LE,{code:e.emojiId,character:e.emoji,alt:e.name}))}));function $C(e){const[t,n]=I(e.emotions);return S((()=>{const t=e=>{n(e.detail.emotions)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}),[]),t}const KC=`${eS}.toneMenuCount`,YC=({onClose:e,manager:n,...r})=>{const{setActivePopup:i}=b(bC),o=$C(n.toneManager),a=parseInt(localStorage.getItem(KC)??"0",10);if(S((()=>function(){const e=1+a;e<=10&&localStorage.setItem(KC,String(e))}),[]),!o.length)return null;const s=a<=3;return t.createElement("div",{className:"tone-detail-menu"},t.createElement(FC,{"aria-label":"Tone Detector Details",...r},t.createElement(fC,{tones:o,onClose:e,onFeedback:async function(e){await n.connection.provideToneFeedback(e.emotion,e.type)},style:{width:300},footer:s?t.createElement(OE.Footer,{bordered:!0},"Don't want to see your tone? ",t.createElement(eC,{onClick:function(){wS.count("tone.footerClick"),e(),i("GButtonMenu")}},"Turn it off")):null})))},QC=({manager:e,...n})=>{const[r,i]=oC(!1),o=$C(e.toneManager),a=T(null),s=e.authService.getClientId();if(!e.toneManager.hasPrimary()&&e.isConnected)e.toneManager.setPrimary(e);else if(!e.toneManager.isPrimary(e))return null;function u(){r&&(i(),a.current?.focus())}if(zC("Escape",(()=>{u()}),[r]),S((()=>{u()}),[o]),o.length<1)return null;const c={zIndex:"1000"},[l]=o,f=t.createElement("span",null,"Tone detected: ",t.createElement("strong",null,l.name)),d=t.createElement(iC,{content:f,position:"left"},t.createElement(qC,{emotion:l,onClick:()=>{r||(wS.count("tone.expand"),wS.track("tonePopupShow",(()=>[s])),i())},ref:a}));return t.createElement("div",{className:[GC.container,GC.visible].join(" "),"data-grammarly-tag":"ToneDetector",part:"tone-detector-container",style:{...c},...n},t.createElement(YE,{active:r,activator:d,onClose:u,options:{position:{offset:{block:8,inline:0}}}},t.createElement(YC,{manager:e,onClose:u})))};nE("rc/UI/highlights/Highlight.css",".highlight{display:contents}.highlight.corrective{--gr-h--color:var(--grammarly-highlight-correction,var(--grammarly-colors-red-50))}.highlight.advanced{--gr-h--color:var(--grammarly-highlight-advanced,var(--grammarly-colors-blue-50))}.highlight.styleguide{--gr-h--color:var(--grammarly-highlight-styleguide,#6d758d)}.highlight>.underline{position:absolute;box-sizing:border-box}.highlight>.underline:before{content:attr(data-id);height:100%;background-color:var(--gr-h--color)}.highlight>.underline:after,.highlight>.underline:before{display:block;width:100%;opacity:0;transition:opacity .25s ease}.highlight>.underline:after{content:\"\";margin-top:-1px}.highlight.corrective>.underline:after,.highlight.styleguide>.underline:after{border-bottom:2px solid var(--gr-h--color)}.highlight.draw>.underline:after{opacity:1}.highlight.advanced>.underline:after{height:100%;background-color:var(--gr-h--color);-webkit-mask:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='6' height='2' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h4v2H0z'/%3E%3C/svg%3E\");-webkit-mask-repeat:repeat-x;mask:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='6' height='2' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h4v2H0z'/%3E%3C/svg%3E\");mask-repeat:repeat-x}.highlight.active>.underline:before,.highlight.hover>.underline:before,.highlight:hover>.underline:before{opacity:.15}");const JC=({manager:e})=>(S((()=>function(){e.highlights.disconnect()}),[]),t.createElement("div",{ref:t=>{null!=t&&e.highlights.connect(t)}}));function ZC(e,t,n){return GE(e,function(e,t,n){return 1===e.children.length?e.children.item(0):Array.from(e.children).find((e=>function(e,t,n){const r=t>=e.left-3&&t<=e.right+3,i=n>=e.top-3&&n<=e.bottom+6;return r&&i}(e.getBoundingClientRect(),t,n)))??e.children.item(0)}(t.target,t.x,t.y),{offset:n,elementAnchor:{inline:"begin",block:"begin"},targetAnchor:{inline:"begin",block:"end"},strategies:{inline:["slide"],block:["flip","slide"]}})}var XC="footer_E7Pcf",ek="logoIcon_2XGm3",tk="defaultFooter_1l5e8",nk="introFooter_B--JD",rk="markSuggestion_1RbkT",ik="markSuggestionPopup_3Mc_G";nE("ponents/PartnerCard.module.css",".footer_E7Pcf{align-items:flex-start;display:flex;justify-content:flex-start;box-sizing:border-box;width:100%;padding:0 12px;font-family:Arial;font-size:13px;line-height:18px;color:#6d758d}.logoIcon_2XGm3{color:#9fa6bf;width:16px;height:auto;margin-right:4px;flex-shrink:0}.defaultFooter_1l5e8{justify-content:flex-end;font-size:11px;line-height:16px;letter-spacing:.01em;color:#9fa6bf}.defaultFooter_1l5e8 .logoIcon_2XGm3{opacity:.75}.introFooter_B--JD{padding:12px 12px 4px;border-top:1px solid #efefef;margin-top:4px}.introFooter_B--JD .logoIcon_2XGm3{margin-right:8px}.markSuggestion_1RbkT{display:inline;position:absolute;bottom:8px;left:148px}.markSuggestion_1RbkT>button{margin:0 8px;background:transparent;border:none;cursor:pointer;height:calc(2px*var(--rem));border-radius:calc(0.25px*var(--rem))}.markSuggestion_1RbkT>button:focus,.markSuggestion_1RbkT>button:hover{background:rgba(34,34,34,.08)}.markSuggestion_1RbkT svg{vertical-align:middle}.markSuggestionPopup_3Mc_G{width:fit-content;background-color:#fff;position:absolute;z-index:9999;left:4px;padding:8px 0;box-shadow:0 0 .5px rgba(0,0,0,.7),0 2px 8px rgba(26,33,52,.2);border-radius:8px}.markSuggestionPopup_3Mc_G>button{display:block;font-family:Arial;font-size:14px;font-style:normal;font-weight:400;line-height:21px;color:#222;letter-spacing:0;padding:7px 16px;cursor:pointer;background:transparent;border:none;width:100%;text-align:left;white-space:nowrap}.markSuggestionPopup_3Mc_G>button:focus,.markSuggestionPopup_3Mc_G>button:hover{background:rgba(34,34,34,.08)}.markSuggestionPopup_3Mc_G>button>svg{margin-right:9px}");const ok=`${eS}.shownCardIntro`,ak={default:()=>t.createElement("div",{className:`${XC} ${tk}`},t.createElement(pE,{className:ek}),t.createElement("span",null,"Suggested by Grammarly")),intro:({config:e})=>(S((()=>function(){localStorage.setItem(ok,"true")}),[]),t.createElement("div",{className:`${XC} ${nk}`},t.createElement(pE,{className:ek}),t.createElement("span",null,e.ui?.introText??"Grammarly helps you write clearly and mistake-free.")))},sk=t.createElement("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM17 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM7 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",fill:"#6D758D"})),uk=t.createElement("svg",{width:"12",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M.5 1v1.5m0 12v-5m0 0h11L8 6l3.5-3.5H.5m0 7v-7",stroke:"#737373"})),ck=({content:e,actions:n,config:r,onIgnore:i})=>{const o="true"===localStorage.getItem(ok)?ak.default:ak.intro,a=2===n.length&&"dismiss"===n[1].action,[s,u]=I(!1);return t.createElement(OE,null,t.createElement("div",{style:{position:"relative",width:"100%"}},e,a&&t.createElement("div",{className:rk},t.createElement("button",{onClick:()=>u((e=>!e)),"aria-label":"show more"},sk,s?t.createElement("div",{className:ik},t.createElement("button",{onClick:()=>i?.(zS.INCORRECT)},uk," Incorrect suggestion"),t.createElement("button",{onClick:()=>i?.(zS.OFFENSIVE)},uk," Offensive content")):null))),t.createElement(o,{config:r}))},lk={width:320};function fk(e){const{alert:n,text:r,config:i,onClose:o,onApply:a,onIgnore:s}=e,u=G_(n,((e,t)=>{const n=rc.unsafeRes(r.slice(e,e+t));return Tb.unsafeGet(n.text)})),c=Tb.unsafeGet(u),l=function(e,t){if("Misspelled"===e)t[2]?.left[0].parts.map((e=>e.text)).join("").includes("your personal dictionary")&&t.splice(2,1);else if("Unknown"===e){const e=t[1]?.left[0];if(e.parts.map((e=>e.text)).join("").includes("your personal dictionary")){const t=e.parts.length-1;e.parts[t].text=e.parts[t].text.replace(/\sYou\scan\sadd\sit\sto\syour\spersonal\sdictionary\sto\sprevent\sfuture\salerts./i,"")}}return t}(n.category,c),f=l[l.length-1].left;return t.createElement("div",{style:lk},t.createElement(ck,{config:i,actions:f,content:t.createElement(Jv,{content:l,designSystem:Dv,notify:e=>{"close"===e.kind?o?.():"accept"===e.kind?a?.(e.alternative):"dismiss"===e.kind&&s?.(zS.UNKNOWN)}}),onIgnore:s}))}var dk="container_3HwLO",hk="visible_3NVFE";nE("ons/SuggestionsCard.module.css",".container_3HwLO{opacity:1;font-family:var(--gr-common-font);border-radius:8px;box-shadow:0 0 1px rgba(14,16,26,.25)}@keyframes visibleAnimation_1ZGcO{0%{opacity:0}}.visible_3NVFE{animation:visibleAnimation_1ZGcO .1s linear;animation-iteration-count:1}");const pk=({activeAlert:e,manager:n,onHide:r,onShow:i,onReposition:o,onExplicitActionTaken:a})=>{const s=T(null);if(S((()=>{if(null!=s.current&&null!=e){const t=ZC(s.current,e,n.config.cards.offsets);s.current.style.top=`${t.top}px`,s.current.style.left=`${t.left}px`,o(t)}})),S((()=>{const e=s.current;null!=e&&(e.classList.add(hk),e.addEventListener("animationend",(()=>e.classList.remove(hk)),{once:!0}))}),[]),S((()=>{const e=()=>r(!0);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),S((()=>{const e=()=>r(!0);return n.textManager.addEventListener("change",e),()=>n.textManager.removeEventListener("change",e)}),[]),null==e||qS(n.status))return null;const{alert:u}=e;return t.createElement("div",{ref:s,style:{position:"fixed",zIndex:9999},onMouseEnter:()=>{setTimeout((()=>{i(e)}))},onMouseLeave:()=>{window.__grammarly_debug||r()},onMouseDown:e=>{e.preventDefault()}},t.createElement("div",{role:"dialog","data-grammarly-tag":"GrammarlyUI",className:`${dk} ${hk}`,key:e.alert.id},t.createElement(fk,{text:n.text,config:n.config,alert:u,onClose:()=>{r(!0)},onApply:async e=>{r(!0);await n.applyAlertReplacement(u,{index:e})&&(n.alerts.removeAlert(u.id),await n.connection.acceptSuggestion(u.id,e),a())},onIgnore:async e=>{r(!0),n.alerts.removeAlert(u.id),await n.connection.rejectSuggestion(u.id,e),a()}})))};const gk=t.forwardRef((({manager:e,children:n},r)=>{!function(e){S((()=>{if(!e.isConnected)return;const{editor:t}=e,n=()=>{e.activate()};return"disabledByExtension"!==(r=e.status)&&"error"!==r?(document.activeElement===t&&"pending"===e.status&&n(),t.addEventListener("focus",n,{capture:!0}),function(){t.removeEventListener("focus",n,{capture:!0})}):void 0;var r}),[e.isConnected,e.status])}(e);const o=function(){const[e,t]=I(null);return{activePopup:e,setActivePopup:t}}(),a=e.config.ui?.showToneDetector??!1,s=iS().showDetectedTone,u=a&&s,c=T(null),[l,f]=I(!1),[d,h]=I(0),p=e.authService.getClientId();S((()=>{const t=e.feedback.shouldRequestUserFeedback(d);f(t)}),[d]);const g=function(e){const[t,n]=I(null),[r,i]=I(null),o=C((()=>Mw(((t=null)=>{if(null!=t&&null==e.alerts.getAlert(t.alert.id)&&(t=null),null==t)e.alerts.setActiveAlert(void 0,"hover"),i(null);else{e.alerts.setActiveAlert(t.alert.id,"hover");const{x:n,y:r}=t;i({x:n,y:r})}}),Pw(250))),[]);S((()=>{const t=e=>{const{alert:t,source:r}=e.detail;t?(n({alert:t,source:r}),o.cancel()):(n(null),o.cancel())};return e.alerts.addEventListener("active",t),function(){e.alerts.removeEventListener("active",t)}}),[]);const a=t?.alert.id,s=null!=a?e.highlights.getHighlight(a)?.element:void 0,u={state:null==t?null:{...t,...r,target:s},show(e,n,r,i){e?.id===t?.alert.id&&n===s?o.cancel():o.queue({alert:e,target:n,x:r,y:i})},hide(t=!1){t?(e.alerts.setActiveAlert(void 0,"hover"),e.highlights.setActiveHighlight(),o.cancel()):o.queue(null)}};return S((()=>{if(!e.isConnected)return;const{highlights:n}=e,r=e=>{const{highlight:t,event:n}=e.detail;u.show(t.alert,t.element,n?.clientX??0,n?.clientY??0)},i=()=>{"manual"!==t?.source&&u.hide()};return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",i),function(){n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",i)}}),[e.isConnected,t]),u}(e),m=e.isConnected,v=!["disabledByUser","disabledByExtension","error"].includes(e.status),y=e.config.collectUserFeedback??!0,_=m?AE:i;return t.createElement(pC,{fallback:t.createElement(t.Fragment,null,n),onError:t=>e.handleFatalError(t),ref:r},t.createElement(bC.Provider,{value:o},n,t.createElement(_,{style:{position:"relative",zIndex:m&&v?null!=g.state?2147483647:e.zIndex??"auto":"auto"},onBlur:t=>{e.toneManager.handleBlur(t.nativeEvent)}},m&&v&&t.createElement(JC,{manager:e}),m&&t.createElement(WC,{manager:e,linkedButtons:v&&u&&t.createElement(QC,{manager:e})}),m&&v&&t.createElement(pk,{activeAlert:g.state,manager:e,onShow:({alert:e,target:t,x:n,y:r})=>{g.show(e,t,n,r)},onReposition:e=>{l?(wS.track("userFeedbackPopupClose",(()=>[p,"suggestionCard"])),f(!1),h(0)):function(e){return null===e||null===c.current||e.top!==c.current.top||e.left!==c.current.left}(e)&&(c.current=e)},onHide:e=>g.hide(e),onExplicitActionTaken:()=>h((e=>e+1))}),m&&v&&y&&l&&t.createElement(TC,{manager:e,initiatedBy:"observedInteraction",position:c.current,onHide:()=>{f(!1),h(0)}}))))}));nE("-editor/src/UI/_style/vars.css",':host{--rem:16;--gr-common-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;--gr-color-neutral-60:#404040;--gr-color-core-yellow-10:#fff1d4;--gr-color-core-yellow-20:#ffdf80;--gr-color-core-yellow-80:#8c5404;--gr-radius0:0;--gr-radius1:8px;--gr-radius2:4px;--gr-radius3:2px;--gr-z100:0 -25px 56px 0 rgba(96,101,123,0.05);--gr-z200:0 1px 8px 0 rgba(96,101,123,0.09);--gr-z300:0 4px 16px 0 rgba(96,101,123,0.24);--gr-z400:0 12px 48px 0 rgba(96,101,123,0.24);--gr-level0:0;--gr-level1:1;--gr-level2:10;--gr-level3:100;--gr-level4:1000;--gr-level5:10000}');let mk=null;const vk={subtree:!1,childList:!0,attributes:!1,characterData:!1},yk=wS.getLogger("editorpluginelement"),_k=new WeakMap;function bk(e){return null==e?null:_k.get(e)??null}class wk extends HTMLElement{static observedAttributes=[];editor;viewport;constructor(){super(),this.attachShadow({mode:"open"}),this._createManager()}isUsingManualConnect=!1;editorDetector=new MutationObserver((e=>{const t=bk(this);if(null!=t&&this._shouldAutoDetectEditor()&&(!t.isConnected||!this.contains(t.editor))){const e=t.isConnected;!this._connect()&&e&&(t.disconnect(),this._startWatchingSubTree())}}));set clientId(e){this.setAttribute("clientId",e),this._createManager(),this._render()}get clientId(){return this.getAttribute("clientId")??this.getAttribute("client-id")??""}_config;get config(){return this._config??{}}set config(e){this._config=e;const t=bk(this);null!=t&&(t.setConfig(e),this._render())}connect(e,t){this.isUsingManualConnect=!0;const n=bk(this);null!=n&&n.connect(e,t),this._render()}connectedCallback(){if(this._startWatchingSubTree(),this._upgradeProperty("config"),this._upgradeProperty("clientId"),""===this.clientId)try{this.setAttribute("clientId",eE())}catch{}this._createManager(),this.editor&&(this.connect(this.editor,this.viewport),this.editor=void 0,this.viewport=void 0),this._render()}disconnectedCallback(){this.editorDetector.disconnect();try{N.render([],this.shadowRoot)}catch{}bk(this)?.disconnect(),_k.delete(this)}adoptedCallback(){this._tryAutoConnect()}attributeChangedCallback(){this._render()}_upgradeProperty(e){if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this[e]=t}}_updateStyle(){const e=bk(this);if(null!=e?.rootStyles){const t=e.rootStyles;for(let e=0;e<t.length;++e){const n=t.item(e),r=t.getPropertyValue(n);this.style.getPropertyValue(n)!==r&&this.style.setProperty(n,r)}}}_render(){const e=bk(this);null!=e?(this._updateStyle(),N.render(t.createElement(t.Fragment,null,t.createElement("style",null,function(){const e=["/* theme styles */",oE,"/* extracted styles */",Object.values(tE).join("\n"),"/* denali styles */",cx.textContent].filter(Boolean).join("\n");return null==mk&&(mk=document.createElement("style"),mk.textContent=e),mk.textContent!==e&&(mk.textContent=e),mk}().textContent),t.createElement(gk,{manager:e,ref:e=>{null!=e&&setTimeout((()=>{this._tryAutoConnect()}),0)}},t.createElement("slot",null))),this.shadowRoot),this._tryAutoConnect()):N.render(t.createElement(t.Fragment,null,t.createElement("slot",null)),this.shadowRoot)}_tryAutoConnect=()=>{null!=bk(this)&&this._shouldAutoDetectEditor()&&this._connect()};_startWatchingSubTree(){this.editorDetector.disconnect(),this.editorDetector.observe(this,{...vk,subtree:!0})}_startWatchingEditor(){const e=bk(this);if(!0===e?.isConnected){const t=e.editor.parentElement;null!=t&&(this.editorDetector.disconnect(),this.editorDetector.observe(t,vk))}}_connect(){const e=this.querySelectorAll("textarea, input, [contenteditable]"),t=Array.from(e).filter(dw),n=t[0];t.length>1&&console.warn(this,"contains multiple editors:",t,"\nUsing first:",n);const r=bk(this);return null!=n&&null!=r&&(r.isConnected&&r.editor===n||(yk.debug("Autoconnecting for",t),r.connect(n),this._startWatchingEditor()),!0)}_createManager(){const e=this.clientId;if(""!==e){if(bk(this)?.clientId!==e){if(!hx())return wS.count("unsupported.hover"),void mx(vx);if(dx())return wS.count("unsupported.touchMobile"),void mx(vx);const t=new Jx(e,this);this._config&&t.setConfig(this._config),t.addEventListener("connected",(()=>this._render())),t.addEventListener("disconnected",(()=>this._render())),t.addEventListener("status",(()=>this._render())),_k.set(this,t)}}}_shouldAutoDetectEditor(){if(this.isUsingManualConnect||!this.isConnected)return!1;const e=this.getAttribute("autodetect");return"off"!==e&&"false"!==e}}gx()?customElements.define(RS,wk):mx(vx);const Sk=new WeakMap;class xk{_scope=new Cw;_plugin;get isConnected(){return null!=this._plugin}static create(e){let t=Sk.get(e.plugin);return null==t&&(t=new xk(e),Sk.set(e.plugin,t)),t}constructor({plugin:e,manager:t,editor:n,viewport:r=n}){this._plugin=e,this._scope.run((()=>(e.connect(n,r),r.replaceWith(e),e.appendChild(r),"grammarly"in n.dataset||t.connection.resume(),()=>{t.disconnect(),e.replaceWith(r),this._plugin=void 0})))}disconnect(){this._scope.dispose()}async handleOAuthCallback(e){const{searchParams:t}=new URL(e),n=t.get("code"),r=bk(this._plugin);if(null==r)throw new aw(aw.codes.EDITOR_UNINITIALIZED);const i=r.authService.state.activeRequest?.codeVerifier;if(null==i||null==n)throw new aw(aw.codes.OAUTH_INVALID_REQUEST);try{await r.authService.handleOAuthCallback({code:n,codeVerifier:i})}finally{r.authService.setActiveOAuthRequest(null)}}}class Ek{clientId;config;constructor(e=eE(),t={}){if(window.parent!==window&&"null"===window.origin)throw wS.count("error.data_iframe.attempted"),new Error("Grammarly is not supported in IFrames with null origin");this.clientId=e,this.config=t}withElement(e,t){const n=e.closest(RS)??document.createElement(RS);n.clientId=this.clientId;const r=bk(n);if(null==r)throw new aw(aw.codes.EDITOR_MISSING_CLIENT_ID);return r.styleMode="auto",r.setConfig(this.config),null!=t&&r.setConfig(t),xk.create({plugin:n,editor:e,manager:r})}withQuerySelector(e,t){Array.from(document.querySelectorAll(e)).filter(dw).forEach((e=>{this.withElement(e,t)}))}withText(e){throw new Error("Not implemented")}}try{const e=new Ek(eE());null!=document.body?e.withQuerySelector("[data-grammarly]"):document.addEventListener("load",(()=>{e.withQuerySelector("[data-grammarly]")}),{once:!0})}catch(e){}e.EditorFactory=Ek,e.version="1.3.5",Object.defineProperty(e,"__esModule",{value:!0})}(this.Grammarly=this.Grammarly||{});
